!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("path")):"function"==typeof define&&define.amd?define(["exports","path"],t):t(e.paperclip={},e.path)}(this,function(e,t){"use strict";function n(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}const u=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};!function(e){e[e.STRING=0]="STRING",e[e.BLOCK=1]="BLOCK",e[e.STRING_BLOCK=2]="STRING_BLOCK",e[e.ELEMENT=3]="ELEMENT",e[e.SELF_CLOSING_ELEMENT=4]="SELF_CLOSING_ELEMENT",e[e.TEXT_NODE=5]="TEXT_NODE",e[e.COMMENT=6]="COMMENT",e[e.ATTRIBUTE=7]="ATTRIBUTE",e[e.START_TAG=8]="START_TAG",e[e.BLOCK_STRING=9]="BLOCK_STRING",e[e.FRAGMENT=10]="FRAGMENT",e[e.END_TAG=11]="END_TAG"}(e.PCExpressionType||(e.PCExpressionType={})),function(e){e.TYPE="TYPE",e.BIND="BIND",e.IF="IF",e.STRING="STRING",e.OBJECT="OBJECT",e.ARRAY="ARRAY",e.KEY_VALUE_PAIR="KEY_VALUE_PAIR",e.NUMBER="NUMBER",e.PROPERTY="PROPERTY",e.RESERVED_KEYWORD="RESERVED_KEYWORD",e.ELSEIF="ELSEIF",e.NOT="NOT",e.OPERATION="OPERATION",e.GROUP="GROUP",e.VAR_REFERENCE="VAR_REFERENCE",e.PROP_REFERENCE="PROP_REFERENCE",e.ELSE="ELSE",e.REPEAT="REPEAT"}(e.BKExpressionType||(e.BKExpressionType={})),function(e){e[e.SHEET=0]="SHEET",e[e.DECLARATION_PROPERTY=1]="DECLARATION_PROPERTY",e[e.STYLE_RULE=2]="STYLE_RULE",e[e.AT_RULE=3]="AT_RULE",e[e.IMPORT=4]="IMPORT",e[e.CHARSET=5]="CHARSET"}(e.CSSExpressionType||(e.CSSExpressionType={})),function(e){e.COLOR="COLOR",e.CALL="CALL",e.MEASUREMENT="MEASUREMENT",e.SPACED_LIST="SPACED_LIST",e.COMMA_LIST="COMMA_LIST",e.KEYWORD="KEYWORD",e.LIST="LIST"}(e.DcExpressionType||(e.DcExpressionType={}));var o=function(t){return t.type==e.PCExpressionType.SELF_CLOSING_ELEMENT?[]:t.childNodes},a=function(t){return t.type==e.PCExpressionType.SELF_CLOSING_ELEMENT?t.name:t.startTag.name},c=function(e){return e.value.value},s=function(e){return S(e).attributes},l=function(e){return S(e).modifiers},f=function(t){return t.type===e.PCExpressionType.ELEMENT||t.type===e.PCExpressionType.ELEMENT||t.type===e.PCExpressionType.START_TAG||t.type===e.PCExpressionType.END_TAG||t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT},p=function(t,n){return O(t,function(t){return t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT?n(t):t.type===e.PCExpressionType.ELEMENT&&n(t.startTag)})},d=function(t){return t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT||t.type==e.PCExpressionType.START_TAG?t:t.startTag},h=function(e,t){if(E(e,t)){var n=d(e).attributes.find(function(e){return e.name===t});return n&&n.value&&n.value.value}},E=function(t,n){return(t.type===e.PCExpressionType.ELEMENT||t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT||t.type===e.PCExpressionType.START_TAG)&&Boolean(d(t).attributes.find(function(e){return e.name===n}))},v=function(t){return O(t,function(t){return t.type===e.PCExpressionType.ELEMENT&&"style"===t.startTag.name})},y=function(t){return O(t,function(t){return t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT&&"link"===t.name&&"stylesheet"===h(t,"rel")})},T=function(e){return v(e).concat(y(e))},_=function(e){return C(e,"meta")},g=function(e){var t=_(e).find(function(e){return Boolean(h(e,"name"))});return t&&h(t,"content")},m=function(e,t,n){if(void 0===n&&(n=[]),!1===t(e,n))return!1;if(e.childNodes)for(var r=e,i=0,u=r.childNodes.length;i<u;i++){var o=r.childNodes[i];if(!1===m(o,t,n.concat(["childNodes",i])))return!1}},S=function(t){return t.type===e.PCExpressionType.ELEMENT?t.startTag:t},N=function(e,t){return S(e).modifiers.find(function(e){return e.value.type===t})},R=function(e,t){var n;return m(t,function(t,r){if(t===e)return n=r,!1}),n},O=function(e,t){var n=[];return m(e,function(e){t(e)&&n.push(e)}),n},C=function(e,t){return p(e,function(e){return e.name===t})},A=function(t,n){return O(t,function(t){return t.childNodes&&t.childNodes.find(function(t){return t===n||n.type===e.PCExpressionType.START_TAG&&t.type===e.PCExpressionType.ELEMENT&&t.startTag===n})})[0]},b=function(e){var t=[];return m(e,function(e){f(e)&&-1===t.indexOf(S(e).name)&&t.push(S(e).name)}),t};!function(e){e.WARNING="WARNING",e.ERROR="ERROR"}(e.DiagnosticType||(e.DiagnosticType={}));var x,M=function(e,t){for(var n=e.location,r=(e.filePath,e.message+"\n\n"),i=t.split("\n").slice(n.start.line-1,n.end.line).map(function(e){return e+"\n"}),u=0,o=i.length;u<o;u++)r+=n.start.line+u+"| "+i[u];return r},L=function(t){return Boolean(t.find(function(t){return t.type===e.DiagnosticType.ERROR}))},I=function(e,t,n){return{type:e,pos:t,value:n}},w={},P=function(e){if(w[e])return w[e];var t=1,n=0,r={};return(e+" ").split("").forEach(function(e,i){r[i]=[n,t],"\n"===e&&(n=0,t++),n++}),w[e]=r},U=function(e,t){var n="number"==typeof e?e:e.pos,r=P(t)[n];return{column:r[0],line:r[1],pos:n}},D=function(e,t,n){return{start:e.line?e:U(e,n),end:t&&t.line?t:U(t||n.length,n)}},V=function(e,t){return D(e,e.pos+e.value.length,t)},B=function(e){var t=Symbol();return function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return n[t]?n[t]:n[t]=e.apply(void 0,[n].concat(r))}},j=function(e,t){if(Array.isArray(e))e.forEach(t);else for(var n in e)t(e[n],n)},k=function(e){return/pc$/.test(e)},Y=function(e){return/css$/.test(e)},F=function(){function e(e){this._target=e,this.pos=0,this.length=e.length}return e.prototype.curr=function(){return this._target[this.pos]},e.prototype.shift=function(){var e=this._target[this.pos];return this.next(),e},e.prototype.hasNext=function(){return this.pos<this.length-1},e.prototype.next=function(){return this._target[Math.min(this.pos=this.pos+1,this.length)]},e.prototype.prev=function(){return this._target[Math.max(this.pos=this.pos-1,0)]},e.prototype.ended=function(){return this.pos>=this.length},e}(),K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.scan=function(e){for(var t="";this.pos<this.length;){var n=this._target[this.pos];if(!n.match(e))break;t+=n,this.pos++}return t},t.prototype.match=function(e){var t=this._target.substr(this.pos),n=t.match(e);if(n){var r=n[0];return this.pos+=t.indexOf(r)+r.length,r}return null},t.prototype.peek=function(e){return this._target.substr(this.pos,e)},t.prototype.take=function(e){var t=this._target.substr(this.pos,e);return this.pos+=e,t},t}(F),G=function(e){function t(t,n){var r=e.call(this,n)||this;return r.source=t,r}return n(t,e),t.prototype.peek=function(e){return void 0===e&&(e=1),this._target[this.pos+e]},t.prototype.peekUntil=function(e){for(var t=this.pos;t<this.length-1;)if(e(this._target[++t]))return this._target[t]},t.prototype.curr=function(){return e.prototype.curr.call(this)},t.prototype.next=function(){return e.prototype.next.call(this)},t}(F);!function(e){e[e.LESS_THAN=0]="LESS_THAN",e[e.LESS_THAN_OR_EQUAL=1]="LESS_THAN_OR_EQUAL",e[e.CLOSE_TAG=2]="CLOSE_TAG",e[e.COMMA=3]="COMMA",e[e.GREATER_THAN=4]="GREATER_THAN",e[e.GREATER_THAN_OR_EQUAL=5]="GREATER_THAN_OR_EQUAL",e[e.COMMENT=6]="COMMENT",e[e.BACKSLASH=7]="BACKSLASH",e[e.PERIOD=8]="PERIOD",e[e.BANG=9]="BANG",e[e.AND=10]="AND",e[e.OR=11]="OR",e[e.PLUS=12]="PLUS",e[e.COLON=13]="COLON",e[e.SEMICOLON=14]="SEMICOLON",e[e.QUESTION_MARK=15]="QUESTION_MARK",e[e.MINUS=16]="MINUS",e[e.NUMBER=17]="NUMBER",e[e.AT=18]="AT",e[e.STAR=19]="STAR",e[e.PERCENT=20]="PERCENT",e[e.PAREN_OPEN=21]="PAREN_OPEN",e[e.PAREN_CLOSE=22]="PAREN_CLOSE",e[e.DOUBLE_EQUALS=23]="DOUBLE_EQUALS",e[e.TRIPPLE_EQUELS=24]="TRIPPLE_EQUELS",e[e.NOT_EQUALS=25]="NOT_EQUALS",e[e.NOT_DOUBLE_EQUALS=26]="NOT_DOUBLE_EQUALS",e[e.BRACKET_OPEN=27]="BRACKET_OPEN",e[e.BRACKET_CLOSE=28]="BRACKET_CLOSE",e[e.CURLY_BRACKET_OPEN=29]="CURLY_BRACKET_OPEN",e[e.CURLY_BRACKET_CLOSE=30]="CURLY_BRACKET_CLOSE",e[e.EQUALS=31]="EQUALS",e[e.SINGLE_QUOTE=32]="SINGLE_QUOTE",e[e.HASH=33]="HASH",e[e.DOUBLE_QUOTE=34]="DOUBLE_QUOTE",e[e.TEXT=35]="TEXT",e[e.RESERVED_KEYWORD=36]="RESERVED_KEYWORD",e[e.WHITESPACE=37]="WHITESPACE"}(x||(x={}));var H=function(e){for(var t=new K(e),n=[];!t.ended();){var r=t.curr(),i=void 0;if("<"===r){a=t.pos;if("</"===t.peek(2))i=I(x.CLOSE_TAG,a,t.take(2));else if("\x3c!--"===t.peek(4)){for(var u=t.take(4);!t.ended();){var o=t.curr();if("-"===o&&"--\x3e"===t.peek(3)){u+=t.take(3);break}t.next(),u+=o}i=I(x.COMMENT,a,u)}else i="<="===t.peek(2)?I(x.LESS_THAN_OR_EQUAL,t.pos,t.take(2)):I(x.LESS_THAN,t.pos,t.shift())}else if("&"===r&&"&&"===t.peek(2))i=I(x.AND,t.pos,t.take(2));else if("|"===r&&"||"===t.peek(2))i=I(x.OR,t.pos,t.take(2));else if(">"===r)i=">="===t.peek(2)?I(x.GREATER_THAN_OR_EQUAL,t.pos,t.take(2)):I(x.GREATER_THAN,t.pos,t.shift());else if("="===r)i="==="===t.peek(3)?I(x.TRIPPLE_EQUELS,t.pos,t.take(3)):"=="===t.peek(2)?I(x.DOUBLE_EQUALS,t.pos,t.take(2)):I(x.EQUALS,t.pos,t.shift());else if(":"===r)i=I(x.COLON,t.pos,t.shift());else if("?"===r)i=I(x.QUESTION_MARK,t.pos,t.shift());else if(";"===r)i=I(x.SEMICOLON,t.pos,t.shift());else if("@"===r)i=I(x.AT,t.pos,t.shift());else if(","===r)i=I(x.COMMA,t.pos,t.shift());else if("'"===r)i=I(x.SINGLE_QUOTE,t.pos,t.shift());else if("#"===r)i=I(x.HASH,t.pos,t.shift());else if("!"===r)i="!=="===t.peek(3)?I(x.NOT_DOUBLE_EQUALS,t.pos,t.take(3)):"!="===t.peek(2)?I(x.NOT_EQUALS,t.pos,t.take(2)):I(x.BANG,t.pos,t.shift());else if("/"===r){if("/*"===t.peek(2)){t.match(/.*?\*\//);continue}i=I(x.BACKSLASH,t.pos,t.shift())}else if("."===r)i=/\.\d/.test(t.peek(2))?$(t):I(x.PERIOD,t.pos,t.shift());else if('"'===r)i=I(x.DOUBLE_QUOTE,t.pos,t.shift());else if("+"===r)i=I(x.PLUS,t.pos,t.shift());else if("-"===r)i=/\-\d/.test(t.peek(2))?$(t):I(x.MINUS,t.pos,t.shift());else if("*"===r)i=I(x.STAR,t.pos,t.shift());else if("%"===r)i=I(x.PERCENT,t.pos,t.shift());else if("["===r)i=I(x.BRACKET_OPEN,t.pos,t.shift());else if("]"===r)i=I(x.BRACKET_CLOSE,t.pos,t.shift());else if("("===r)i=I(x.PAREN_OPEN,t.pos,t.shift());else if(")"===r)i=I(x.PAREN_CLOSE,t.pos,t.shift());else if("{"===r)i=I(x.CURLY_BRACKET_OPEN,t.pos,t.shift());else if("}"===r)i=I(x.CURLY_BRACKET_CLOSE,t.pos,t.shift());else if(/\d/.test(r))i=$(t);else if(/[\s\r\n\t]/.test(r))i=I(x.WHITESPACE,t.pos,t.scan(/[\s\r\n\t]/));else{var a=t.pos,c=t.scan(/[^-<>,='":@;\.\/\?\\(){}\[\]\s\r\n\t]/)||t.shift();i=I("undefined"===c||"null"===c||"true"===c||"false"===c?x.RESERVED_KEYWORD:x.TEXT,a,c)}n.push(i)}return new G(e,n)},$=function(e){return I(x.NUMBER,e.pos,e.match(/^\-?(\d+(\.\d+)?|\.\d+)/))},W="undefined"!=typeof window&&window.cache?window.cache.parseModuleSource||(window.cache.parseModuleSource={}):{},z=function(e,t){if(W[e])return W[e];var n,r={source:e,filePath:t,scanner:H(e),diagnostics:[]};if(!t||k(t))n=X(r);else{if(!Y(t))throw new Error("Cannot parse "+t+" type.");n=Se(r)}return W[e]={root:n&&u({},n,{input:e}),diagnostics:r.diagnostics}},Q=function(e,t){if(W[e])return W[e];var n={source:e,scanner:H(e),filePath:t,diagnostics:[]},r=Se(n);return W[e]={root:r,diagnostics:n.diagnostics}},X=function(t){for(var n=t.scanner,r=[];!n.ended();){var i=q(t);if(!i)return null;r.push(i)}return 1===r.length?r[0]:{type:e.PCExpressionType.FRAGMENT,location:D(0,n.source.length,n.source),childNodes:r}},q=function(e){if(!je(e))return null;var t=e.scanner;switch(t.curr().type){case x.WHITESPACE:return Pe(e);case x.LESS_THAN:return Ae(e);case x.CLOSE_TAG:return Ce(e);case x.COMMENT:return ge(e);default:return me(t)?J(e,ee):Pe(e)}},J=function(t,n){var r=t.scanner,i=r.curr();r.next(),r.next(),Ue(t);var u=n(t);return u?(Ue(t),ke(t,[x.BRACKET_CLOSE],null,D(i,r.curr(),t.source))?(r.next(),ke(t,[x.BRACKET_CLOSE],"Missing closing ] character.",V(i,t.source))?(r.next(),{type:e.PCExpressionType.BLOCK,location:D(i,r.curr(),r.source),value:u}):null):null):null},Z=function(t){var n=t.scanner;switch(n.curr().value){case"bind":return de(t);case"repeat":return ve(t);case"if":return Ee(t,e.BKExpressionType.IF,!0);case"elseif":return Ee(t,e.BKExpressionType.ELSEIF,!0);case"else":return Ee(t,e.BKExpressionType.ELSE);case"property":return he(t,e.BKExpressionType.PROPERTY);default:return Be(t,"Unexpected block type "+n.curr().value+"."),null}},ee=function(e){var t=e.scanner;switch(t.curr().value){case"bind":return de(e);case"elseif":case"else":case"if":return Be(e,"Condition blocks can only be added to elements, for example: <div [[if condition]]></div>."),null;case"repeat":return Be(e,"Repeat blocks can only be added to elements, for example: <div [[repeat items in item, i]]></div>."),null;default:return Be(e,"Unexpected block type "+t.curr().value+"."),null}},te=function(e){var t=e.scanner;switch(t.curr().value){case"bind":return de(e);case"elseif":case"else":case"if":return Be(e,"Condition blocks cannot be assigned to attributes."),null;case"repeat":return Be(e,"Repeat blocks cannot be assigned to attributes."),null;default:return Be(e,"Unexpected block type "+t.curr().value+"."),null}},ne=function(e){return ie(e)},re=function(e){return"*"===e||"/"===e},ie=function(t){if(!je(t))return null;var n=t.scanner,r=ue(t);if(Ue(t),!r)return null;var i=n.curr(),o=i?i.type:-1;if(!(o===x.AND||o===x.OR||o==x.PLUS||o===x.MINUS||o===x.STAR||o===x.BACKSLASH||o===x.DOUBLE_EQUALS||o===x.TRIPPLE_EQUELS||o===x.GREATER_THAN||o===x.LESS_THAN||o===x.LESS_THAN_OR_EQUAL||o===x.GREATER_THAN_OR_EQUAL||o===x.NOT_EQUALS||o===x.NOT_DOUBLE_EQUALS))return r;n.next(),Ue(t);var a=ie(t);if(!a)return null;var c={type:e.BKExpressionType.OPERATION,left:r,right:a,operator:i.value,location:D(r.location.start,a.location.end,n.source)};if(a.type===e.BKExpressionType.OPERATION&&re(i.value)){var s=a;c=u({},s,{left:u({},c,{right:s.left})})}return c},ue=function(e){var t=e.scanner;switch(Ue(e),t.curr().type){case x.BANG:return _e(e);case x.SINGLE_QUOTE:case x.DOUBLE_QUOTE:return oe(e);case x.NUMBER:return ae(e);case x.CURLY_BRACKET_OPEN:return ce(e);case x.BRACKET_OPEN:return se(e);case x.PAREN_OPEN:return fe(e);case x.TEXT:return ye(e);case x.RESERVED_KEYWORD:return pe(e);default:return Be(e),null}},oe=function(t){var n=t.scanner,r=n.curr();n.next();for(var i="";!n.ended();){var u=n.curr();if(u.value===r.value)break;"\\"!==u.value?(i+=u.value,n.next()):(i+=u.value,i+=n.next().value,n.next())}return Ie(t,r)?(n.next(),{type:e.BKExpressionType.STRING,location:D(r,n.curr(),n.source),value:i}):null},ae=function(t){var n=t.scanner,r=n.curr();return n.next(),{type:e.BKExpressionType.NUMBER,value:r.value,location:D(r,n.curr(),n.source)}},ce=function(t){var n=t.scanner,r=n.curr();n.next();for(var i=[];;){if(!Ue(t))break;if(n.curr().type===x.CURLY_BRACKET_CLOSE)break;var u=le(t);if(!u)return null;if(i.push(u),!Ue(t))break;var o=n.curr();if(o.type!==x.CURLY_BRACKET_CLOSE){if(o.type!==x.COMMA&&o)return Be(t),null;n.next()}}return n.next(),{type:e.BKExpressionType.OBJECT,location:D(r,n.curr(),n.source),properties:i}},se=function(t){var n=t.scanner,r=n.curr();n.next(),Ue(t);var i=[];if(n.curr().type!==x.BRACKET_CLOSE)for(;;){var u=ue(t);if(!u)return null;if(i.push(u),!Ue(t))break;if(n.curr().type===x.BRACKET_CLOSE)break;if(!ke(t,[x.COMMA],null,D(r,n.curr(),t.source)))return null;n.next()}return n.next(),{type:e.BKExpressionType.ARRAY,location:D(r,n.curr(),n.source),values:i}},le=function(t){var n,r=t.scanner;switch(r.curr().type){case x.SINGLE_QUOTE:case x.DOUBLE_QUOTE:n=oe(t);break;default:n=Te(t)}if(Ue(t),!ke(t,[x.COLON],"Missing : for object."))return null;r.next(),Ue(t);var i=ne(t);return i?{type:e.BKExpressionType.KEY_VALUE_PAIR,location:D(n.location.start,i.location.end,r.source),key:n.name,value:i}:null},fe=function(t){var n=t.scanner,r=n.curr();n.next();var i=ne(t);return n.next(),{type:e.BKExpressionType.GROUP,value:i,location:D(r,n.curr(),n.source)}},pe=function(t){var n=t.scanner,r=n.curr();return n.next(),{type:e.BKExpressionType.RESERVED_KEYWORD,value:r.value,location:D(r,n.curr(),n.source)}},de=function(t){var n=t.scanner,r=n.curr();n.next(),n.next(),t.startToken=r;var i=ne(t);return t.startToken=void 0,i?{type:e.BKExpressionType.BIND,value:i,location:D(r,n.curr(),n.source)}:null},he=function(e,t){var n=e.scanner,r=n.curr();return n.next(),n.next(),{type:t,name:Te(e).name,location:D(r,n.curr(),n.source)}},Ee=function(e,t,n){var r=e.scanner,i=r.curr();r.next(),Ue(e);var u=null;return r.curr().type===x.BRACKET_CLOSE||(u=ne(e))?n&&!u?(Be(e,"Missing condition.",D(i,r.curr(),e.source)),null):{type:t,condition:u,location:D(i,r.curr(),r.source)}:null},ve=function(t){var n=t.scanner,r=n.curr();n.next(),Ue(t);var i=ne(t);if(Ue(t),!ke(t,[x.TEXT],null,D(r,n.curr(),t.source)))return null;if("as"!==n.curr().value)return Be(t,'Repeat block missing "as" keyword.',D(r,n.curr(),t.source)),null;if(n.next(),Ue(t),!ke(t,[x.TEXT],null,D(r,n.curr(),t.source)))return null;var u,o=Te(t);if(Ue(t),","===n.curr().value){if(n.next(),Ue(t),!ke(t,[x.TEXT],"Unexpected token. Repeat index parameter should only contain characters a-zA-Z.",D(r,n.curr(),t.source)))return null;u=Te(t)}return{type:e.BKExpressionType.REPEAT,location:D(r,n.curr(),n.source),each:i,asKey:u,asValue:o}},ye=function(t){for(var n=t.scanner,r=Te(t),i=[r];!n.ended()&&n.curr().type===x.PERIOD;){if(n.next(),!ke(t,[x.TEXT]))return null;i.push(Te(t))}return 1===i.length?i[0]:{type:e.BKExpressionType.PROP_REFERENCE,path:i,location:D(r.location.start,n.curr(),n.source)}},Te=function(t){var n=t.scanner;Ue(t);var r=n.curr();n.next();var i=!1;return n.curr()&&n.curr().type===x.QUESTION_MARK&&(i=!0,n.next()),{type:e.BKExpressionType.VAR_REFERENCE,name:r.value,optional:i,location:D(r,n.curr(),n.source)}},_e=function(t){var n=t.scanner,r=n.curr();return n.next(),{type:e.BKExpressionType.NOT,value:ue(t),location:D(r,n.curr(),n.source)}},ge=function(t){var n=t.scanner,r=n.curr();return n.next(),{type:e.PCExpressionType.COMMENT,value:r.value.substr(4,r.value.length-7),location:D(r,n.curr(),n.source)}},me=function(e){return e.curr().type===x.BRACKET_OPEN&&e.peek(1).type===x.BRACKET_OPEN},Se=function(t){for(var n=t.scanner,r=n.curr(),i=[];;){if(Ue(t),n.ended()||n.curr().type===x.CLOSE_TAG)break;var u=Ne(t);if(!u)return null;i.push(u)}return{type:e.CSSExpressionType.SHEET,children:i,location:D(r,n.curr(),n.source)}},Ne=function(e){switch(e.scanner.curr().type){case x.AT:return Re(e);default:return Oe(e)}},Re=function(t){var n=t.scanner,r=n.curr();n.next();for(var i="";n.curr().type!==x.WHITESPACE&&n.curr().type!==x.CURLY_BRACKET_OPEN;)i+=n.curr().value,n.next();n.next();var u=[],o=[];for(Ue(t);!n.ended()&&n.curr().type!==x.CURLY_BRACKET_OPEN&&n.curr().type!==x.SEMICOLON;)n.curr().type===x.SINGLE_QUOTE||n.curr().type===x.DOUBLE_QUOTE?u.push(oe(t).value):(u.push(n.curr().value),n.next());var a=n.curr();if(!ke(t,[x.SEMICOLON,x.CURLY_BRACKET_OPEN]))return null;if(n.next(),a.type===x.CURLY_BRACKET_OPEN){for(;!n.ended()&&(Ue(t),n.curr().type!==x.CURLY_BRACKET_CLOSE);){var c=Ne(t);if(!c)return null;o.push(c)}if(!ke(t,[x.CURLY_BRACKET_CLOSE],"Missing closing } character.",V(r,t.source)))return null;n.next()}return{type:e.CSSExpressionType.AT_RULE,name:i,params:u,children:o,location:D(r,n.curr(),n.source)}},Oe=function(t){for(var n=t.scanner,r=n.curr(),i="";!n.ended();){var u=n.curr();if(u.type==x.CURLY_BRACKET_OPEN||u.type===x.SEMICOLON||u.type===x.CURLY_BRACKET_CLOSE||u.type===x.CLOSE_TAG)break;if(u.type===x.SINGLE_QUOTE||u.type===x.DOUBLE_QUOTE){var o=oe(t);if(!o)return null;i+=u.value+o.value+u.value}else i+=u.value,n.next()}if(!ke(t,[x.SEMICOLON,x.CURLY_BRACKET_OPEN,x.CURLY_BRACKET_CLOSE]))return null;if(n.curr().type===x.SEMICOLON||n.curr().type===x.CURLY_BRACKET_CLOSE){var a=i.match(/(.+?):(.+)/)||[null,null,null],c=a[1],s=a[2];return c?s.trim()?(n.curr().type===x.SEMICOLON&&n.next(),{type:e.CSSExpressionType.DECLARATION_PROPERTY,location:D(r,n.curr(),n.source),name:c,value:s}):(Be(t,"Missing declaration value",V(r,t.source)),null):(Be(t,null,V(r,t.source)),null)}n.next();var l=[];for(Ue(t);!n.ended()&&n.curr().type!==x.CURLY_BRACKET_CLOSE;){var f=Oe(t);if(!f)return null;l.push(f),Ue(t)}return ke(t,[x.CURLY_BRACKET_CLOSE],"Missing closing } character.",V(r,t.source))?(n.next(),i=i.trim(),{type:e.CSSExpressionType.STYLE_RULE,children:l,selectorText:i,location:D(r,n.curr(),n.source)}):null},Ce=function(t){var n=t.scanner,r=n.curr();n.next();var i=De(t);return i?ke(t,[x.GREATER_THAN],"Missing > character.",D(r,n.curr(),t.source))?(n.next(),{type:e.PCExpressionType.END_TAG,name:i,location:D(r,n.curr(),n.source)}):null:(Be(t,"Missing close tag name.",V(r,t.source)),null)},Ae=function(t){var n=t.scanner,r=n.curr();n.next();var i=De(t);if(!i)return Be(t,"Missing open tag name.",V(r,t.source)),null;if(!n.ended()&&!ke(t,[x.WHITESPACE,x.GREATER_THAN],'Tag name contains a character where " " or > is expected.',V(r,t.source)))return null;Ue(t);for(var u=[],o=[];;){if(!Ue(t))break;var a=n.curr();if(a.type===x.BACKSLASH||a.type==x.GREATER_THAN)break;if(me(n)){var c=J(t,Z);if(!c)return null;o.push(c)}else{if(a.type!==x.TEXT)return Be(t),null;var s=Me(t);if(!s)return null;u.push(s)}}if(!je(t))return null;if(n.curr().type===x.BACKSLASH)return n.next(),n.next(),{type:e.PCExpressionType.SELF_CLOSING_ELEMENT,name:i,attributes:u,modifiers:o,location:D(r,n.curr(),n.source)};n.next();var l=n.curr(),f=be(i,t);if(!f)return null;var p=f[0],d=f[1];return d?{type:e.PCExpressionType.ELEMENT,startTag:{name:i,type:e.PCExpressionType.START_TAG,location:D(r,l,n.source),modifiers:o,attributes:u},childNodes:p,location:D(r,n.curr(),n.source),endTag:d}:(Be(t,"Close tag is missing.",D(r,l,t.source)),null)},be=function(t,n){var r=n.scanner,i=[];if("style"===t){var u=Se(n);if(!u)return null;if(Ue(n),!ke(n,[x.CLOSE_TAG]))return null;var o=Ce(n);return o?[[u],o]:null}if("style"===t||"script"===t){for(var a="",c=r.curr();!r.ended()&&r.curr().type!==x.CLOSE_TAG;)a+=r.curr().value,r.next();return[[{type:e.PCExpressionType.TEXT_NODE,value:a,location:D(c,r.curr(),r.source)}],q(n)]}for(var s;!r.ended();){var l=q(n);if(!l)return null;if(l.type===e.PCExpressionType.END_TAG){s=l;break}i.length&&i[i.length-1];i.push(l)}return i=i.filter(function(t,n,r){var i=r[n-1],u=r[n+1];return!((!i||i.type===e.PCExpressionType.ELEMENT||i.type===e.PCExpressionType.SELF_CLOSING_ELEMENT)&&t.type===e.PCExpressionType.TEXT_NODE&&/^[\s\r\n\t]+$/.test(t.value)&&(!u||u.type===e.PCExpressionType.ELEMENT||u.type===e.PCExpressionType.SELF_CLOSING_ELEMENT))}),[i,s]},xe=function(e){return e.curr()&&e.curr().type},Me=function(t){var n,r=t.scanner,i=r.curr(),u=De(t);return xe(r)!==x.EQUALS||(r.next(),n=Le(t))?{type:e.PCExpressionType.ATTRIBUTE,name:u,value:n,location:D(i,r.curr(),r.source)}:null},Le=function(e){if(!je(e))return null;var t=e.scanner;switch(xe(t)){case x.SINGLE_QUOTE:case x.DOUBLE_QUOTE:return we(e);default:return me(t)?J(e,te):(Be(e),null)}},Ie=function(e,t){return ke(e,[t.type],"Missing closing "+t.value+" character.",V(t,e.source))},we=function(t){var n=t.scanner,r=n.curr(),i=[],u=!1;for(n.next();!n.ended();){var o=n.curr();if(o.type===r.type)break;if(me(n)){u=!0;var a=J(t,te);if(!a)return null;i.push(a)}else n.next(),i.push({type:e.PCExpressionType.STRING,value:o.value,location:D(o.pos,n.curr(),n.source)})}if(!Ie(t,r))return null;n.next();var c=D(r,n.curr(),n.source);return u?{type:e.PCExpressionType.STRING_BLOCK,location:c,values:i}:{type:e.PCExpressionType.STRING,location:c,value:i.map(function(e){return e.value}).join("")}},Pe=function(t){var n=t.scanner,r=n.curr();n.next();for(var i=r.value;!n.ended();){var u=n.curr();if(u.type===x.COMMENT||u.type===x.LESS_THAN||u.type==x.CLOSE_TAG||me(n))break;n.next(),i+=u.value}return{type:e.PCExpressionType.TEXT_NODE,value:i,location:D(r,n.curr(),n.source)}},Ue=function(e){for(var t=e.scanner;!t.ended()&&t.curr().type===x.WHITESPACE;)t.next();return!t.ended()},De=function(e){for(var t=e.scanner,n="";!t.ended()&&/[a-zA-Z-][a-zA-Z0-9-]*/.test(t.curr().value);)n+=t.curr().value,t.next();return n||null},Ve=function(e,t){if(!t)throw new Error("Unexpected end of file (missing closing expression).");var n=U(t,e);throw new Error('Unexpected token "'+t.value+'" at '+n.line+":"+n.column)},Be=function(t,n,r){var i=t.scanner.curr(),u=r||(t.startToken?D(t.startToken,t.scanner.curr(),t.source):{start:U(i||t.scanner.source.length-1,t.scanner.source),end:U(i?i.pos+i.value.length:t.scanner.source.length,t.scanner.source)});return t.diagnostics.push({type:e.DiagnosticType.ERROR,location:u,message:n||(i?"Unexpected token.":"Unexpected end of file."),filePath:t.filePath}),!0},je=function(e,t,n){return!!e.scanner.curr()||(Be(e,t,n),!1)},ke=function(e,t,n,r){var i=e.scanner.curr();return!(!i||-1===t.indexOf(i.type))||(Be(e,n,r),!1)};!function(e){e.TANDEM="TANDEM",e.WEB="WEB"}(e.PaperclipTargetType||(e.PaperclipTargetType={}));var Ye={width:1366,height:768};!function(e){e[e.COMPONENT=0]="COMPONENT",e[e.CSS=1]="CSS"}(e.PCModuleType||(e.PCModuleType={}));var Fe=Symbol(),Ke=function(e,t){if(e[Fe]&&e[Fe][0]===e)return e[Fe][1];var n=tt(e,t);return e[Fe]=[e,n],n},Ge=B(function(t){var n={};for(var r in t){var i=t[r].module;if(i.type===e.PCModuleType.COMPONENT)for(var u=0,o=i.components;u<o.length;u++){var a=o[u];n[a.id]=a}}return n}),He=B(function(t){var n={};for(var r in t){var i=t[r].module;if(i.type===e.PCModuleType.COMPONENT)for(var u=0,o=i.components;u<o.length;u++)n[o[u].id]=r}return n}),$e=function(e,t){var n=t.split("/");n.pop();var r=(e=e.replace(/^\.\//,"")).split("../"),i=r.pop();return n.splice(n.length-r.length,n.length),n.join("/")+"/"+i},We=function(e,t){var n={};return b(e).forEach(function(e){var r=Ze(e,t);r&&(n[e]=r)}),n},ze=function(e){var t={};for(var n in e)for(var r=0,i=e[n].module.components;r<i.length;r++){var u=i[r];t[u.id]={filePath:n,expression:u.source}}return t},Qe=function(t,n){var r=t.module,i={};return r.type===e.PCModuleType.COMPONENT&&r.components.forEach(function(e){Object.assign(i,We(e.template,n))}),i},Xe=function(e,t){return t.components.find(function(t){return t.id===e})},qe=function(e,t){var n=[],r=(Qe(e,t),Qe(e,t));for(var i in r){var u=r[i];-1===n.indexOf(u)&&n.push(u)}return n},Je=function(e,t){var n=e.resolvedImportUris,r=[];for(var i in n)r.push(t[n[i]]);return r},Ze=function(t,n){for(var r in n){var i=n[r];if(i.module.type===e.PCModuleType.COMPONENT)for(var u=i.module,o=0,a=u.components.length;o<a;o++)if(u.components[o].id===t)return i}},et=function(t,n,r,i){var u=n.readFile,o=n.resolveFile,a=void 0===o?$e:o;return void 0===r&&(r={}),void 0===i&&(i=[]),r[t]?Promise.resolve({diagnostics:i,graph:r}):Promise.resolve(u(t)).then(function(e){return z(e,t)}).then(function(e){return i.push.apply(i,e.diagnostics),e.root?Ke(e.root,t):null}).then(function(n){if(!n)return null;var o={};return r[t]={module:n,resolvedImportUris:o},n.type===e.PCModuleType.COMPONENT&&n.imports.length?Promise.all(n.imports.map(function(e){return Promise.resolve(a(e.href,t)).then(function(t){return o[e.href]=t,et(t,{readFile:u,resolveFile:a},r,i)})})):Promise.resolve(r)}).then(function(){return{graph:r,diagnostics:i}})},tt=function(t,n){var r=t.type===e.PCExpressionType.FRAGMENT?t.childNodes:[t],i=[],u=[],c=[],f=[];if(nt(t,i),k(n)){for(var p=0,d=r.length;p<d;p++){var h=r[p];if(h.type===e.PCExpressionType.SELF_CLOSING_ELEMENT||h.type===e.PCExpressionType.ELEMENT){var E=h,v=a(E),y=o(E),T=s(E),_=l(E);if("component"===v&&E.type===e.PCExpressionType.ELEMENT){u.push(at(E,_,T,y));continue}if("link"===v)continue;if("style"===v){c.push(E);continue}}f.push(h)}return{source:t,uri:n,imports:i,type:e.PCModuleType.COMPONENT,components:u,globalStyles:c,unhandledExpressions:f}}if(Y(n))return{source:t,type:e.PCModuleType.CSS,uri:n}},nt=function(t,n){switch(t.type){case e.PCExpressionType.SELF_CLOSING_ELEMENT:case e.PCExpressionType.ELEMENT:var r=void 0,i=void 0;if(t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT)i=S(t),r=[];else{var u=t;i=u.startTag,r=u.childNodes}"link"===i.name&&n.push(st(i.attributes));for(var o=0,a=r.length;o<a;o++)nt(r[o],n);break;case e.PCExpressionType.FRAGMENT:for(var o=0,a=(r=t.childNodes).length;o<a;o++)nt(r[o],n);break;case e.CSSExpressionType.SHEET:for(var c=t.children,o=0,a=c.length;o<a;o++)rt(c[o],n)}},rt=function(t,n){switch(t.type){case e.CSSExpressionType.AT_RULE:var r=t,i=r.name,u=r.params;r.children;"import"===i&&n.push({href:u.join(" "),type:"stylesheet"})}},it=function(e){for(var t={},n=0,r=e.split(/,\s+/g);n<r.length;n++){var i=r[n].split("="),u=i[0],o=i[1];t[u]=o}return t},ut=function(e,t){return e.metadata.filter(function(e){return e.name===t})},ot=function(e,t){return ut(e,t).shift()},at=function(t,n,r,i){for(var u,l,f,p=[],d=[],E=0,v=r.length;E<v;E++){var y=r[E];"id"===y.name&&(u=c(y))}for(var E=0,v=i.length;E<v;E++){var T=i[E];if(T.type===e.PCExpressionType.SELF_CLOSING_ELEMENT||T.type===e.PCExpressionType.ELEMENT){var _=T,g=a(_);s(_),o(_);"style"===g?l=_:"template"===g?f=_:"preview"===g?T.type===e.PCExpressionType.ELEMENT&&T.childNodes.find(function(t){return t.type===e.PCExpressionType.ELEMENT||t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT})&&Boolean(h(_,"name"))&&p.push({source:_,name:h(_,"name"),width:Number(h(_,"width")||Ye.width),height:Number(h(_,"height")||Ye.height)}):"meta"===g&&d.push({name:h(_,"name"),params:it(h(_,"content")||"")})}}return{source:t,id:u,style:l,metadata:d,template:f,previews:p}},ct=function(e,t){return t.previews.find(function(t){return t.name===e})},st=function(e){for(var t,n,r=0,i=e.length;r<i;r++){var u=e[r];"href"===u.name?t=c(u):"type"===u.name&&(n=c(u))}return{type:n,href:t}};!function(e){e[e.OBJECT=1]="OBJECT",e[e.ARRAY=2]="ARRAY",e[e.STRING=4]="STRING",e[e.NUMBER=8]="NUMBER",e[e.BOOLEAN=16]="BOOLEAN",e[e.PRIMITIVE=28]="PRIMITIVE",e[e.ANY=31]="ANY",e[e.OBJECT_OR_ARRAY=3]="OBJECT_OR_ARRAY"}(e.InferenceType||(e.InferenceType={}));var lt=function(){return{type:e.InferenceType.ANY,properties:{}}},ft=lt(),pt=B(function(e,t,n){void 0===n&&(n={});var r=ht(e,dt(t,n));return{diagnostics:r.diagnostics,inference:r.inference}}),dt=function(t,n){return{filePath:t,options:n,inference:lt(),diagnostics:[],currentScopes:{},typeLimit:e.InferenceType.ANY}},ht=function(t,n){switch(t.type){case e.PCExpressionType.BLOCK:return Nt(t,n);case e.PCExpressionType.FRAGMENT:return mt(t,n);case e.PCExpressionType.SELF_CLOSING_ELEMENT:case e.PCExpressionType.ELEMENT:return Tt(t,n)}return n},Et=function(t,n){for(var r=t.attributes,i=(t.name,t.modifiers),u=0,o=i.length;u<o;u++){var a=i[u].value;a.type!==e.BKExpressionType.IF&&a.type!==e.BKExpressionType.ELSEIF&&a.type!==e.BKExpressionType.BIND||(n=Rt(a,xt(e.InferenceType.ANY,null,n)))}for(var u=0,o=r.length;u<o;u++)n=vt(t,r[u],xt(e.InferenceType.ANY,null,n));return n},vt=function(e,t,n){t.name;var r=t.value;return r&&(n=yt(e,r,n)),n},yt=function(t,n,r){switch(n.type){case e.PCExpressionType.STRING:return r;case e.PCExpressionType.STRING_BLOCK:for(var i=0,u=(o=n).values.length;i<u;i++)r=yt(t,o.values[i],xt(e.InferenceType.STRING,null,r));return r;case e.PCExpressionType.BLOCK:var o=n;return Rt(o.value,r)}return r},Tt=function(t,n){var r,i=[];if(t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT)i=[],r=t;else{var u=t;i=u.childNodes,r=u.startTag}if(n.options.ignoreTagNames&&-1!==n.options.ignoreTagNames.indexOf(r.name))return n;for(var o,a=r.modifiers,c=0,s=a.length;c<s;c++){var l=a[c].value;if(l.type===e.BKExpressionType.REPEAT){o=l;break}}return o&&(n=Rt(o,n),n=Ut(o.asValue.name,_t(o.each)?gt(o.each).concat(["$$each"]):["$$eat"],n)),n=Et(r,n),n=St(i,n),o&&(n=Vt(o.asValue.name,n)),n},_t=function(t){return t.type===e.BKExpressionType.VAR_REFERENCE||t.type===e.BKExpressionType.PROP_REFERENCE},gt=function(t){return t.type===e.BKExpressionType.VAR_REFERENCE?[t.name]:t.path.map(function(e){return e.name})},mt=function(e,t){return St(e.childNodes,t)},St=function(e,t){for(var n=0,r=e.length;n<r;n++)t=ht(e[n],t);return t},Nt=function(t,n){return Rt(t.value,xt(e.InferenceType.ANY,null,n))},Rt=function(t,n){switch(t.type){case e.BKExpressionType.NUMBER:return jt(e.InferenceType.NUMBER,n)?xt(e.InferenceType.NUMBER,null,n):kt(t,e.InferenceType.NUMBER,n);case e.BKExpressionType.STRING:return jt(e.InferenceType.STRING,n)?xt(e.InferenceType.STRING,null,n):kt(t,e.InferenceType.STRING,n);case e.BKExpressionType.OPERATION:var r=t,i=r.left,u=r.operator,o=r.right,a=/^[\*\/\-%]$/.test(u)?e.InferenceType.NUMBER:n.typeLimit;if(!jt(a,n))return kt(t,a,n);n.typeLimit;var c=a;return n=Rt(i,xt(a,"The left-hand side of an arithmetic operation must be "+It(a),n)),n=Rt(o,"==="!==u?xt(c,"The right-hand side of an arithmetic operation must be "+It(n.typeLimit),n):n);case e.BKExpressionType.GROUP:h=t.value;return Rt(h,n);case e.BKExpressionType.VAR_REFERENCE:case e.BKExpressionType.PROP_REFERENCE:var s=gt(t);return n=Ot(t,s,n);case e.BKExpressionType.BIND:h=t.value;return Rt(h,n);case e.BKExpressionType.OBJECT:for(var l=t.properties,f=0,p=l.length;f<p;f++){var d=l[f],h=(d.key,d.value);n=Rt(h,xt(e.InferenceType.ANY,null,n))}return xt(e.InferenceType.OBJECT,null,n);case e.BKExpressionType.NOT:h=t.value;return xt(e.InferenceType.BOOLEAN,null,Rt(h,xt(e.InferenceType.ANY,null,n)));case e.BKExpressionType.ELSEIF:case e.BKExpressionType.IF:var E=t.condition;return Rt(E,xt(e.InferenceType.ANY,null,n));case e.BKExpressionType.REPEAT:var v=t.each;return Rt(v,n);default:return n}},Ot=function(e,t,n){var r=bt(t,n)&n.typeLimit;return jt(r,n)?xt(r,n.typeLimitErrorMessage,Pt(e,t,r,n)):Yt(e,n,n.typeLimitErrorMessage)},Ct=function(e,t){var n=Dt(e,t);return At(n,t.inference)},At=function(e,t){for(var n=t,r=0,i=e.length;r<i;r++)if(!(n=n.properties[e[r]]))return null;return n},bt=function(t,n,r){void 0===r&&(r=e.InferenceType.ANY);var i=Ct(t,n);return i?i.type:r},xt=function(e,t,n){return u({},n,{typeLimit:e,typeLimitErrorMessage:t})},Mt=function(t,n,r,i){return void 0===i&&(i=-1),i++,-1!==t.indexOf("$$eat")?r:i===t.length?u({},r,n):u({},r,{type:r.type&e.InferenceType.OBJECT_OR_ARRAY,properties:u({},r.properties,(o={},o[t[i]]=Mt(t,n,r.properties[t[i]]||lt(),i),o))});var o},Lt=function(t){var n=[];return t&e.InferenceType.ARRAY&&n.push("array"),t&e.InferenceType.OBJECT&&n.push("object"),t&e.InferenceType.STRING&&n.push("string"),t&e.InferenceType.NUMBER&&n.push("number"),t&e.InferenceType.BOOLEAN&&n.push("boolean"),n},It=function(e){var t=Lt(e);return 1===t.length?"a "+t[0]:"an "+t.slice(0,t.length-1).join(", ")+", or "+t[t.length-1]},wt=function(t,n,r){for(var i=r.inference,u=0,o=t.length;u<o-1;u++){if(!(i=i.properties[t[u]]))return r;i.type&e.InferenceType.OBJECT_OR_ARRAY||(r=Yt(n,xt(r.typeLimit,null,r),'Cannot call property "'+t.slice(u+1).join(".")+'" on primitive "'+t.slice(0,u+1).join(".")+'"'))}return r},Pt=function(e,t,n,r){return r=wt(t,e,r),Bt(Mt(Dt(t,r),{type:n},r.inference),r)},Ut=function(e,t,n){return u({},n,{currentScopes:u({},n.currentScopes,(r={},r[e]=t,r))});var r},Dt=function(e,t){var n=t.currentScopes[e[0]];return n?Dt(n,t).concat(e.slice(1)):e},Vt=function(e,t){return u({},t,{currentScopes:u({},t.currentScopes,(n={},n[e]=null,n))});var n},Bt=function(e,t){return u({},t,{inference:e})},jt=function(e,t){var n=t.typeLimit;return Boolean(e&n)},kt=function(e,t,n){return Yt(e,n,n.typeLimitErrorMessage||"Type mismatch "+t+" to "+n.typeLimit)},Yt=function(t,n,r){return Ft(t,e.DiagnosticType.ERROR,n,r)},Ft=function(t,n,r,i){return u({},r,{diagnostics:r.diagnostics.concat([{type:e.DiagnosticType.ERROR,location:t.location,message:i,filePath:r.filePath}])})},Kt=B(function(t,n){void 0===n&&(n={});var r={},i=[];for(var o in t){var a=t[o].module;if(a.type===e.PCModuleType.COMPONENT)for(var c=0,s=a.components;c<s.length;c++)r[(d=s[c]).id]?i.push({type:e.DiagnosticType.ERROR,location:d.source.location,message:"Duplicate component",filePath:o}):r[d.id]={filePath:o,component:d}}var l={graph:t,currentComponentId:null,options:n,lintedComponentIds:{},currentFilePath:null,ignoreTagNames:{},callstack:[],components:r,diagnostics:i};for(var f in r){var p=r[f],o=p.filePath,d=p.component;l=Ht(d,u({},l,{currentComponentId:f,currentFilePath:o}))}return{diagnostics:Gt(l.diagnostics)}}),Gt=function(e){for(var t=e.map(function(e){return JSON.stringify(e)}),n={},r=[],i=0,u=t.length;i<u;i++){var o=t[i];n[o]||(n[o]=1,r.push(e[i]))}return r},Ht=function(t,n){n=t.template?$t(t.template,n):en(t.source,"missing template",n);for(var r=0,i=t.previews.length;r<i;r++){var u=t.previews[r];n=$t(u.source,n)}var o=!1,c={};t.id||(n=en(t.source,"id attribute is missing",n));for(var r=0,i=t.source.childNodes.length;r<i;r++){var s=t.source.childNodes[r];if((s.type===e.PCExpressionType.ELEMENT||s.type===e.PCExpressionType.SELF_CLOSING_ELEMENT)&&"preview"===a(s)){o=!0,s.type===e.PCExpressionType.SELF_CLOSING_ELEMENT&&(n=tn(s,"tags must not be self closing",n));var l=h(s,"name");l?(c[l]?n=en(s,"name already exists",n):0===s.childNodes.filter(function(t){return t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT||t.type===e.PCExpressionType.ELEMENT}).length&&(n=en(s,"missing element child",n)),c[l]=!0):n=tn(s,"name attribute is missing",n)}}return o||(n=tn(t.source,"Missing preview tag",n)),n},$t=function(t,n){switch(t.type){case e.PCExpressionType.FRAGMENT:return Qt(t,n);case e.PCExpressionType.SELF_CLOSING_ELEMENT:case e.PCExpressionType.ELEMENT:return Xt(t,n);case e.PCExpressionType.BLOCK:return Wt(t,n)}return n},Wt=function(e,t){return an(e.value,t)},zt=function(e,t){for(var n=0,r=e.length;n<r;n++)t=$t(e[n],t);return t},Qt=function(e,t){return zt(e.childNodes,t)},Xt=function(t,n){var r,i;if(t.type===e.PCExpressionType.ELEMENT)r=(o=t).childNodes,i=o.startTag;else{var o=t;i=o,r=[]}if(n.callstack.filter(function(e){return e.source===i}).length>10)return en(t,"Maximum callstack exceeded",n);if(n.ignoreTagNames[i.name.toLowerCase()])return n;for(var a,c,s=0,l=i.modifiers.length;s<l;s++){var f=i.modifiers[s].value;f.type===e.BKExpressionType.IF||f.type===e.BKExpressionType.ELSEIF?a=f:f.type===e.BKExpressionType.REPEAT&&(c=f)}if(a&&!(n=an(a,n)).currentExprEvalResult.value)return n;if(c){var p=c.each,d=c.asValue,h=c.asKey,E=d.name,v=h&&h.name||void 0,y=(n=an(p,n)).currentFilePath,T=n.currentExprEvalResult.source;j(n.currentExprEvalResult.value,function(e,t){n=Jt(i,pn(T,y,u({},n.caller&&n.caller.props||{},(o={},o[E]=e,o[v]=h?{value:t,source:h}:void 0,o)),n)),n=zt(r,n),n=cn(n);var o})}else n=Jt(i,n),n=zt(r,n);return n},qt={},Jt=function(t,n){for(var r={},i=(n.currentFilePath,{}),u=0,o=t.attributes.length;u<o;u++)i[(c=t.attributes[u]).name]=c;for(var a in i){var c=i[a];n=rn(c,n),r[a]=n.currentExprEvalResult}for(var s=t,u=0,o=t.modifiers.length;u<o;u++){var l=t.modifiers[u].value;l.type===e.BKExpressionType.BIND&&(s=(n=an(l,n)).currentExprEvalResult.source,Object.assign(r,n.currentExprEvalResult.value))}var f=n.components[t.name.toLowerCase()]||qt,p=f.filePath,d=f.component;if(!d)return n;var h=n.currentComponentId;return n=$t(d.source,sn("preview",pn(s,p,r,ln(t.name,n)))),fn("preview",cn(ln(h,n)))},Zt=function(t){if(Array.isArray(t))return e.InferenceType.ARRAY;if(null===t)return e.InferenceType.ANY;switch(typeof t){case"object":return e.InferenceType.OBJECT;case"number":return e.InferenceType.NUMBER;case"boolean":return e.InferenceType.BOOLEAN;case"string":return e.InferenceType.STRING;default:return e.InferenceType.ANY}},en=function(t,n,r){return nn(t,e.DiagnosticType.ERROR,n,r)},tn=function(t,n,r){return nn(t,e.DiagnosticType.WARNING,n,r)},nn=function(e,t,n,r){return u({},r,{diagnostics:r.diagnostics.concat([{type:t,location:e.location,message:n,filePath:r.currentFilePath}])})},rn=function(t,n){if(!t.value)return hn(!0,t,n);if(t.value.type===e.PCExpressionType.STRING_BLOCK)for(var r=t.value,i=0,u=r.values.length;i<u;i++){var o=r.values[i];o.type===e.PCExpressionType.BLOCK&&(n=an(o,n))}else n=t.value.type===e.PCExpressionType.STRING?hn(t.value.value,t.value,n):an(t.value.value,n);return n},un=function(e,t,n){return void 0===n&&(n=0),null==t?t:n===e.length?t.value:un(e,t.value&&t.value[e[n]],n+1)},on=function(e,t){var n=t.props[e[0]];if(null==n)return t.source;for(var r=n,i=1,u=e.length;i<u;i++){var o=r.value&&r.value[i];if(!o)break;r=o}return r.source},an=function(t,n){switch(t.type){case e.BKExpressionType.OPERATION:var r=t,i=r.left,o=r.operator,a=r.right,c=n.optionalVars;"||"===o&&(n=dn(!0,n));var s=(n=an(i,n)).currentExprEvalResult.value,l=(n=an(a,dn(c,n))).currentExprEvalResult.value;switch(o){case"+":return hn(s+l,t,n);case"-":return hn(s-l,t,n);case"*":return hn(s*l,t,n);case"/":return hn(s/l,t,n);case"%":return hn(s%l,t,n);case"==":return hn(s==l,t,n);case"===":return hn(s===l,t,n);case"!=":case"!==":return hn(s!==l,t,n);case"||":return hn(s||l,t,n);case"&&":return hn(s&&l,t,n);case">":return hn(s>l,t,n);case">=":return hn(s>=l,t,n);case"<":return hn(s<l,t,n);case"<=":return hn(s<=l,t,n)}return n;case e.BKExpressionType.PROP_REFERENCE:case e.BKExpressionType.VAR_REFERENCE:var f=gt(t);if(n.caller){var p=(n.components[n.currentComponentId]||{}).component,d=p&&pt(p.source),h=on(f,n.caller),E=un(f.slice(1),n.caller.props[f[0]]);if(n=hn(E,h,n),void 0===E&&(f.length>1||!n.optionalVars)&&n.caller.source.type!==e.BKExpressionType.VAR_REFERENCE&&n.caller.source.type!==e.BKExpressionType.PROP_REFERENCE)n=en(h,'Property "'+f.join(".")+'" is undefined',n);else if(d){var v=At(f,d.inference)||ft,y=Zt(E);v.type&y||(n=en(h,'Type mismatch: attribute "'+f.join(".")+'" expecting '+It(v.type)+", "+Lt(y)+" provided.",n))}}else n=hn(null,t,n);return n;case e.BKExpressionType.OBJECT:for(var T=t,_={},g=0,m=T.properties.length;g<m;g++){var S=T.properties[g],N=S.key,E=S.value;n=an(E,n),_[N]=n.currentExprEvalResult}return n=hn(_,t,n);case e.BKExpressionType.ARRAY:for(var R=t,O=[],g=0,m=R.values.length;g<m;g++)n=an(R.values[g],n),O.push(n.currentExprEvalResult);return n=hn(O,t,n);case e.BKExpressionType.GROUP:return an(t.value,n);case e.BKExpressionType.NUMBER:var C=t;return hn(Number(C.value),t,n);case e.BKExpressionType.STRING:var A=t;return hn(String(A.value),t,n);case e.BKExpressionType.RESERVED_KEYWORD:return"undefined"===(E=t.value)?hn(void 0,t,n):"null"===E?hn(null,t,n):"true"===E||"false"==E?hn("true"===E,t,n):n;case e.BKExpressionType.NOT:return n=an(t.value,n),hn(!n.currentExprEvalResult.value,t,n);case e.BKExpressionType.BIND:return an(t.value,u({},n,{currentExprEvalResult:void 0,optionalVars:!1}));case e.BKExpressionType.IF:case e.BKExpressionType.ELSEIF:return an(t.condition,u({},n,{currentExprEvalResult:void 0,optionalVars:!0}));default:return n}},cn=function(e){return u({},e,{callstack:e.callstack.slice(0,e.callstack.length-1),caller:e.callstack[e.callstack.length-2]})},sn=function(e,t){return u({},t,{ignoreTagNames:u({},sn,(n={},n[e]=(t.ignoreTagNames[e]||0)+1,n))});var n},ln=function(e,t){return u({},t,{currentComponentId:e})},fn=function(e,t){return u({},t,{ignoreTagNames:u({},sn,(n={},n[e]=(t.ignoreTagNames[e]||1)-1,n))});var n},pn=function(e,t,n,r){var i={filePath:t,source:e,props:n};return u({},r,{callstack:r.callstack.concat([i]),caller:i})},dn=function(e,t){return u({},t,{optionalVars:e})},hn=function(e,t,n){return u({},n,{currentExprEvalResult:{value:e,source:t}})},En=function(e,t){return et(e,t.io).then(function(t){var n=t.graph;return{code:Tn(e,n),graph:n,diagnostics:Kt(n).diagnostics,entryDependency:n[e]}})},vn=function(t){switch(t.type){case e.BKExpressionType.NOT:return"!"+vn(t.value);case e.BKExpressionType.PROP_REFERENCE:return(r=t).path.map(vn).join(".");case e.BKExpressionType.STRING:var n=t;return JSON.stringify(n.value);case e.BKExpressionType.NUMBER:return t.value;case e.BKExpressionType.VAR_REFERENCE:var r=t;return r.name;case e.BKExpressionType.ARRAY:return"["+t.values.map(vn)+"]";case e.BKExpressionType.OBJECT:for(var i=t,u="{",o=0,a=i.properties.length;o<a;o++){var c=i.properties[o];u+=c.key+":"+vn(c.value)+", "}return u+="}";case e.BKExpressionType.GROUP:return"("+vn(t.value)+")";case e.BKExpressionType.RESERVED_KEYWORD:return t.value;case e.BKExpressionType.OPERATION:var s=t,l=s.left,f=s.operator,p=s.right;return vn(l)+" "+f+" "+vn(p);default:throw new Error("Unable to transpile BK block "+t.type)}},yn=function(e){return e.replace(/[\d-]+/g,"_")},Tn=function(e,t){var n="((window) => {";n+='var document = window.document;const __each = (object, iterator) => {if (Array.isArray(object)) {object.forEach(iterator);} else {for (const key in object) {iterator(object[key], key);}}};const __count = (object) => {return Array.isArray(object) ? object.length : Object.keys(object).length;};const __defineModule = (run) => {let exports;return () => {if (exports) return exports;exports = {};return exports = run((dep) => {return $$modules[dep]()});}};const __setElementProperty = (element, property, value) => {if (property === "style" && typeof value !== "string") {\nelement.style = "";\nObject.assign(element.style, value);\n} else {\nelement[property] = value;}\n};let updating = false;let toUpdate = [];const __requestUpdate = (object) => {if (toUpdate.indexOf(object) === -1) {toUpdate.push(object);}if (updating) {return;}updating = true;requestAnimationFrame(function() {for(let __i = 0; i < toUpdate.length; __i++) {const target = toUpdate[__i];target.update();}toUpdate = [];updating = false;});};',n+="$$modules = {};";var r=_n(t);for(var i in t){var u=t[i],o=u.resolvedImportUris,a=u.module;n+='$$modules["'+i+'"] = '+gn(a,o,r)+";"}return n+='const entry = $$modules["'+e+'"]();',n+="return {entry,modules: $$modules};})(window)"},_n=function(e){var t={},n=Ge(e);for(var r in n)t[r]=Nn(r);return t},gn=function(t,n,r){var i=t.uri,u=t.source,o={uri:i,aliases:r,varCount:0,root:u},a="__defineModule((require) => {";if(a+="var $$previews = {};",t.type===e.PCModuleType.COMPONENT){for(var c=t,s=c.imports,l=c.globalStyles,f=c.components,p=(c.unhandledExpressions,er(l,o)),d=0,h=p.length;d<h;d++)a+=(y=p[d]).content,a+="document.body.appendChild("+y.varName+");";for(var d=0,h=s.length;d<h;d++){var E=s[d];a+=(y=nr("import","require("+JSON.stringify(n[E.href])+")",o)).content}for(var d=0,h=f.length;d<h;d++)a+=Sn(f[d],o).content}else if(t.type===e.PCModuleType.CSS){var v=u,y=ir('document.createElement("style")',o);y.content+=Un(v,y.varName,o),a+=y.content}return a+="return {previews: $$previews};",a+="})"},mn=function(e){return"(() => { const binding = () => { "+e+" }; binding(); return binding; })()"},Sn=function(t,n){var r=t.previews,i=t.source,o=t.id,a=t.style,c=t.template,s=rr(yn(o),n),l=Nn(o),f=u({},n,{varCount:0,contextName:"this"}),p=Object.keys(pt(i).inference.properties),d=a&&Pn(a,f),h="class "+s+" extends HTMLElement {constructor() {super();this.__bindings = [];}connectedCallback() {this.render();}"+p.map(function(e){return"get "+e+"() {return this.__"+e+";}set "+e+"(value) {if (this.__"+e+" === value || String(this.__"+e+") === String(value)) {return;}const oldValue = this.__"+e+";this.__"+e+' = value;if (typeof value !== "object") {this.setAttribute('+JSON.stringify(e)+", value);}if (this._rendered) {__requestUpdate(this);}}"}).join("\n")+'render() {if (this._rendered) {return;}this._rendered = true;const shadow = this.attachShadow({ mode: "open" });'+(d?d.content+"shadow.appendChild("+d.varName+");":"")+p.map(function(e){return"if (this.__"+e+" == null) {this.__"+e+' = this.getAttribute("'+e+'");}'}).join("\n")+"let __bindings = [];"+(c?c.childNodes.map(function(e){var t=Rn(e,f);return e&&t?t.content+(t.bindings.length?"__bindings = __bindings.concat("+t.bindings.map(function(e){return"(() => {const __binding = () => {const { "+p.join(",")+" } = this;"+e+"};__binding();return __binding;})()"}).join(",")+");":"")+"shadow.appendChild("+t.varName+");":""}).join(""):"")+"this.__bindings = __bindings;}cloneShallow() {const clone = super.cloneShallow();clone._rendered = true;return clone;}static get observedAttributes() {return "+JSON.stringify(p)+";}attributeChangedCallback(name, oldValue, newValue) {if (super.attributeChangedCallback) {super.attributeChangedCallback(name, oldValue, newValue);}this[name] = newValue;}update() {if (!this._rendered) {return;}let bindings = this.__bindings || [];"+In("bindings")+'}}if (!customElements.get("'+l+'")) {customElements.define("'+l+'", '+s+');} else {console.error("Custom element \\"'+l+'\\" is already defined, ignoring");}';return h+='$$previews["'+o+'"] = {};',r.forEach(function(t){var r=t.name,i=t.source.childNodes.find(function(t){return t.type===e.PCExpressionType.SELF_CLOSING_ELEMENT||t.type===e.PCExpressionType.ELEMENT});if(i){var a=Rn(i,u({},n,{aliases:u({},n.aliases,{preview:o})}));h+='$$previews["'+o+'"]["'+r+'"] = () => {'+a.content+a.bindings.map(function(e){return"(() => {"+e+"})();"}).join("")+"return "+a.varName+";};"}}),{varName:s,bindings:[],content:h}},Nn=function(e){return"x-"+e},Rn=function(t,n){switch(t.type){case e.PCExpressionType.FRAGMENT:return On(t,n);case e.PCExpressionType.TEXT_NODE:return Cn(t,n);case e.PCExpressionType.BLOCK:return An(t,n);case e.PCExpressionType.ELEMENT:return wn(t,n);case e.PCExpressionType.SELF_CLOSING_ELEMENT:return bn(t,n)}return null},On=function(e,t){return ir('document.createDocumentFragment("")',t)},Cn=function(e,t){return ar(ir("document.createTextNode("+JSON.stringify(e.value.replace(/[\s\r\n\t]+/g," "))+")",t),e,t)},An=function(e,t){var n=ir('document.createTextNode("")',t),r=(n=ar(n,e,t)).varName+"$$currentValue";return n.content+="let "+r+";",n.bindings.push(Ln(r,vn(e.value.value),function(e){return n.varName+".nodeValue = "+e},t)),n},bn=function(e,t){return xn(e,ar(Mn(e,t),e,t),t)},xn=function(t,n,r){if(!t.modifiers.length)return n;for(var i,u,o,a,c,s=t.modifiers,l=n,p=0,d=s.length;p<d;p++)(I=s[p].value).type===e.BKExpressionType.IF?i=I:I.type===e.BKExpressionType.ELSE?u=I:I.type===e.BKExpressionType.ELSEIF?o=I:I.type===e.BKExpressionType.REPEAT?a=I:I.type===e.BKExpressionType.BIND&&(c=I);if(c){var h=c.value,E=(l={varName:n.varName,content:n.content,bindings:n.bindings.slice()}).varName+"$$spreadValue",v=vn(h);l.content+="let "+E+";",l.bindings.push(Ln(E,v,function(e){return"for (const __key in "+E+") {__setElementProperty("+n.varName+", __key, "+E+"[__key]);}"},r)),n=l}if(a){var y=a.each,T=a.asKey,_=a.asValue,g=vn(y),m=T?vn(T):"index",S=vn(_),O=or(r),C=O.fragment,b=O.start,x=O.end,M=(l=C).varName+"$$currentValue",L=l.varName+"$$childBindings";l.content+="let "+M+" = [];let "+L+" = [];",l.bindings.push("let $$newValue = ("+g+") || [];if ($$newValue === "+M+") {return;}const $$oldValue = "+M+";"+M+" = $$newValue;const $$parent = "+b.varName+".parentNode;const $$startIndex = Array.prototype.indexOf.call($$parent.childNodes, "+b.varName+"); const $$newValueCount = __count($$newValue);const $$oldValueCount = __count($$oldValue);if ($$newValueCount > $$oldValueCount) {for (let __i = $$newValueCount - $$oldValueCount; __i--;) {"+n.content+"$$parent.insertBefore("+n.varName+", "+x.varName+");const __bindings = ["+n.bindings.map(function(e){return"("+S+", "+m+") => { "+e+"}"}).join(",")+"];"+L+".push(($$newValue, $$newKey) => {"+In("__bindings","$$newValue, $$newKey")+"});}} else if ($$oldValue.length < $$newValue.length) {}let __i = 0;__each($$newValue, (value, k) => {"+L+"[__i++](value, k);});"),n=l}if(i||o||u){for(var I=i||o||u,w=I.condition,P=r.root===t||r.root.startTag===t?[r.root]:A(r.root,t).childNodes,U=P.findIndex(function(n){return n===t||t.type===e.PCExpressionType.START_TAG&&n.type===e.PCExpressionType.ELEMENT&&n.startTag===t}),D=void 0,p=U+1;p--;){var V=P[p];if(f(V)&&N(V,e.BKExpressionType.IF)){D="condition_"+R(V,r.root).join("");break}}if(!D)throw new Error("Element condition "+e.BKExpressionType[I.type]+" defined without an IF block.");var B=or(r),C=B.fragment,b=B.start,x=B.end,j=(l=C).varName+"__bindings",M=l.varName+"$$currentValue";C.content+="let "+j+" = [];let "+M+" = false;",i&&(C.content+="let "+D+" = Infinity;"),l.bindings.push("const newValue = Boolean("+(w?vn(w):"true")+") && "+D+" >= "+U+";if (newValue) {"+D+" = "+U+";} else if ("+D+" === "+U+") {"+D+" = Infinity;}if (newValue && newValue === "+M+") {if ("+M+") {"+In(j)+"}return;}"+M+" = newValue;"+j+" = [];if (newValue) {const elementFragment = document.createDocumentFragment();"+n.content+(n.bindings.length?j+" = "+j+".concat("+n.bindings.map(mn).join(",")+");":"")+"elementFragment.appendChild("+n.varName+");"+x.varName+".parentNode.insertBefore(elementFragment, "+x.varName+");} else {let curr = "+b.varName+".nextSibling;while(curr !== "+x.varName+") {curr.parentNode.removeChild(curr);curr = "+b.varName+".nextSibling;}}")}return l},Mn=function(t,n){for(var r=ir('document.createElement("'+(n.aliases[t.name.toLowerCase()]||t.name)+'")',n),i=0,u=t.attributes.length;i<u;i++)!function(i,u){var o=t.attributes[i],a=o.name,c=o.value,s=yn(a);if(c){if(c.type===e.PCExpressionType.STRING){var l=c;r.content+=r.varName+'.setAttribute("'+a+'", '+JSON.stringify(l.value)+");\n"}else if(c.type===e.PCExpressionType.STRING_BLOCK||c.type===e.PCExpressionType.BLOCK){var f=r.varName+"$$"+s+"$$currentValue";r.content+="let "+f+";\n";var p=void 0;p=c.type===e.PCExpressionType.STRING_BLOCK?Ln(f,c.values.map(function(t){return t.type===e.PCExpressionType.BLOCK?vn(t.value.value):JSON.stringify(t.value)}).join(" + "),function(e){return r.varName+'.setAttribute("'+a+'", '+e+")"},n):Ln(f,vn(c.value.value),function(e){return"__setElementProperty("+r.varName+', "'+s+'", '+e+")"},n),r.bindings.push(p)}}else r.content+=r.varName+'.setAttribute("'+a+'", "true");'}(i);return r},Ln=function(e,t,n,r){return"let $$newValue = "+t+";if ($$newValue !== "+e+") {"+e+" = $$newValue;"+n(e)+"}"},In=function(e,t){return void 0===t&&(t=""),"for (let __i = 0, n = "+e+".length; __i < n; __i++) {"+e+"[__i]("+t+");}"},wn=function(e,t){switch(e.startTag.name){case"style":return Pn(e,t);default:return xn(e.startTag,tr(e,t),t)}},Pn=function(e,t){var n=ir('document.createElement("style")',t);return n=ar(n,e,t),n.content+=Un(e.childNodes[0],n.varName,t),n},Un=function(e,t,n){var r="";r+="if (window.$synthetic) {";var i=Dn(e,n);return r+=i.content+(t+".$$setSheet(")+i.varName+");",r+="} else {"+t+".textContent = "+JSON.stringify(Jn(e,function(e,t){return Qn(e,n)}))+";}"},Dn=function(e,t){var n=Vn(e.children,t),r=ur("new CSSStyleSheet(["+n.map(function(e){return e.varName}).join(",")+"])",t);return r=ar(r,e,t),r.content=n.map(function(e){return e.content}).join("\n")+r.content,r},Vn=function(e,t){return e.map(function(e){return Bn(e,t)}).filter(Boolean)},Bn=function(t,n){switch(t.type){case e.CSSExpressionType.AT_RULE:return jn(t,n);case e.CSSExpressionType.STYLE_RULE:return Xn(t,n)}throw new Error("Unexpected rule "+t.type)},jn=function(e,t){switch(e.name){case"media":return kn(e,t);case"keyframes":return Kn(e,t);case"font-face":return Yn(e,t);case"import":return $n(e,t);case"charset":return Wn(e,t)}},kn=function(e,t){return Gn(e,t,"CSSMediaRule",Xn)},Yn=function(e,t){return ar(ur("new CSSFontFaceRule("+qn(Fn(e),t)+")",t),e,t)},Fn=function(t){return t.children.filter(function(t){return t.type===e.CSSExpressionType.DECLARATION_PROPERTY})},Kn=function(e,t){return Gn(e,t,"CSSKeyframesRule",Hn)},Gn=function(e,t,n,r){var i=e.children.map(function(e){return r(e,t)}).filter(Boolean),u=ur("new "+n+"("+JSON.stringify(e.params.join(" "))+", ["+i.map(function(e){return e.varName}).join(",")+"])",t);return u.content=i.map(function(e){return e.content}).join("\n")+u.content,u},Hn=function(e,t){return zn(e,"CSSKeyframeRule",t)},$n=function(e,t){return null},Wn=function(e,t){return null},zn=function(e,t,n){return ur("new "+t+"("+JSON.stringify(Qn(e.selectorText,n))+", "+qn(Fn(e),n)+")",n)},Qn=function(e,t){var n=t.aliases,r=e;if("undefined"!=typeof process)return r;for(var i in n)r=r.replace(new RegExp("(?<!x-)"+i,"g"),n[i]);return r},Xn=function(e,t){return zn(e,"CSSStyleRule",t)},qn=function(e,t){for(var n="{",r=0,i=e;r<i.length;r++){var u=i[r];n+='"'+u.name+'":'+JSON.stringify(u.value)+", "}return"CSSStyleDeclaration.fromObject("+(n+="}")+")"},Jn=function(e,t){return void 0===t&&(t=function(e){return e}),e.children.map(function(e){return Zn(e,t)}).filter(Boolean).join(" ")},Zn=function(t,n){switch(t.type){case e.CSSExpressionType.AT_RULE:var r=t;if("charset"===r.name||"import"===r.name)return null;o="@"+r.name+" "+r.params.join("")+" {";return o+=r.children.map(function(e){return Zn(e,n)}).filter(Boolean).join(" "),o+="}";case e.CSSExpressionType.DECLARATION_PROPERTY:var i=t;return i.name+": "+i.value+";";case e.CSSExpressionType.STYLE_RULE:var u=t,o=n(u.selectorText,u)+" {";return o+=u.children.map(function(e){return Zn(e,n)}).filter(Boolean).join(""),o+="}"}},er=function(t,n){for(var r=[],i=0,u=t.length;i<u;i++){var o=t[i];if(o.type===e.PCExpressionType.TEXT_NODE&&/^[\s\r\n\t]+$/.test(o.value)){var a=t[i-1],c=t[i+1];if((!a||f(a))&&(!c||f(c)))continue}var s=Rn(o,n);s&&r.push(s)}return r},tr=function(e,t){var n=Mn(e.startTag,t);n=ar(n,e,t);for(var r=er(e.childNodes,t),i=0,u=r.length;i<u;i++){var o=r[i];n.content+=o.content,n.content+=n.varName+".appendChild("+o.varName+");\n",(a=n.bindings).push.apply(a,o.bindings)}return n;var a},nr=function(e,t,n){var r=rr(e,n);return{varName:r,bindings:[],content:t?"let "+r+" = "+t+";\n":"let "+r+";\n"}},rr=function(e,t){return e+"_"+t.varCount++},ir=function(e,t){return nr("node",e,t)},ur=function(e,t){return nr("rule",e,t)},or=function(e){var t=ir('document.createDocumentFragment("")',e),n=ir('document.createTextNode("")',e),r=ir('document.createTextNode("")',e);return t.content+=n.content+""+r.content+t.varName+".appendChild("+n.varName+");"+t.varName+".appendChild("+r.varName+");",{fragment:t,start:n,end:r}},ar=function(e,t,n){var r=u({uri:n.uri,type:t.type},t.location);return e.content+=e.varName+".source = "+JSON.stringify(r)+";",e},cr=function(e){},sr={},lr=function(e,t){if(sr[e])return sr[e];var n={filePath:t,source:e,diagnostics:[],scanner:H(e)};return sr[e]={root:fr(n),diagnostics:n.diagnostics}},fr=function(t){for(var n,r=t.scanner,i=r.curr(),u=[];!r.ended();)if(u.push(pr(t)),!n){if((n=r.curr())&&n.type!==x.WHITESPACE&&n.type!==x.COMMA&&!ke(t,[x.COMMA]))return null;r.next()}return 1===u.length?u[0]:{type:n.type===x.WHITESPACE?e.DcExpressionType.SPACED_LIST:e.DcExpressionType.COMMA_LIST,items:u,location:D(i,r.curr(),r.source)}},pr=function(e){var t=e.scanner;switch(Ue(e),t.curr().type){case x.SINGLE_QUOTE:case x.DOUBLE_QUOTE:return oe(e);case x.HASH:return dr(e);case x.NUMBER:return hr(e);case x.MINUS:return t.hasNext()&&t.peek(1).type===x.NUMBER?hr(e):vr(e);case x.TEXT:return vr(e);default:Ve(t.source,t.curr())}},dr=function(t){for(var n=t.scanner,r=n.curr(),i="";!n.ended()&&n.curr().type!==x.WHITESPACE;)i+=n.curr().value,n.next();return{type:e.DcExpressionType.COLOR,value:i,location:D(r,n.curr(),n.source)}},hr=function(t){var n=t.scanner,r=n.curr(),i=Er(t),u="";return n.ended()||n.curr().type===x.WHITESPACE||n.curr().type===x.COMMA||n.curr().type===x.PAREN_CLOSE||(u=n.curr().value,n.next()),{type:e.DcExpressionType.MEASUREMENT,value:i,unit:u,location:D(r,n.curr(),n.source)}},Er=function(e){var t=e.scanner,n=t.curr().value;return"-"===n&&(n+=t.next().value),t.next(),n},vr=function(t){var n=t.scanner,r=n.curr(),i=Tr(t);return n.ended()||n.curr().type!==x.PAREN_OPEN?{type:e.DcExpressionType.KEYWORD,name:i}:{type:e.DcExpressionType.CALL,name:i,params:yr(t),location:D(r,n.curr(),n.source)}},yr=function(e){for(var t=e.scanner,n=[];!t.ended()&&t.curr().type!==x.PAREN_CLOSE;)t.next(),Ue(e),n.push(pr(e));return ke(e,[x.PAREN_CLOSE])?(t.next(),n):null},Tr=function(e){for(var t=e.scanner,n="";!t.ended()&&t.curr().type!==x.WHITESPACE&&t.curr().type!==x.PAREN_OPEN&&t.curr().type!==x.PAREN_CLOSE;)n+=t.curr().value,t.next();return n},_r=function(t){switch(t.type){case e.DcExpressionType.SPACED_LIST:return(n=t).items.map(_r).join(" ");case e.DcExpressionType.COMMA_LIST:var n=t;return n.items.map(_r).join(", ");case e.DcExpressionType.KEYWORD:return t.name;case e.DcExpressionType.CALL:var r=t;return r.name+"("+r.params.map(_r).join(", ")+")";case e.DcExpressionType.COLOR:return t.value;case e.BKExpressionType.STRING:return JSON.stringify(t.value);case e.DcExpressionType.MEASUREMENT:var i=t;return""+i.value+i.unit;default:throw new Error("Unable to stringify CSS declaration value type "+t.type)}},gr="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},mr=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MUTATED="MUTATED",t.SET_VALUE_MUTATION="SET_VALUE_MUTATION",t.INSERT_CHILD_MUTATION="INSERT_CHILD_MUTATION",t.REMOVE_CHILD_MUTATION="REMOVE_CHILD_MUTATION",t.SET_PROPERTY_MUTATION="SET_PROPERTY_MUTATION",t.REMOVE_MUTATION="REMOVE_MUTATION",t.createMutationEvent=function(e){return{type:t.MUTATED,mutation:e}},t.createSetValueMutation=function(e,t,n){return{type:e,target:t,newValue:n}},t.createInsertChildMutation=function(e,t,n,r,i){return void 0===r&&(r=Number.MAX_SAFE_INTEGER),{type:e,target:t,child:n,index:r,clone:i}},t.createRemoveChildMutation=function(e,t,n,r){return{type:e,target:t,child:n,index:r}},t.createMoveChildMutation=function(e,t,n,r,i){return{type:e,target:t,child:n,index:r,oldIndex:i}},t.createPropertyMutation=function(e,t,n,r,i,u,o){return{type:e,target:t,name:n,newValue:r,oldValue:i,oldName:u,index:o}},t.createRemoveMutation=function(e,t,n,r,i,u){return{type:e,target:t}}});r(mr);mr.MUTATED,mr.SET_VALUE_MUTATION,mr.INSERT_CHILD_MUTATION,mr.REMOVE_CHILD_MUTATION,mr.SET_PROPERTY_MUTATION,mr.REMOVE_MUTATION,mr.createMutationEvent,mr.createSetValueMutation,mr.createInsertChildMutation,mr.createRemoveChildMutation,mr.createMoveChildMutation,mr.createPropertyMutation,mr.createRemoveMutation;var Sr=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.STRING_REPLACE="STRING_REPLACE",t.createStringMutation=function(e,n,r){return void 0===r&&(r=""),{startIndex:e,endIndex:n,value:r,type:t.STRING_REPLACE}},t.editString=function(e,t,n){void 0===n&&(n=[]);for(var r=e,i=n.length,u=n.concat(t),o=0,a=t.length;o<a;o++){for(var c=t[o],s=c.startIndex,l=c.endIndex,f=c.value,p=s,d=l,h=!1,E=s===l,v=o+i,y=0;y<v;y++){var T=u[y],_=T.startIndex,g=T.endIndex,m=T.value,S=_===g,N=s===_,R=l===g,O=N&&E,C=R&&E,A=N&&S,b=R&&S,x=O||C||A||b;if(_<l&&_>s&&(d-=l-_),g>s&&g<l&&(p+=g-s),(s>=_&&l<=g||s<_&&l>=g)&&!x){h=!0;break}if(_<=s&&l>_){var M=m.length-(g-_);p=Math.max(0,p+M),d=Math.max(0,d+M)}}h||(r=r.substr(0,p)+f+r.substr(d))}return r}});r(Sr);Sr.STRING_REPLACE,Sr.createStringMutation,Sr.editString;var Nr=i(function(e,t){function n(e,n,r){for(var i=[].concat(e),u=[].concat(e),o=[].concat(n),a=[],c=[],s=0,l=u.length;s<l;s++){for(var f=u[s],p=void 0,d=1/0,h=0,E=o.length;h<E;h++){var v=r(f,_=o[h]);if(~v&&v<d&&(p=_,d=v),0===d)break}null!=p&&(u.splice(s--,1),l--,o.splice(o.indexOf(p),1),c[n.indexOf(p)]=[f,p])}for(s=u.length;s--;){var f=u[s],y=e.indexOf(f);a.push(t.createArrayDeleteMutation(f,y)),i.splice(y,1)}for(var s=0,l=o.length;s<l;s++){_=o[s];c[y=n.indexOf(_)]=[void 0,_]}for(var s=0,l=c.length;s<l;s++)if(null!=c[s]){var T=c[s],f=T[0],_=T[1],g=s;if(null==f)a.push(t.createArrayInsertMutation(g,_)),i.splice(g,0,_);else{var m=i.indexOf(f);a.push(t.createArrayUpdateMutation(e.indexOf(f),m,_,g)),m!==g&&(i.splice(m,1),i.splice(g,0,f))}}return t.createArrayMutation(a)}function r(e,n,r,i){void 0===r&&(r=function(e,t){return t}),void 0===i&&(i=function(e){return e});var u=e.slice();return t.eachArrayValueMutation(n,{insert:function(e){var t=e.index,n=e.value;u.splice(t,0,i(n))},delete:function(e){var t=e.index;u.splice(t,1)},update:function(e){var t=e.patchedOldIndex,n=e.newValue,i=e.index,o=u[t],a=r(o,n);a===o&&t===i||(t!==i&&u.splice(t,1),u.splice(i,0,a))}}),u}Object.defineProperty(t,"__esModule",{value:!0}),t.ARRAY_DIFF="ARRAY_DIFF",t.ARRAY_INSERT="ARRAY_INSERT",t.ARRAY_UPDATE="ARRAY_UPDATE",t.ARRAY_DELETE="ARRAY_DELETE",t.createArrayInsertMutation=function(e,n){return{type:t.ARRAY_INSERT,index:e,value:n}},t.createArrayUpdateMutation=function(e,n,r,i){return{type:t.ARRAY_UPDATE,index:i,newValue:r,originalOldIndex:e,patchedOldIndex:n}},t.createArrayDeleteMutation=function(e,n){return{type:t.ARRAY_DELETE,value:e,index:n}},t.createArrayMutation=function(e){return{type:t.ARRAY_DIFF,mutations:e}},t.diffArray=n,t.eachArrayValueMutation=function(e,n){e.mutations.forEach(function(e){switch(e.type){case t.ARRAY_INSERT:return n.insert(e);case t.ARRAY_DELETE:return n.delete(e);case t.ARRAY_UPDATE:return n.update(e)}})},t.patchArray=r});r(Nr);Nr.ARRAY_DIFF,Nr.ARRAY_INSERT,Nr.ARRAY_UPDATE,Nr.ARRAY_DELETE,Nr.createArrayInsertMutation,Nr.createArrayUpdateMutation,Nr.createArrayDeleteMutation,Nr.createArrayMutation,Nr.diffArray,Nr.eachArrayValueMutation,Nr.patchArray;var Rr=i(function(e,t){function n(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(mr),n(Sr),n(Nr)});r(Rr);var Or=Rr.createStringMutation,Cr=function(e,t){var n=z(e);br(n.root,t.target.location||t.target.source);return t.target.source&&console.warn("Mutation target does not match expected type."),[Or(0,0,"")]},Ar=function(e,t){return e.location.start.line===t.start.line&&e.location.start.column===t.start.column&&e.location.end.line===t.end.line&&e.location.end.column===t.end.column},br=function(t,n){if(Ar(t,n))return t;if(t.type===e.PCExpressionType.FRAGMENT||t.type===e.PCExpressionType.ELEMENT)for(var r=0,i=t.childNodes;r<i.length;r++){var u=i[r],o=br(u,n);if(o)return o}},xr=function(e,t){return{type:"PC_REMOVE_CHILD_NODE",index:t,target:e}},Mr=function(e){return{type:"PC_REMOVE_NODE",target:e}},Lr=function(e,t,n){return{type:"INSERT_HTML_EDIT",html:n,childIndex:t,target:e}},Ir=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){e[e.ELEMENT=0]="ELEMENT",e[e.TEXT=1]="TEXT",e[e.DOCUMENT=2]="DOCUMENT",e[e.DOCUMENT_FRAGMENT=3]="DOCUMENT_FRAGMENT",e[e.STYLE_SHEET=4]="STYLE_SHEET",e[e.STYLE_RULE=5]="STYLE_RULE",e[e.STYLE=6]="STYLE",e[e.AT_RULE=7]="AT_RULE",e[e.FONT_FACE_RULE=8]="FONT_FACE_RULE"}(n=t.SlimVMObjectType||(t.SlimVMObjectType={})),t.createSlimElement=function(e,t,r,i){return void 0===r&&(r=[]),void 0===i&&(i=[]),{type:n.ELEMENT,id:e,shadow:null,tagName:t,source:null,attributes:r,childNodes:i}}});r(Ir);Ir.SlimVMObjectType,Ir.createSlimElement;var wr=i(function(e,t){function n(e,t){void 0===t&&(t=function(e){return e});var n=1,o=Symbol(),a=Symbol();return function(){r&&Date.now()-i>r&&(r=Date.now(),u={});for(var c="",s=u,l=0,f=arguments.length;l<f;l++){var p=arguments[l],d=void 0;p&&"object"==typeof p?(s=p,d=p[a]&&p[a].self===p?p[a].value:(p[a]={self:p,value:":"+n++}).value):d=":"+p,c+=d}return s[o]&&s[o].self===s||(s[o]={self:s}),t(s[o].hasOwnProperty(c)?s[o][c]:s[o][c]=e.apply(this,arguments))}}Object.defineProperty(t,"__esModule",{value:!0});var r=0,i=3e5,u={};t.weakMemo=n});r(wr);wr.weakMemo;var Pr=function(e){var t,n,r,i,u,o,a,c,s,l,f,p,d,h,E,v,y,T,_,g,m,S,N,R,O,C,A,b=e.document,x=b.documentElement,M=[].slice,L="(?:[#.:]|::)?",I="[\\x20\\t\\n\\r\\f]",w="\\[.*\\]|\\(.*\\)|\\{.*\\}",P='"[^"\\\\]*(?:\\\\.[^"\\\\]*)*"'+"|'[^'\\\\]*(?:\\\\.[^'\\\\]*)*'",U=/([^,\\()[\]]+|\[[^[\]]*\]|\[.*\]|\([^()]+\)|\(.*\)|\{[^{}]+\}|\{.*\}|\\.)+/g,D=new RegExp("[\\n\\r\\f]|^"+I+"+|"+I+"+$","g"),V=/\\([0-9a-fA-F]{1,6}[\x20\t\n\r\f]?|.)|([\x22\x27])/g,B={spseudos:/^\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\(\s*(even|odd|(?:[-+]{0,1}\d*n\s*)?[-+]{0,1}\s*\d*)\s*\))?(.*)/i,dpseudos:/^\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\(([-\w]{2,})\)|(?:matches|not|host)\(\s*(:nth(?:-last)?(?:-child|-of-type)\(\s*(?:even|odd|(?:[-+]{0,1}\d*n\s*)?[-+]{0,1}\s*\d*)\s*\)|[^()]*)\s*\)|host)?(.*)/i,epseudos:/^((?:[:]{1,2}(?:after|before|first-letter|first-line))|(?:[:]{2,2}(?:selection|backdrop|placeholder)))?(.*)/i,children:new RegExp("^"+I+"*\\>"+I+"*(.*)"),adjacent:new RegExp("^"+I+"*\\+"+I+"*(.*)"),relative:new RegExp("^"+I+"*\\~"+I+"*(.*)"),ancestor:new RegExp("^"+I+"+(.*)"),universal:new RegExp("^\\*(.*)")},j={prefixes:L,identifier:N,attributes:h},k=function(){var e=String({}.toString).replace(/ \w+\(/," (");return function(t){return t&&"string"!=typeof t&&e==String(t).replace(/ \w+\(/," (")}}(),Y=k(b.hasFocus),F=k(b.querySelector),K=k(b.getElementById),G=k(x.getElementsByTagName),H=k(x.getElementsByClassName),$=k(x.getAttribute),W=k(x.hasAttribute),z=function(){var e=!1;try{e=!!M.call(b.childNodes,0)[0]}catch(e){}return e}(),Q="nextElementSibling"in x&&"previousElementSibling"in x,X=!K||function(){var e=!0,t="x"+String(+new Date),n=b.createElementNS?"a":'<a name="'+t+'">';return(n=b.createElement(n)).name=t,x.insertBefore(n,x.firstChild),e=!!b.getElementById(t),x.removeChild(n),e}(),q=!G||function(){var e=b.createElement("div");return e.appendChild(b.createComment("")),!!e.getElementsByTagName("*")[0]}(),J=!H||function(){var e,t=b.createElement("div");return t.appendChild(b.createElement("span")).setAttribute("class","台北abc 台北"),t.appendChild(b.createElement("span")).setAttribute("class","x"),e=!t.getElementsByClassName("台北")[0],t.lastChild.className="台北",e||2!=t.getElementsByClassName("台北").length}(),Z=!$||function(){var e=b.createElement("input");return e.setAttribute("value",5),5!=e.defaultValue}(),ee=!W||function(){var e=b.createElement("option");return e.setAttribute("selected","selected"),!e.hasAttribute("selected")}(),te=function(){var e=b.createElement("select");return e.appendChild(b.createElement("option")),!e.firstChild.selected}(),ne=void 0!==e.opera&&/opera/i.test({}.toString.call(e.opera)),re=ne&&parseFloat(e.opera.version())>=11,ie=!F||function(){var e,t,n=[],r=function(t,n,r){var i=!1;e.appendChild(n);try{i=e.querySelectorAll(t).length==r}catch(e){}for(;e.firstChild;)e.removeChild(e.firstChild);return i};return e=b.implementation&&b.implementation.createDocument?b.implementation.createDocument("","",null).appendChild(b.createElement("html")).appendChild(b.createElement("head")).parentNode.appendChild(b.createElement("body")):b.createElement("div"),t=b.createElement("div"),t.innerHTML='<p id="a"></p><br>',r("p#a+*",t,0)&&n.push("\\w+#\\w+.*[+~]"),(t=b.createElement("p")).setAttribute("class",""),r('[class^=""]',t,1)&&n.push("[*^$]=[\\x20\\t\\n\\r\\f]*(?:\"\"|'')"),(t=b.createElement("option")).setAttribute("selected","selected"),r(":checked",t,0)&&n.push(":checked"),(t=b.createElement("input")).setAttribute("type","hidden"),r(":enabled",t,0)&&n.push(":enabled",":disabled"),(t=b.createElement("link")).setAttribute("href","x"),r(":link",t,1)||n.push(":link"),ee&&n.push("\\[[\\x20\\t\\n\\r\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),n.length?new RegExp(n.join("|")):{test:function(){return!1}}}(),ue="function"!=typeof b.addEventListener,oe={a:1,A:1,area:1,AREA:1,link:1,LINK:1},ae={checked:1,disabled:1,ismap:1,multiple:1,readonly:1,selected:1},ce={value:"defaultValue",checked:"defaultChecked",selected:"defaultSelected"},se={action:2,cite:2,codebase:2,data:2,href:2,longdesc:2,lowsrc:2,src:2,usemap:2},le={accept:1,"accept-charset":1,align:1,alink:1,axis:1,bgcolor:1,charset:1,checked:1,clear:1,codetype:1,color:1,compact:1,declare:1,defer:1,dir:1,direction:1,disabled:1,enctype:1,face:1,frame:1,hreflang:1,"http-equiv":1,lang:1,language:1,link:1,media:1,method:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,rel:1,rev:1,rules:1,scope:1,scrolling:1,selected:1,shape:1,target:1,text:1,type:1,valign:1,valuetype:1,vlink:1},fe={},pe={"=":"n=='%m'","^=":"n.indexOf('%m')==0","*=":"n.indexOf('%m')>-1","|=":"(n+'-').indexOf('%m-')==0","~=":"(' '+n+' ').indexOf(' %m ')>-1","$=":"n.substr(n.length-'%m'.length)=='%m'"},de=function(e,t){var n,r=-1;if(!e.length&&Array.slice)return Array.slice(t);for(;n=t[++r];)e[e.length]=n;return e},he=function(e,t,n){for(var r,i=-1;(r=t[++i])&&!1!==n(e[e.length]=r););return e},Ee=function(e,t){var n,r=b;i=e,b=e.ownerDocument||e,(t||r!==b)&&(x=b.documentElement,A="DiV"==b.createElement("DiV").nodeName,C=A||"string"!=typeof b.compatMode?function(){var e=b.createElement("div").style;return e&&(e.width=1)&&"1px"==e.width}():b.compatMode.indexOf("CSS")<0,(n=b.createElement("div")).appendChild(b.createElement("p")).setAttribute("class","xXx"),n.appendChild(b.createElement("p")).setAttribute("class","xxx"),R=!A&&H&&C&&(2!=n.getElementsByClassName("xxx").length||2!=n.getElementsByClassName("xXx").length),O=!A&&F&&C&&(2!=n.querySelectorAll("[class~=xxx]").length||2!=n.querySelectorAll(".xXx").length),Ue.CACHING&&Qe.setCache(!0,b))},ve=function(e){if(e<1||e>1114111||e>55295&&e<57344)return"\\ufffd";if(e<65536){var t="000"+e.toString(16);return"\\u"+t.substr(t.length-4)}return"\\u"+(55296+(e-65536>>10)).toString(16)+"\\u"+((e-65536)%1024+56320).toString(16)},ye=function(e){return e<1||e>1114111||e>55295&&e<57344?"�":e<65536?String.fromCharCode(e):String.fromCodePoint?String.fromCodePoint(e):String.fromCharCode(55296+(e-65536>>10),(e-65536)%1024+56320)},Te=function(e){return e.replace(V,function(e,t,n){return n?"\\"+n:/^[0-9a-fA-F]/.test(t)?ve(parseInt(t,16)):/^[\\\x22\x27]/.test(t)?e:t})},_e=function(e){return e.replace(V,function(e,t,n){return n||(/^[0-9a-fA-F]/.test(t)?ye(parseInt(t,16)):/^[\\\x22\x27]/.test(t)?e:t)})},ge=function(e,t){for(var n,r=-1;(n=t[++r])&&n.getAttribute("id")!=e;);return n||null},me=X?function(e,t){var n=null;return e=/\\/.test(e)?_e(e):e,A||9!=t.nodeType?ge(e,t.getElementsByTagName("*")):(n=t.getElementById(e))&&n.name==e&&t.getElementsByName?ge(e,t.getElementsByName(e)):n}:function(e,t){return e=/\\/.test(e)?_e(e):e,t.getElementById&&t.getElementById(e)||ge(e,t.getElementsByTagName("*"))},Se=function(e,t){return t||(t=b),i!==t&&Ee(t),me(e,t)},Ne=function(e,t){var n="*"==e,r=t,i=[],u=r.firstChild;for(n||(e=e.toUpperCase());r=u;)if(r.tagName>"@"&&(n||r.tagName.toUpperCase()==e)&&(i[i.length]=r),!(u=r.firstChild||r.nextSibling))for(;!u&&(r=r.parentNode)&&r!==t;)u=r.nextSibling;return i},Re=!q&&z?function(e,t){return A||11==t.nodeType?Ne(e,t):M.call(t.getElementsByTagName(e),0)}:function(e,t){var n,r=-1,i=r,u=[],o=A||11==t.nodeType?Ne(e,t):t.getElementsByTagName(e);if("*"==e)for(;n=o[++r];)n.nodeName>"@"&&(u[++i]=n);else for(;n=o[++r];)u[r]=n;return u},Oe=function(e,t){return t||(t=b),i!==t&&Ee(t),Re(e,t)},Ce=function(e,t){return Fe('[name="'+e.replace(/\\([^\\]{1})/g,"$1")+'"]',t)},Ae=function(e,t){var n,r,i=-1,u=i,o=[],a=Re("*",t);for(e=" "+(C?e.toLowerCase():e)+" ";n=a[++i];)(r=A?n.getAttribute("class"):n.className)&&r.length&&(" "+(C?r.toLowerCase():r).replace(/[\x20\t\n\r\f]+/g," ")+" ").indexOf(e)>-1&&(o[++u]=n);return o},be=function(e,t){return e=C?e.toLowerCase():e,e=/\\/.test(e)?_e(e):e,J||R||A||!t.getElementsByClassName?Ae(e,t):M.call(t.getElementsByClassName(e))},xe=function(e,t){return t||(t=b),i!==t&&Ee(t),be(e,t)},Me="compareDocumentPosition"in x?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:"contains"in x?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},Le=Z||ue?function(e,t){return t=t.toLowerCase(),"object"==typeof e[t]?e.attributes[t]&&e.attributes[t].value:"type"==t?e.getAttribute(t):se[t]?e.getAttribute(t,2):ae[t]?e.getAttribute(t)?t:"false":(e=e.getAttributeNode(t))&&e.value}:function(e,t){return e.getAttribute(t)},Ie=ee||ue?function(e,t){var n=e.getAttributeNode(t=t.toLowerCase());return ce[t]&&"value"!=t?e[ce[t]]:n&&n.specified}:function(e,t){return A?!!e.getAttribute(t):e.hasAttribute(t)},we=function(e){if("string"==typeof e)return!!Ue[e];if("object"!=typeof e)return Ue;for(var t in e)Ue[t]=!!e[t],"SIMPLENOT"==t?(Ge={},He={},$e={},We={},Ue[t]||(Ue.USE_QSAPI=!1)):"USE_QSAPI"==t&&(Ue[t]=!!e[t]&&F);return De(),p=new RegExp(Ue.SIMPLENOT?l:f),!0},Pe=function(e){if(Ue.VERBOSITY)throw Error(e);Ue.LOGERRORS&&console&&console.log&&console.log(e)},Ue={CACHING:!1,ESCAPECHR:!0,NON_ASCII:!0,SELECTOR3:!0,UNICODE16:!0,SHORTCUTS:!1,SIMPLENOT:!0,SVG_LCASE:!1,UNIQUE_ID:!0,USE_HTML5:!0,USE_QSAPI:F,VERBOSITY:!0,LOGERRORS:!0},De=function(){var e="",t=Ue.SELECTOR3?"-{2}|":"";Ue.NON_ASCII&&(e+="|[^\\x00-\\x9f]"),Ue.UNICODE16&&(e+="|\\\\[0-9a-fA-F]{1,6}(?:\\r\\n|[\\x20\\t\\n\\r\\f])?"),Ue.ESCAPECHR&&(e+="|\\\\[^\\n\\r\\f0-9a-fA-F]"),e+=Ue.UNICODE16||Ue.ESCAPECHR?"":"|\\\\.",E=(h=I+"*("+(N="-?(?:"+t+"[_a-zA-Z]"+e+")(?:-|[0-9]|[_a-zA-Z]"+e+")*")+"(?::"+N+")?)"+I+"*(?:([~*^$|!]?={1})"+I+"*"+(d="("+P+"|"+N+")")+")?"+I+"*(i)?"+I+"*").replace(d,"([\\x22\\x27]*)((?:\\\\?.)*?)\\3"),l="(?=[\\x20\\t\\n\\r\\f]*[^>+~(){}<>])(\\*|(?:"+L+N+")|\\x20|[>+~](?=[^>+~])|\\["+h+"\\]|\\("+(v="((?:(?:[-+]?\\d*n)?[-+]?\\d*|"+P+"|"+L+N+"|\\["+h+"\\]|\\(.+\\)|"+I+"*|,)+)")+"\\)|\\{.+\\}|(?:,|"+I+"*))+",T=new RegExp("^((?!:not)("+L+N+"|\\([^()]*\\))+|\\["+h+"\\])$"),_=new RegExp("("+L+N+"|\\["+h+"\\]|\\("+v+"\\)|\\\\.|[^\\x20\\t\\n\\r\\f>+~])+","g"),y=new RegExp(N+"|^$"),S=new RegExp(q&&J||ne?"^#?"+N+"$":q?"^[.#]?"+N+"$":J?"^(?:\\*|#"+N+")$":"^(?:\\*|[.#]?"+N+")$"),m=new RegExp("(?:\\[[\\x20\\t\\n\\r\\f]*class\\b|\\."+N+")"),g={ID:new RegExp("^\\*?#("+N+")|"+w),TAG:new RegExp("^("+N+")|"+w),CLASS:new RegExp("^\\.("+N+"$)|"+w)},B.id=new RegExp("^#("+N+")(.*)"),B.tagName=new RegExp("^("+N+")(.*)"),B.className=new RegExp("^\\.("+N+")(.*)"),B.attribute=new RegExp("^\\["+E+"\\](.*)"),j.identifier=N,j.attributes=h,f=l.replace(v,".*"),p=new RegExp(l)},Ve="r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;",Be=function(e,t,n){var r="string"==typeof e?e.match(U):e;if("string"==typeof t||(t=""),1==r.length)t+=je(r[0],n?Ve:"f&&f(k);return true;",n);else for(var i,u=-1,o={};i=r[++u];)!o[i=i.replace(D,"")]&&(o[i]=!0)&&(t+=je(i,n?Ve:"f&&f(k);return true;",n));return n?Function("c,s,d,h,g,f","var N,n,x=0,k=-1,e,r=[];main:while((e=c[++k])){"+t+"}return r;"):Function("e,s,d,h,g,f","var N,n,x=0,k=e;"+t+"return false;")},je=function(e,t,n){for(var r,i,u,o,a,c,s,l,f,p=0;e;){if(p++,a=e.match(B.universal))o="";else if(a=e.match(B.id))a[1]=/\\/.test(a[1])?Te(a[1]):a[1],t="if("+(A?'s.getAttribute(e,"id")':'(e.submit?s.getAttribute(e,"id"):e.id)')+'=="'+a[1]+'"){'+t+"}";else if(a=e.match(B.tagName))l=Ue.SVG_LCASE?'||e.nodeName=="'+a[1].toLowerCase()+'"':"",t="if(e.nodeName"+(A?'=="'+a[1]+'"':'.toUpperCase()=="'+a[1].toUpperCase()+'"'+l)+"){"+t+"}";else if(a=e.match(B.className))a[1]=/\\/.test(a[1])?Te(a[1]):a[1],a[1]=C?a[1].toLowerCase():a[1],t="if((n="+(A?'s.getAttribute(e,"class")':"e.className")+')&&n.length&&(" "+'+(C?"n.toLowerCase()":"n")+".replace(/"+I+'+/g," ")+" ").indexOf(" '+a[1]+' ")>-1){'+t+"}";else if(a=e.match(B.attribute)){if(o=a[1].split(":"),o=2==o.length?o[1]:o[0]+"",a[2]&&!pe[a[2]])return Pe('Unsupported operator in attribute selectors "'+e+'"'),"";l="false",a[2]&&a[4]&&(l=pe[a[2]])?(a[4]=/\\/.test(a[4])?Te(a[4]):a[4],f="i"==a[5]||le[o.toLowerCase()],l=l.replace(/\%m/g,f?a[4].toLowerCase():a[4])):"!="!=a[2]&&"="!=a[2]||(l="n"+a[2]+'=""'),t='if(n=s.hasAttribute(e,"'+a[1]+'")){'+(a[2]?'n=s.getAttribute(e,"'+a[1]+'")':"")+(f&&a[2]?".toLowerCase();":";")+"if("+(a[2]?l:"n")+"){"+t+"}}"}else if(a=e.match(B.adjacent))t=Q?"var N"+p+"=e;if((e=e.previousElementSibling)){"+t+"}e=N"+p+";":"var N"+p+"=e;while((e=e.previousSibling)){if(e.nodeType==1){"+t+"break;}}e=N"+p+";";else if(a=e.match(B.relative))t=Q?"var N"+p+"=e;while((e=e.previousElementSibling)){"+t+"}e=N"+p+";":"var N"+p+"=e;while((e=e.previousSibling)){if(e.nodeType==1){"+t+"}}e=N"+p+";";else if(a=e.match(B.children))t="var N"+p+"=e;if((e=e.parentNode&&e.parentNode.host||e.parentNode)&&e.nodeType==1){"+t+"}e=N"+p+";";else if(a=e.match(B.ancestor))t="var N"+p+"=e;while((e=e.parentNode&&e.parentNode.host||e.parentNode)&&e.nodeType==1){"+t+"}e=N"+p+";";else if((a=e.match(B.spseudos))&&a[1])switch(a[1]){case"root":t=a[3]?"if(e===h||s.contains(h,e)){"+t+"}":"if(e===h){"+t+"}";break;case"empty":t="if(s.isEmpty(e)){"+t+"}";break;default:if(a[1]&&a[2]){if("n"==a[2]){t="if(e!==h){"+t+"}";break}"even"==a[2]?(r=2,i=0):"odd"==a[2]?(r=2,i=1):(i=(u=a[2].match(/(-?\d+)$/))?parseInt(u[1],10):0,r=(u=a[2].match(/(-?\d*)n/i))?parseInt(u[1],10):0,u&&"-"==u[1]&&(r=-1)),l=r>1?/last/i.test(a[1])?"(n-("+i+"))%"+r+"==0":"n>="+i+"&&(n-("+i+"))%"+r+"==0":r<-1?/last/i.test(a[1])?"(n-("+i+"))%"+r+"==0":"n<="+i+"&&(n-("+i+"))%"+r+"==0":0===r?"n=="+i:-1==r?"n<="+i:"n>="+i,t="if(e!==h){n=s["+(/-of-type/i.test(a[1])?'"nthOfType"':'"nthElement"')+"](e,"+(/last/i.test(a[1])?"true":"false")+");if("+l+"){"+t+"}}"}else r=/first/i.test(a[1])?"previous":"next",u=/only/i.test(a[1])?"previous":"next",i=/first|last/i.test(a[1]),t="if(e!==h){n=e;while((n=n."+r+"Sibling)"+(f=/-of-type/i.test(a[1])?"&&n.nodeName!=e.nodeName":'&&n.nodeName<"@"')+");if(!n){"+(i?t:"n=e;while((n=n."+u+"Sibling)"+f+");if(!n){"+t+"}")+"}}"}else if((a=e.match(B.dpseudos))&&a[1])switch(a[1].match(/^\w+/)[0]){case"host":const n=t;a[3]?(o=a[3].replace(D,""),t="if(e && e.shadowRoot && "+Be(o,"",!1)+"(e,s,d,h,g)){"+n+"}"):t="if(e && e.shadowRoot) { "+n+"}";break;case"matches":t='if(s.match(e, "'+(o=a[3].replace(D,"")).replace(/\x22/g,'\\"')+'",g)){'+t+"}";break;case"not":if(o=a[3].replace(D,""),Ue.SIMPLENOT&&!T.test(o))return Pe('Negation pseudo-class only accepts simple selectors "'+e+'"'),"";t="compatMode"in b?"if(!"+Be(o,"",!1)+"(e,s,d,h,g)){"+t+"}":'if(!s.match(e, "'+o.replace(/\x22/g,'\\"')+'",g)){'+t+"}";break;case"checked":t='if((typeof e.form!=="undefined"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)'+(Ue.USE_HTML5?"||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))":"")+"){"+t+"}";break;case"disabled":t='if(((typeof e.form!=="undefined"'+(Ue.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===true){"+t+"}";break;case"enabled":t='if(((typeof e.form!=="undefined"'+(Ue.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===false){"+t+"}";break;case"lang":l="",a[2]&&(l=a[2].substr(0,2)+"-"),t='do{(n=e.lang||"").toLowerCase();if((n==""&&h.lang=="'+a[2].toLowerCase()+'")||(n&&(n=="'+a[2].toLowerCase()+'"||n.substr(0,3)=="'+l.toLowerCase()+'"))){'+t+"break;}}while((e=e.parentNode||e.host)&&e!==g);";break;case"target":t="if(e.id==d.location.hash.slice(1)){"+t+"}";break;case"link":t="if(s.isLink(e)&&!e.visited){"+t+"}";break;case"visited":t="if(s.isLink(e)&&e.visited){"+t+"}";break;case"active":if(A)break;t="if(e===d.activeElement){"+t+"}";break;case"hover":if(A)break;t="if(e===d.hoverElement){"+t+"}";break;case"focus":if(A)break;t=Y?'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex=="number")){'+t+"}":"if(e===d.activeElement&&(e.type||e.href)){"+t+"}";break;case"selected":t="if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked"+(o=te?"||(n=e.parentNode||e.host)&&n.options[n.selectedIndex]===e":"")+")){"+t+"}"}else if((a=e.match(B.epseudos))&&a[1])t="if(!(/11/).test(e.nodeType)){"+t+"}";else{o=!1,s=!1;for(o in fe)if((a=e.match(fe[o].Expression))&&a[1]&&("match"in(c=fe[o].Callback(a,t))&&(a=c.match),t=c.source,s=c.status))break;if(!s)return Pe('Unknown pseudo-class selector "'+e+'"'),"";if(!o)return Pe('Unknown token in selector "'+e+'"'),""}if(!a)return Pe('Invalid syntax in selector "'+e+'"'),"";e=a&&a[a.length-1]}return t},ke=function(e,n,r,u){var a;if(!e||1!=e.nodeType)return Pe("Invalid element argument"),!1;if("string"!=typeof n)return Pe("Invalid selector argument"),!1;if(r&&1==r.nodeType&&!Me(r,e))return!1;if(i!==r&&Ee(r||(r=e.ownerDocument)),n=n.replace(D,"").replace(/\x00|\\$/g,"�"),Ue.SHORTCUTS&&(n=Qe.shortcuts(n,e,r)),o!=n){if(!(a=n.match(p))||a[0]!=n)return Pe('The string "'+n+'", is not a valid CSS selector'),!1;t=(a=n.match(U)).length<2,o=n,c=a}else a=c;return He[n]&&Ge[n]===r||(He[n]=Be(t?[n]:a,"",!1),Ge[n]=r),He[n](e,ze,b,x,r,u)},Ye=function(e,t){return Fe(e,t,function(){return!1})[0]||null},Fe=function(e,t,o){var c,l,f,d,h,E,v=e;if(0===arguments.length)return Pe("Not enough arguments"),[];if("string"!=typeof e)return[];if(t&&!/1|9|11/.test(t.nodeType))return Pe("Invalid or illegal context element"),[];if(i!==t&&Ee(t||(t=b)),Ue.CACHING&&(d=Qe.loadResults(v,t,b,x)))return o?he([],d,o):d;if(e=e.replace(D,"").replace(/\x00|\\$/g,"�"),!re&&S.test(e))switch(e.charAt(0)){case"#":Ue.UNIQUE_ID&&(d=(f=me(e.slice(1),t))?[f]:[]);break;case".":d=be(e.slice(1),t);break;default:d=Re(e,t)}else if(!A&&Ue.USE_QSAPI&&(!O||!m.test(e))&&!ie.test(e))try{d=t.querySelectorAll(e)}catch(e){}if(d)return d=o?he([],d,o):z?M.call(d):de([],d),Ue.CACHING&&Qe.saveResults(v,t,b,d),d;if(Ue.SHORTCUTS&&(e=Qe.shortcuts(e,t)),l=a!=e){if(!(h=e.match(p))||h[0]!=e)return Pe('The string "'+e+'", is not a valid CSS selector'),[];n=(h=e.match(U)).length<2,a=e,s=h}else h=s;if(11==t.nodeType)d=Ne("*",t);else if(!A&&n){if(l&&(E=(h=e.match(_))[h.length-1],r=E.split(":not"),r=r[r.length-1],u=e.length-E.length),Ue.UNIQUE_ID&&r&&(h=r.match(g.ID))&&(E=h[1])?(f=me(E,t))&&(ke(f,e)?(o&&o(f),d=[f]):d=[]):Ue.UNIQUE_ID&&(h=e.match(g.ID))&&(E=h[1])&&((f=me(E,b))?"#"+E==e?(o&&o(f),d=[f]):t=/[>+~]/.test(e)?f.parentNode:f:d=[]),d)return Ue.CACHING&&Qe.saveResults(v,t,b,d),d;if(!H&&r&&(h=r.match(g.TAG))&&(E=h[1])){if(0===(d=Re(E,t)).length)return[];e=e.slice(0,u)+e.slice(u).replace(E,"*")}else if(r&&(h=r.match(g.CLASS))&&(E=h[1])){if(0===(d=be(E,t)).length)return[];e=e.slice(0,u)+e.slice(u).replace("."+E,y.test(e.charAt(e.indexOf(E)-1))?"":"*")}else if((h=e.match(g.CLASS))&&(E=h[1])){if(0===(d=be(E,t)).length)return[];for(c=0,els=[];d.length>c;++c)els=de(els,d[c].getElementsByTagName("*"));d=els,e=e.slice(0,u)+e.slice(u).replace("."+E,y.test(e.charAt(e.indexOf(E)-1))?"":"*")}else if(H&&r&&(h=r.match(g.TAG))&&(E=h[1])){if(0===(d=Re(E,t)).length)return[];e=e.slice(0,u)+e.slice(u).replace(E,"*")}}return d||(d=ue?/^(?:applet|object)$/i.test(t.nodeName)?t.children:Ne("*",t):t.getElementsByTagName("*")),We[e]&&$e[e]===t||(We[e]=Be(n?[e]:h,"",!0),$e[e]=t),d=We[e](d,ze,b,x,t,o),Ue.CACHING&&Qe.saveResults(v,t,b,d),d},Ke=function(e){return e},Ge={},He={},$e={},We={},ze={nthElement:function(e,t){for(var n=1,r=t?"nextSibling":"previousSibling";e=e[r];)e.nodeName>"@"&&++n;return n},nthOfType:function(e,t){for(var n=1,r=t?"nextSibling":"previousSibling",i=e.nodeName;e=e[r];)e.nodeName==i&&++n;return n},getAttribute:Le,hasAttribute:Ie,byClass:be,byName:Ce,byTag:Re,byId:me,contains:Me,isEmpty:function(e){for(e=e.firstChild;e;){if(3==e.nodeType||e.nodeName>"@")return!1;e=e.nextSibling}return!0},isLink:function(e){return Ie(e,"href")&&oe[e.nodeName]},select:Fe,match:ke},Qe={ACCEPT_NODE:Ve,byId:Se,byTag:Oe,byName:Ce,byClass:xe,getAttribute:Le,hasAttribute:Ie,match:ke,first:Ye,select:Fe,compile:Be,contains:Me,configure:we,setCache:Ke,loadResults:Ke,saveResults:Ke,shortcuts:Ke,emit:Pe,Config:Ue,Snapshot:ze,Operators:pe,Selectors:fe,Tokens:j,Version:"nwmatcher-1.4.3",registerOperator:function(e,t){pe[e]||(pe[e]=t)},registerSelector:function(e,t,n){fe[e]||(fe[e]={Expression:t,Callback:n})}};return function(e){De(),Ee(e,!0)}(b),Qe},Ur=i(function(e,t){var n=gr&&gr.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getLightDomWrapper=wr.weakMemo(function(e){switch(e.type){case Ir.SlimVMObjectType.TEXT:return new c(e);case Ir.SlimVMObjectType.ELEMENT:return new o(e);case Ir.SlimVMObjectType.DOCUMENT:case Ir.SlimVMObjectType.DOCUMENT_FRAGMENT:return new a(e)}}),t.getLightDocumentWrapper=wr.weakMemo(function(e){var n=new s;return n.body=t.getLightDomWrapper(e),n}),t.traverseLightDOM=function(e,n){if(!1===n(e))return!1;for(var r=0,i=e.childNodes.length;r<i;r++){var u=e.childNodes[r];if(!1===t.traverseLightDOM(u,n))return!1}return!0};var r=function(){function e(e){this.source=e,this.childNodes=[]}return Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.parentNode?this.parentNode.childNodes[this.parentNode.childNodes.indexOf(this)+1]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prevSibling",{get:function(){return this.parentNode?this.parentNode.childNodes[this.parentNode.childNodes.indexOf(this)-1]:null},enumerable:!0,configurable:!0}),e}();t.LightBaseNode=r;var i=function(e){function r(n){var r=e.call(this,n)||this;return n&&(r.childNodes=n.childNodes.map(function(e){var n=t.getLightDomWrapper(e);return n.parentNode=r,n})),r}return n(r,e),r.prototype.appendChild=function(e){return this.childNodes.push(e),e},r.prototype.insertBefore=function(e,t){var n=this.childNodes.indexOf(t);return this.childNodes.splice(n,0,e),e},Object.defineProperty(r.prototype,"firstChild",{get:function(){return this.childNodes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lastChild",{get:function(){return this.childNodes[this.childNodes.length-1]},enumerable:!0,configurable:!0}),r}(r);t.LightParentNode=i;var u=function(){function e(e,t){this.name=e,this.value=t,this.specified=!0}return e}(),o=function(e){function r(n,r){var i=e.call(this,n)||this;if(i.nodeType=1,i.ownerDocument=r,i.nodeName=i.tagName=n.tagName,n){n.shadow&&(i.shadowRoot=t.getLightDomWrapper(n.shadow),i.shadowRoot.host=i),i._attributesByName={},i.attributes=[];for(var u=0,o=n.attributes.length;u<o;u++){var a=n.attributes[u],c=a.name,s=a.value;i.setAttribute(c,s)}}return i}return n(r,e),r.prototype.setAttribute=function(e,t){var n=this.getAttributeNode(e);n?n.value=t:this.attributes.push(this._attributesByName[e]=new u(e,t))},r.prototype.removeAttribute=function(e){var t=this.getAttributeNode(e);if(t){this._attributesByName[e]=void 0;var n=this.attributes.indexOf(t);this.attributes.splice(n,1)}},r.prototype.hasAttribute=function(e){return Boolean(this._attributesByName[e])},r.prototype.getAttributeNode=function(e){return this._attributesByName[e]},r.prototype.getAttribute=function(e){var t=this._attributesByName[e];return"class"===e&&console.log(t.value),t&&t.value},r}(i);t.LightElement=o;var a=function(e){function t(t){var n=e.call(this,t)||this;return n.nodeType=11,n.nodeName="#document-fragment",n}return n(t,e),t}(i);t.LightDocumentFragment=a;var c=function(e){function t(t){var n=e.call(this,t)||this;return n.nodeType=3,n.nodeName="#text",n.nodeValue=t.value,n}return n(t,e),t}(r);t.LightTextNode=c;var s=function(){function e(){this.nodeType=9,this.documentElement=this.createElement("html"),this.documentElement.childNodes[0]=this.createElement("head")}return Object.defineProperty(e.prototype,"body",{get:function(){return this.documentElement.childNodes[1]},set:function(e){this._elementsById={},this.documentElement.childNodes[1]=e,e.parentNode=this.documentElement},enumerable:!0,configurable:!0}),e.prototype.createElement=function(e){return new o({tagName:e,id:null,type:Ir.SlimVMObjectType.ELEMENT,attributes:[],source:null,shadow:null,childNodes:[]},this)},e.prototype.getElementById=function(e){if(this._elementsById[e])return this._elementsById[e];var n;return t.traverseLightDOM(this.documentElement,function(t){if(1===t.nodeType&&t.getAttribute(e)===e)return n=t,!1}),this._elementsById[e]=n},e}();t.LightDocument=s});r(Ur);Ur.getLightDomWrapper,Ur.getLightDocumentWrapper,Ur.traverseLightDOM,Ur.LightBaseNode,Ur.LightParentNode,Ur.LightElement,Ur.LightDocumentFragment,Ur.LightTextNode,Ur.LightDocument;var Dr=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.querySelector=function(e,n){var r=t.querySelectorAll(e,n,n);return r.length?r[0]:null};var n=new Ur.LightDocument,r=Pr({document:n});r.configure({CACHING:!0,VERBOSITY:!1}),t.elementMatches=wr.weakMemo(function(e,t,i){Ur.getLightDomWrapper(i);var u=Ur.getLightDomWrapper(t);return u.ownerDocument=n,1===u.nodeType&&r.match(u,e)}),t.querySelectorAll=wr.weakMemo(function(e,n,r){var i=[];if(t.elementMatches(e,n,r)&&i.push(n),n.childNodes)for(var u=n,o=0,a=u.childNodes.length;o<a;o++)i.push.apply(i,t.querySelectorAll(e,u.childNodes[o],r));return i})});r(Dr);Dr.querySelector,Dr.elementMatches,Dr.querySelectorAll;var Vr=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=[],n=0;n<e.length;){var r=e.charAt(n),i=e.substr(n).match(/^([a-zA-Z0-9-\.\-\\]+|\(|\)|\:|\s|\t|\,|\/|\+|\-)/);if(!i)throw new Error("Syntax error, unexpected token "+r+" in "+e+".");/^[\s\t]+$/.test(i[1])||t.push(i[1]),n+=i[1].length}return t},r=function(e,t){return e.replace("px","")},i={"min-width":["getWidth(context)",">"],"max-width":["getWidth(context)","<"],"min-height":["getHeight(context)",">"],"max-height":["getHeight(context)","<"],"-webkit-min-device-pixel-ratio":["false","&&"],"min--moz-device-pixel-ratio":["false","&&"],"-o-min-device-pixel-ratio":["false","&&"],"min-device-pixel-ratio":["false","&&"],"min-resolution":["false","&&"]},u=function(e,t,n){for(var r=[];e<t.length;){var o=t[e];if(o===n)break;if(e++,!/^(only|\(\))$/.test(o))if(/^(print)$/.test(o))r.push("false");else if("screen"===o)r.push("true");else if(i[o]){var a=u(++e,t,")");e+=a.length,r.push.apply(r,i[o].concat(['calcMeasurement("'+a.join(" ")+'"',", context)"]))}else"and"===o?r.push("&&"):"or"===o||","===o?r.push("&&"):r.push(o)}return r},o=function(e){return u(0,n(e)).join(" ")},a=wr.weakMemo(function(e){return new Function("context","calcMeasurement","getWidth","getHeight","return "+o(e))}),c=function(e){var t=e.bounds;return t.right-t.length},s=function(e){var t=e.bounds;return t.bottom-t.top};t.createMediaMatcher=function(e){return function(t){return a(t)(e,c,s,r)}}});r(Vr);Vr.createMediaMatcher;var Br=i(function(e,t){(function(){function n(e,t){return e.set(t[0],t[1]),e}function r(e,t){return e.add(t),e}function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t,n,r){for(var i=-1,u=null==e?0:e.length;++i<u;){var o=e[i];t(r,o,n(o),e)}return r}function o(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function a(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function c(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function s(e,t){for(var n=-1,r=null==e?0:e.length,i=0,u=[];++n<r;){var o=e[n];t(o,n,e)&&(u[i++]=o)}return u}function l(e,t){return!!(null==e?0:e.length)&&m(e,t,0)>-1}function f(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function p(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function d(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function h(e,t,n,r){var i=-1,u=null==e?0:e.length;for(r&&u&&(n=e[++i]);++i<u;)n=t(n,e[i],i,e);return n}function E(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function v(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function y(e){return e.split("")}function T(e){return e.match(Pt)||[]}function _(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function g(e,t,n,r){for(var i=e.length,u=n+(r?1:-1);r?u--:++u<i;)if(t(e[u],u,e))return u;return-1}function m(e,t,n){return t===t?z(e,t,n):g(e,N,n)}function S(e,t,n,r){for(var i=n-1,u=e.length;++i<u;)if(r(e[i],t))return i;return-1}function N(e){return e!==e}function R(e,t){var n=null==e?0:e.length;return n?x(e,t)/n:Ie}function O(e){return function(t){return null==t?te:t[e]}}function C(e){return function(t){return null==e?te:e[t]}}function A(e,t,n,r,i){return i(e,function(e,i,u){n=r?(r=!1,e):t(n,e,i,u)}),n}function b(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function x(e,t){for(var n,r=-1,i=e.length;++r<i;){var u=t(e[r]);u!==te&&(n=n===te?u:n+u)}return n}function M(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function L(e,t){return p(t,function(t){return[t,e[t]]})}function I(e){return function(t){return e(t)}}function w(e,t){return p(t,function(t){return e[t]})}function P(e,t){return e.has(t)}function U(e,t){for(var n=-1,r=e.length;++n<r&&m(t,e[n],0)>-1;);return n}function D(e,t){for(var n=e.length;n--&&m(t,e[n],0)>-1;);return n}function V(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function B(e){return"\\"+gn[e]}function j(e,t){return null==e?te:e[t]}function k(e){return fn.test(e)}function Y(e){return pn.test(e)}function F(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function K(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function G(e,t){return function(n){return e(t(n))}}function H(e,t){for(var n=-1,r=e.length,i=0,u=[];++n<r;){var o=e[n];o!==t&&o!==ae||(e[n]=ae,u[i++]=n)}return u}function $(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function z(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Q(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function X(e){return k(e)?J(e):Vn(e)}function q(e){return k(e)?Z(e):y(e)}function J(e){for(var t=sn.lastIndex=0;sn.test(e);)++t;return t}function Z(e){return e.match(sn)||[]}function ee(e){return e.match(ln)||[]}var te,ne=200,re="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ie="Expected a function",ue="__lodash_hash_undefined__",oe=500,ae="__lodash_placeholder__",ce=1,se=2,le=4,fe=1,pe=2,de=1,he=2,Ee=4,ve=8,ye=16,Te=32,_e=64,ge=128,me=256,Se=512,Ne=30,Re="...",Oe=800,Ce=16,Ae=1,be=2,xe=1/0,Me=9007199254740991,Le=1.7976931348623157e308,Ie=NaN,we=4294967295,Pe=we-1,Ue=we>>>1,De=[["ary",ge],["bind",de],["bindKey",he],["curry",ve],["curryRight",ye],["flip",Se],["partial",Te],["partialRight",_e],["rearg",me]],Ve="[object Arguments]",Be="[object Array]",je="[object AsyncFunction]",ke="[object Boolean]",Ye="[object Date]",Fe="[object DOMException]",Ke="[object Error]",Ge="[object Function]",He="[object GeneratorFunction]",$e="[object Map]",We="[object Number]",ze="[object Null]",Qe="[object Object]",Xe="[object Proxy]",qe="[object RegExp]",Je="[object Set]",Ze="[object String]",et="[object Symbol]",tt="[object Undefined]",nt="[object WeakMap]",rt="[object WeakSet]",it="[object ArrayBuffer]",ut="[object DataView]",ot="[object Float32Array]",at="[object Float64Array]",ct="[object Int8Array]",st="[object Int16Array]",lt="[object Int32Array]",ft="[object Uint8Array]",pt="[object Uint8ClampedArray]",dt="[object Uint16Array]",ht="[object Uint32Array]",Et=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,_t=/[&<>"']/g,gt=RegExp(Tt.source),mt=RegExp(_t.source),St=/<%=([\s\S]+?)%>/g,Nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rt=/^\w*$/,Ot=/^\./,Ct=/[\\^$.*+?()[\]{}|]/g,At=RegExp(Ct.source),bt=/^\s+|\s+$/g,xt=/^\s+/,Mt=/\s+$/,Lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,It=/\{\n\/\* \[wrapped with (.+)\] \*/,wt=/,? & /,Pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,Vt=/^[-+]0x[0-9a-f]+$/i,Bt=/^0b[01]+$/i,jt=/^\[object .+?Constructor\]$/,kt=/^0o[0-7]+$/i,Yt=/^(?:0|[1-9]\d*)$/,Ft=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Gt=/['\n\r\u2028\u2029\\]/g,Ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$t="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wt="["+$t+"]",zt="["+Ht+"]",Qt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Xt="[^\\ud800-\\udfff"+$t+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",qt="\\ud83c[\\udffb-\\udfff]",Jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Zt="[\\ud800-\\udbff][\\udc00-\\udfff]",en="[A-Z\\xc0-\\xd6\\xd8-\\xde]",tn="(?:"+Qt+"|"+Xt+")",nn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",rn="[\\ufe0e\\ufe0f]?"+nn+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Jt,Zt].join("|")+")[\\ufe0e\\ufe0f]?"+nn+")*"),un="(?:"+["[\\u2700-\\u27bf]",Jt,Zt].join("|")+")"+rn,on="(?:"+["[^\\ud800-\\udfff]"+zt+"?",zt,Jt,Zt,"[\\ud800-\\udfff]"].join("|")+")",an=RegExp("['’]","g"),cn=RegExp(zt,"g"),sn=RegExp(qt+"(?="+qt+")|"+on+rn,"g"),ln=RegExp([en+"?"+Qt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Wt,en,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Wt,en+tn,"$"].join("|")+")",en+"?"+tn+"+(?:['’](?:d|ll|m|re|s|t|ve))?",en+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",un].join("|"),"g"),fn=RegExp("[\\u200d\\ud800-\\udfff"+Ht+"\\ufe0e\\ufe0f]"),pn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hn=-1,En={};En[ot]=En[at]=En[ct]=En[st]=En[lt]=En[ft]=En[pt]=En[dt]=En[ht]=!0,En[Ve]=En[Be]=En[it]=En[ke]=En[ut]=En[Ye]=En[Ke]=En[Ge]=En[$e]=En[We]=En[Qe]=En[qe]=En[Je]=En[Ze]=En[nt]=!1;var vn={};vn[Ve]=vn[Be]=vn[it]=vn[ut]=vn[ke]=vn[Ye]=vn[ot]=vn[at]=vn[ct]=vn[st]=vn[lt]=vn[$e]=vn[We]=vn[Qe]=vn[qe]=vn[Je]=vn[Ze]=vn[et]=vn[ft]=vn[pt]=vn[dt]=vn[ht]=!0,vn[Ke]=vn[Ge]=vn[nt]=!1;var yn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},mn=parseFloat,Sn=parseInt,Nn="object"==typeof gr&&gr&&gr.Object===Object&&gr,Rn="object"==typeof self&&self&&self.Object===Object&&self,On=Nn||Rn||Function("return this")(),Cn=t&&!t.nodeType&&t,An=Cn&&!0&&e&&!e.nodeType&&e,bn=An&&An.exports===Cn,xn=bn&&Nn.process,Mn=function(){try{return xn&&xn.binding&&xn.binding("util")}catch(e){}}(),Ln=Mn&&Mn.isArrayBuffer,In=Mn&&Mn.isDate,wn=Mn&&Mn.isMap,Pn=Mn&&Mn.isRegExp,Un=Mn&&Mn.isSet,Dn=Mn&&Mn.isTypedArray,Vn=O("length"),Bn=C(yn),jn=C(Tn),kn=C(_n),Yn=function e(t){function y(e){if(tc(e)&&!dp(e)&&!(e instanceof J)){if(e instanceof z)return e;if(pl.call(e,"__wrapped__"))return qu(e)}return new z(e)}function C(){}function z(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=te}function J(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=we,this.__views__=[]}function Z(){var e=new J(this.__wrapped__);return e.__actions__=wi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=wi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=wi(this.__views__),e}function Pt(){if(this.__filtered__){var e=new J(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e}function Ht(){var e=this.__wrapped__.value(),t=this.__dir__,n=dp(e),r=t<0,i=n?e.length:0,u=Su(0,i,this.__views__),o=u.start,a=u.end,c=a-o,s=r?a:o-1,l=this.__iteratees__,f=l.length,p=0,d=Fl(c,this.__takeCount__);if(!n||!r&&i==c&&d==c)return hi(e,this.__actions__);var h=[];e:for(;c--&&p<d;){for(var E=-1,v=e[s+=t];++E<f;){var y=l[E],T=y.iteratee,_=y.type,g=T(v);if(_==be)v=g;else if(!g){if(_==Ae)continue e;break e}}h[p++]=v}return h}function $t(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wt(){this.__data__=Jl?Jl(null):{},this.size=0}function zt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Qt(e){var t=this.__data__;if(Jl){var n=t[e];return n===ue?te:n}return pl.call(t,e)?t[e]:te}function Xt(e){var t=this.__data__;return Jl?t[e]!==te:pl.call(t,e)}function qt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jl&&t===te?ue:t,this}function Jt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zt(){this.__data__=[],this.size=0}function en(e){var t=this.__data__,n=$n(t,e);return!(n<0)&&(n==t.length-1?t.pop():Cl.call(t,n,1),--this.size,!0)}function tn(e){var t=this.__data__,n=$n(t,e);return n<0?te:t[n][1]}function nn(e){return $n(this.__data__,e)>-1}function rn(e,t){var n=this.__data__,r=$n(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function on(){this.size=0,this.__data__={hash:new $t,map:new(zl||Jt),string:new $t}}function sn(e){var t=Tu(this,e).delete(e);return this.size-=t?1:0,t}function ln(e){return Tu(this,e).get(e)}function fn(e){return Tu(this,e).has(e)}function pn(e,t){var n=Tu(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new un;++t<n;)this.add(e[t])}function Tn(e){return this.__data__.set(e,ue),this}function _n(e){return this.__data__.has(e)}function gn(e){var t=this.__data__=new Jt(e);this.size=t.size}function Nn(){this.__data__=new Jt,this.size=0}function Rn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Cn(e){return this.__data__.get(e)}function An(e){return this.__data__.has(e)}function xn(e,t){var n=this.__data__;if(n instanceof Jt){var r=n.__data__;if(!zl||r.length<ne-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new un(r)}return n.set(e,t),this.size=n.size,this}function Mn(e,t){var n=dp(e),r=!n&&pp(e),i=!n&&!r&&Ep(e),u=!n&&!r&&!i&&gp(e),o=n||r||i||u,a=o?M(e.length,ul):[],c=a.length;for(var s in e)!t&&!pl.call(e,s)||o&&("length"==s||i&&("offset"==s||"parent"==s)||u&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Mu(s,c))||a.push(s);return a}function Vn(e){var t=e.length;return t?e[Qr(0,t-1)]:te}function Fn(e,t){return Wu(wi(e),Jn(t,0,e.length))}function Kn(e){return Wu(wi(e))}function Gn(e,t,n){(n===te||Ya(e[t],n))&&(n!==te||t in e)||Xn(e,t,n)}function Hn(e,t,n){var r=e[t];pl.call(e,t)&&Ya(r,n)&&(n!==te||t in e)||Xn(e,t,n)}function $n(e,t){for(var n=e.length;n--;)if(Ya(e[n][0],t))return n;return-1}function Wn(e,t,n,r){return ff(e,function(e,i,u){t(r,e,n(e),u)}),r}function zn(e,t){return e&&Pi(t,Dc(t),e)}function Qn(e,t){return e&&Pi(t,Vc(t),e)}function Xn(e,t,n){"__proto__"==t&&Ml?Ml(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function qn(e,t){for(var n=-1,r=t.length,i=Js(r),u=null==e;++n<r;)i[n]=u?te:wc(e,t[n]);return i}function Jn(e,t,n){return e===e&&(n!==te&&(e=e<=n?e:n),t!==te&&(e=e>=t?e:t)),e}function Zn(e,t,n,r,i,u){var a,c=t&ce,s=t&se,l=t&le;if(n&&(a=i?n(e,r,i,u):n(e)),a!==te)return a;if(!ec(e))return e;var f=dp(e);if(f){if(a=Ou(e),!c)return wi(e,a)}else{var p=Nf(e),d=p==Ge||p==He;if(Ep(e))return mi(e,c);if(p==Qe||p==Ve||d&&!i){if(a=s||d?{}:Cu(e),!c)return s?Di(e,Qn(a,e)):Ui(e,zn(a,e))}else{if(!vn[p])return i?e:{};a=Au(e,p,Zn,c)}}u||(u=new gn);var h=u.get(e);if(h)return h;u.set(e,a);var E=l?s?hu:du:s?Vc:Dc,v=f?te:E(e);return o(v||e,function(r,i){v&&(r=e[i=r]),Hn(a,i,Zn(r,t,n,i,e,u))}),a}function er(e){var t=Dc(e);return function(n){return tr(n,e,t)}}function tr(e,t,n){var r=n.length;if(null==e)return!r;for(e=rl(e);r--;){var i=n[r],u=t[i],o=e[i];if(o===te&&!(i in e)||!u(o))return!1}return!0}function nr(e,t,n){if("function"!=typeof e)throw new ol(ie);return Cf(function(){e.apply(te,n)},t)}function rr(e,t,n,r){var i=-1,u=l,o=!0,a=e.length,c=[],s=t.length;if(!a)return c;n&&(t=p(t,I(n))),r?(u=f,o=!1):t.length>=ne&&(u=P,o=!1,t=new yn(t));e:for(;++i<a;){var d=e[i],h=null==n?d:n(d);if(d=r||0!==d?d:0,o&&h===h){for(var E=s;E--;)if(t[E]===h)continue e;c.push(d)}else u(t,h,r)||c.push(d)}return c}function ir(e,t){var n=!0;return ff(e,function(e,r,i){return n=!!t(e,r,i)}),n}function ur(e,t,n){for(var r=-1,i=e.length;++r<i;){var u=e[r],o=t(u);if(null!=o&&(a===te?o===o&&!pc(o):n(o,a)))var a=o,c=u}return c}function or(e,t,n,r){var i=e.length;for((n=Tc(n))<0&&(n=-n>i?0:i+n),(r=r===te||r>i?i:Tc(r))<0&&(r+=i),r=n>r?0:_c(r);n<r;)e[n++]=t;return e}function ar(e,t){var n=[];return ff(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function cr(e,t,n,r,i){var u=-1,o=e.length;for(n||(n=xu),i||(i=[]);++u<o;){var a=e[u];t>0&&n(a)?t>1?cr(a,t-1,n,r,i):d(i,a):r||(i[i.length]=a)}return i}function sr(e,t){return e&&df(e,t,Dc)}function lr(e,t){return e&&hf(e,t,Dc)}function fr(e,t){return s(t,function(t){return qa(e[t])})}function pr(e,t){for(var n=0,r=(t=_i(t,e)).length;null!=e&&n<r;)e=e[zu(t[n++])];return n&&n==r?e:te}function dr(e,t,n){var r=t(e);return dp(e)?r:d(r,n(e))}function hr(e){return null==e?e===te?tt:ze:xl&&xl in rl(e)?mu(e):Yu(e)}function Er(e,t){return e>t}function vr(e,t){return null!=e&&pl.call(e,t)}function yr(e,t){return null!=e&&t in rl(e)}function Tr(e,t,n){return e>=Fl(t,n)&&e<Yl(t,n)}function _r(e,t,n){for(var r=n?f:l,i=e[0].length,u=e.length,o=u,a=Js(u),c=1/0,s=[];o--;){var d=e[o];o&&t&&(d=p(d,I(t))),c=Fl(d.length,c),a[o]=!n&&(t||i>=120&&d.length>=120)?new yn(o&&d):te}d=e[0];var h=-1,E=a[0];e:for(;++h<i&&s.length<c;){var v=d[h],y=t?t(v):v;if(v=n||0!==v?v:0,!(E?P(E,y):r(s,y,n))){for(o=u;--o;){var T=a[o];if(!(T?P(T,y):r(e[o],y,n)))continue e}E&&E.push(y),s.push(v)}}return s}function gr(e,t,n,r){return sr(e,function(e,i,u){t(r,n(e),i,u)}),r}function mr(e,t,n){var r=null==(e=Ku(e,t=_i(t,e)))?e:e[zu(yo(t))];return null==r?te:i(r,e,n)}function Sr(e){return tc(e)&&hr(e)==Ve}function Nr(e){return tc(e)&&hr(e)==it}function Rr(e){return tc(e)&&hr(e)==Ye}function Or(e,t,n,r,i){return e===t||(null==e||null==t||!tc(e)&&!tc(t)?e!==e&&t!==t:Cr(e,t,n,r,Or,i))}function Cr(e,t,n,r,i,u){var o=dp(e),a=dp(t),c=o?Be:Nf(e),s=a?Be:Nf(t),l=(c=c==Ve?Qe:c)==Qe,f=(s=s==Ve?Qe:s)==Qe,p=c==s;if(p&&Ep(e)){if(!Ep(t))return!1;o=!0,l=!1}if(p&&!l)return u||(u=new gn),o||gp(e)?su(e,t,n,r,i,u):lu(e,t,c,n,r,i,u);if(!(n&fe)){var d=l&&pl.call(e,"__wrapped__"),h=f&&pl.call(t,"__wrapped__");if(d||h){var E=d?e.value():e,v=h?t.value():t;return u||(u=new gn),i(E,v,n,r,u)}}return!!p&&(u||(u=new gn),fu(e,t,n,r,i,u))}function Ar(e){return tc(e)&&Nf(e)==$e}function br(e,t,n,r){var i=n.length,u=i,o=!r;if(null==e)return!u;for(e=rl(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<u;){var c=(a=n[i])[0],s=e[c],l=a[1];if(o&&a[2]){if(s===te&&!(c in e))return!1}else{var f=new gn;if(r)var p=r(s,l,c,e,t,f);if(!(p===te?Or(l,s,fe|pe,r,f):p))return!1}}return!0}function xr(e){return!(!ec(e)||Uu(e))&&(qa(e)?Tl:jt).test(Qu(e))}function Mr(e){return tc(e)&&hr(e)==qe}function Lr(e){return tc(e)&&Nf(e)==Je}function Ir(e){return tc(e)&&Za(e.length)&&!!En[hr(e)]}function wr(e){return"function"==typeof e?e:null==e?Cs:"object"==typeof e?dp(e)?jr(e[0],e[1]):Br(e):Ps(e)}function Pr(e){if(!Du(e))return kl(e);var t=[];for(var n in rl(e))pl.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ur(e){if(!ec(e))return ku(e);var t=Du(e),n=[];for(var r in e)("constructor"!=r||!t&&pl.call(e,r))&&n.push(r);return n}function Dr(e,t){return e<t}function Vr(e,t){var n=-1,r=Fa(e)?Js(e.length):[];return ff(e,function(e,i,u){r[++n]=t(e,i,u)}),r}function Br(e){var t=_u(e);return 1==t.length&&t[0][2]?Bu(t[0][0],t[0][1]):function(n){return n===e||br(n,e,t)}}function jr(e,t){return Iu(e)&&Vu(t)?Bu(zu(e),t):function(n){var r=wc(n,e);return r===te&&r===t?Uc(n,e):Or(t,r,fe|pe)}}function kr(e,t,n,r,i){e!==t&&df(t,function(u,o){if(ec(u))i||(i=new gn),Yr(e,t,o,n,kr,r,i);else{var a=r?r(e[o],u,o+"",e,t,i):te;a===te&&(a=u),Gn(e,o,a)}},Vc)}function Yr(e,t,n,r,i,u,o){var a=e[n],c=t[n],s=o.get(c);if(s)return void Gn(e,n,s);var l=u?u(a,c,n+"",e,t,o):te,f=l===te;if(f){var p=dp(c),d=!p&&Ep(c),h=!p&&!d&&gp(c);l=c,p||d||h?dp(a)?l=a:Ka(a)?l=wi(a):d?(f=!1,l=mi(c,!0)):h?(f=!1,l=bi(c,!0)):l=[]:sc(c)||pp(c)?(l=a,pp(a)?l=mc(a):(!ec(a)||r&&qa(a))&&(l=Cu(c))):f=!1}f&&(o.set(c,l),i(l,c,r,u,o),o.delete(c)),Gn(e,n,l)}function Fr(e,t){var n=e.length;if(n)return t+=t<0?n:0,Mu(t,n)?e[t]:te}function Kr(e,t,n){var r=-1;return t=p(t.length?t:[Cs],I(yu())),b(Vr(e,function(e,n,i){return{criteria:p(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return Mi(e,t,n)})}function Gr(e,t){return Hr(e,t,function(t,n){return Uc(e,n)})}function Hr(e,t,n){for(var r=-1,i=t.length,u={};++r<i;){var o=t[r],a=pr(e,o);n(a,o)&&ti(u,_i(o,e),a)}return u}function $r(e){return function(t){return pr(t,e)}}function Wr(e,t,n,r){var i=r?S:m,u=-1,o=t.length,a=e;for(e===t&&(t=wi(t)),n&&(a=p(e,I(n)));++u<o;)for(var c=0,s=t[u],l=n?n(s):s;(c=i(a,l,c,r))>-1;)a!==e&&Cl.call(a,c,1),Cl.call(e,c,1);return e}function zr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==u){var u=i;Mu(i)?Cl.call(e,i,1):fi(e,i)}}return e}function Qr(e,t){return e+Ul(Hl()*(t-e+1))}function Xr(e,t,n,r){for(var i=-1,u=Yl(Pl((t-e)/(n||1)),0),o=Js(u);u--;)o[r?u:++i]=e,e+=n;return o}function qr(e,t){var n="";if(!e||t<1||t>Me)return n;do{t%2&&(n+=e),(t=Ul(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Af(Fu(e,t,Cs),e+"")}function Zr(e){return Vn(Qc(e))}function ei(e,t){var n=Qc(e);return Wu(n,Jn(t,0,n.length))}function ti(e,t,n,r){if(!ec(e))return e;for(var i=-1,u=(t=_i(t,e)).length,o=u-1,a=e;null!=a&&++i<u;){var c=zu(t[i]),s=n;if(i!=o){var l=a[c];(s=r?r(l,c,a):te)===te&&(s=ec(l)?l:Mu(t[i+1])?[]:{})}Hn(a,c,s),a=a[c]}return e}function ni(e){return Wu(Qc(e))}function ri(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var u=Js(i);++r<i;)u[r]=e[r+t];return u}function ii(e,t){var n;return ff(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function ui(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=Ue){for(;r<i;){var u=r+i>>>1,o=e[u];null!==o&&!pc(o)&&(n?o<=t:o<t)?r=u+1:i=u}return i}return oi(e,t,Cs,n)}function oi(e,t,n,r){t=n(t);for(var i=0,u=null==e?0:e.length,o=t!==t,a=null===t,c=pc(t),s=t===te;i<u;){var l=Ul((i+u)/2),f=n(e[l]),p=f!==te,d=null===f,h=f===f,E=pc(f);if(o)var v=r||h;else v=s?h&&(r||p):a?h&&p&&(r||!d):c?h&&p&&!d&&(r||!E):!d&&!E&&(r?f<=t:f<t);v?i=l+1:u=l}return Fl(u,Pe)}function ai(e,t){for(var n=-1,r=e.length,i=0,u=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!Ya(a,c)){var c=a;u[i++]=0===o?0:o}}return u}function ci(e){return"number"==typeof e?e:pc(e)?Ie:+e}function si(e){if("string"==typeof e)return e;if(dp(e))return p(e,si)+"";if(pc(e))return sf?sf.call(e):"";var t=e+"";return"0"==t&&1/e==-xe?"-0":t}function li(e,t,n){var r=-1,i=l,u=e.length,o=!0,a=[],c=a;if(n)o=!1,i=f;else if(u>=ne){var s=t?null:_f(e);if(s)return $(s);o=!1,i=P,c=new yn}else c=t?[]:a;e:for(;++r<u;){var p=e[r],d=t?t(p):p;if(p=n||0!==p?p:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),a.push(p)}else i(c,d,n)||(c!==a&&c.push(d),a.push(p))}return a}function fi(e,t){return t=_i(t,e),null==(e=Ku(e,t))||delete e[zu(yo(t))]}function pi(e,t,n,r){return ti(e,t,n(pr(e,t)),r)}function di(e,t,n,r){for(var i=e.length,u=r?i:-1;(r?u--:++u<i)&&t(e[u],u,e););return n?ri(e,r?0:u,r?u+1:i):ri(e,r?u+1:0,r?i:u)}function hi(e,t){var n=e;return n instanceof J&&(n=n.value()),h(t,function(e,t){return t.func.apply(t.thisArg,d([e],t.args))},n)}function Ei(e,t,n){var r=e.length;if(r<2)return r?li(e[0]):[];for(var i=-1,u=Js(r);++i<r;)for(var o=e[i],a=-1;++a<r;)a!=i&&(u[i]=rr(u[i]||o,e[a],t,n));return li(cr(u,1),t,n)}function vi(e,t,n){for(var r=-1,i=e.length,u=t.length,o={};++r<i;){var a=r<u?t[r]:te;n(o,e[r],a)}return o}function yi(e){return Ka(e)?e:[]}function Ti(e){return"function"==typeof e?e:Cs}function _i(e,t){return dp(e)?e:Iu(e,t)?[e]:bf(Nc(e))}function gi(e,t,n){var r=e.length;return n=n===te?r:n,!t&&n>=r?e:ri(e,t,n)}function mi(e,t){if(t)return e.slice();var n=e.length,r=Sl?Sl(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new ml(t).set(new ml(e)),t}function Ni(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ri(e,t,r){return h(t?r(K(e),ce):K(e),n,new e.constructor)}function Oi(e){var t=new e.constructor(e.source,Dt.exec(e));return t.lastIndex=e.lastIndex,t}function Ci(e,t,n){return h(t?n($(e),ce):$(e),r,new e.constructor)}function Ai(e){return cf?rl(cf.call(e)):{}}function bi(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function xi(e,t){if(e!==t){var n=e!==te,r=null===e,i=e===e,u=pc(e),o=t!==te,a=null===t,c=t===t,s=pc(t);if(!a&&!s&&!u&&e>t||u&&o&&c&&!a&&!s||r&&o&&c||!n&&c||!i)return 1;if(!r&&!u&&!s&&e<t||s&&n&&i&&!r&&!u||a&&n&&i||!o&&i||!c)return-1}return 0}function Mi(e,t,n){for(var r=-1,i=e.criteria,u=t.criteria,o=i.length,a=n.length;++r<o;){var c=xi(i[r],u[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}function Li(e,t,n,r){for(var i=-1,u=e.length,o=n.length,a=-1,c=t.length,s=Yl(u-o,0),l=Js(c+s),f=!r;++a<c;)l[a]=t[a];for(;++i<o;)(f||i<u)&&(l[n[i]]=e[i]);for(;s--;)l[a++]=e[i++];return l}function Ii(e,t,n,r){for(var i=-1,u=e.length,o=-1,a=n.length,c=-1,s=t.length,l=Yl(u-a,0),f=Js(l+s),p=!r;++i<l;)f[i]=e[i];for(var d=i;++c<s;)f[d+c]=t[c];for(;++o<a;)(p||i<u)&&(f[d+n[o]]=e[i++]);return f}function wi(e,t){var n=-1,r=e.length;for(t||(t=Js(r));++n<r;)t[n]=e[n];return t}function Pi(e,t,n,r){var i=!n;n||(n={});for(var u=-1,o=t.length;++u<o;){var a=t[u],c=r?r(n[a],e[a],a,n,e):te;c===te&&(c=e[a]),i?Xn(n,a,c):Hn(n,a,c)}return n}function Ui(e,t){return Pi(e,mf(e),t)}function Di(e,t){return Pi(e,Sf(e),t)}function Vi(e,t){return function(n,r){var i=dp(n)?u:Wn,o=t?t():{};return i(n,e,yu(r,2),o)}}function Bi(e){return Jr(function(t,n){var r=-1,i=n.length,u=i>1?n[i-1]:te,o=i>2?n[2]:te;for(u=e.length>3&&"function"==typeof u?(i--,u):te,o&&Lu(n[0],n[1],o)&&(u=i<3?te:u,i=1),t=rl(t);++r<i;){var a=n[r];a&&e(t,a,r,u)}return t})}function ji(e,t){return function(n,r){if(null==n)return n;if(!Fa(n))return e(n,r);for(var i=n.length,u=t?i:-1,o=rl(n);(t?u--:++u<i)&&!1!==r(o[u],u,o););return n}}function ki(e){return function(t,n,r){for(var i=-1,u=rl(t),o=r(t),a=o.length;a--;){var c=o[e?a:++i];if(!1===n(u[c],c,u))break}return t}}function Yi(e,t,n){function r(){return(this&&this!==On&&this instanceof r?u:e).apply(i?n:this,arguments)}var i=t&de,u=Gi(e);return r}function Fi(e){return function(t){var n=k(t=Nc(t))?q(t):te,r=n?n[0]:t.charAt(0),i=n?gi(n,1).join(""):t.slice(1);return r[e]()+i}}function Ki(e){return function(t){return h(ms(ts(t).replace(an,"")),e,"")}}function Gi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=lf(e.prototype),r=e.apply(n,t);return ec(r)?r:n}}function Hi(e,t,n){function r(){for(var o=arguments.length,a=Js(o),c=o,s=vu(r);c--;)a[c]=arguments[c];var l=o<3&&a[0]!==s&&a[o-1]!==s?[]:H(a,s);return(o-=l.length)<n?nu(e,t,zi,r.placeholder,te,a,l,te,te,n-o):i(this&&this!==On&&this instanceof r?u:e,this,a)}var u=Gi(e);return r}function $i(e){return function(t,n,r){var i=rl(t);if(!Fa(t)){var u=yu(n,3);t=Dc(t),n=function(e){return u(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[u?t[o]:o]:te}}function Wi(e){return pu(function(t){var n=t.length,r=n,i=z.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new ol(ie);if(i&&!o&&"wrapper"==Eu(u))var o=new z([],!0)}for(r=o?r:n;++r<n;){var a=Eu(u=t[r]),c="wrapper"==a?gf(u):te;o=c&&Pu(c[0])&&c[1]==(ge|ve|Te|me)&&!c[4].length&&1==c[9]?o[Eu(c[0])].apply(o,c[3]):1==u.length&&Pu(u)?o[a]():o.thru(u)}return function(){var e=arguments,r=e[0];if(o&&1==e.length&&dp(r))return o.plant(r).value();for(var i=0,u=n?t[i].apply(this,e):r;++i<n;)u=t[i].call(this,u);return u}})}function zi(e,t,n,r,i,u,o,a,c,s){function l(){for(var y=arguments.length,T=Js(y),_=y;_--;)T[_]=arguments[_];if(h)var g=vu(l),m=V(T,g);if(r&&(T=Li(T,r,i,h)),u&&(T=Ii(T,u,o,h)),y-=m,h&&y<s){var S=H(T,g);return nu(e,t,zi,l.placeholder,n,T,S,a,c,s-y)}var N=p?n:this,R=d?N[e]:e;return y=T.length,a?T=Gu(T,a):E&&y>1&&T.reverse(),f&&c<y&&(T.length=c),this&&this!==On&&this instanceof l&&(R=v||Gi(R)),R.apply(N,T)}var f=t&ge,p=t&de,d=t&he,h=t&(ve|ye),E=t&Se,v=d?te:Gi(e);return l}function Qi(e,t){return function(n,r){return gr(n,e,t(r),{})}}function Xi(e,t){return function(n,r){var i;if(n===te&&r===te)return t;if(n!==te&&(i=n),r!==te){if(i===te)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=ci(n),r=ci(r)),i=e(n,r)}return i}}function qi(e){return pu(function(t){return t=p(t,I(yu())),Jr(function(n){var r=this;return e(t,function(e){return i(e,r,n)})})})}function Ji(e,t){var n=(t=t===te?" ":si(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,Pl(e/X(t)));return k(t)?gi(q(r),0,e).join(""):r.slice(0,e)}function Zi(e,t,n,r){function u(){for(var t=-1,c=arguments.length,s=-1,l=r.length,f=Js(l+c),p=this&&this!==On&&this instanceof u?a:e;++s<l;)f[s]=r[s];for(;c--;)f[s++]=arguments[++t];return i(p,o?n:this,f)}var o=t&de,a=Gi(e);return u}function eu(e){return function(t,n,r){return r&&"number"!=typeof r&&Lu(t,n,r)&&(n=r=te),t=yc(t),n===te?(n=t,t=0):n=yc(n),r=r===te?t<n?1:-1:yc(r),Xr(t,n,r,e)}}function tu(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gc(t),n=gc(n)),e(t,n)}}function nu(e,t,n,r,i,u,o,a,c,s){var l=t&ve,f=l?o:te,p=l?te:o,d=l?u:te,h=l?te:u;t|=l?Te:_e,(t&=~(l?_e:Te))&Ee||(t&=~(de|he));var E=[e,t,i,d,f,h,p,a,c,s],v=n.apply(te,E);return Pu(e)&&Of(v,E),v.placeholder=r,Hu(v,e,t)}function ru(e){var t=nl[e];return function(e,n){if(e=gc(e),n=null==n?0:Fl(Tc(n),292)){var r=(Nc(e)+"e").split("e");return+((r=(Nc(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function iu(e){return function(t){var n=Nf(t);return n==$e?K(t):n==Je?W(t):L(t,e(t))}}function uu(e,t,n,r,i,u,o,a){var c=t&he;if(!c&&"function"!=typeof e)throw new ol(ie);var s=r?r.length:0;if(s||(t&=~(Te|_e),r=i=te),o=o===te?o:Yl(Tc(o),0),a=a===te?a:Tc(a),s-=i?i.length:0,t&_e){var l=r,f=i;r=i=te}var p=c?te:gf(e),d=[e,t,n,r,i,l,f,u,o,a];if(p&&ju(d,p),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],!(a=d[9]=d[9]===te?c?0:e.length:Yl(d[9]-s,0))&&t&(ve|ye)&&(t&=~(ve|ye)),t&&t!=de)h=t==ve||t==ye?Hi(e,t,a):t!=Te&&t!=(de|Te)||i.length?zi.apply(te,d):Zi(e,t,n,r);else var h=Yi(e,t,n);return Hu((p?Ef:Of)(h,d),e,t)}function ou(e,t,n,r){return e===te||Ya(e,sl[n])&&!pl.call(r,n)?t:e}function au(e,t,n,r,i,u){return ec(e)&&ec(t)&&(u.set(t,e),kr(e,t,te,au,u),u.delete(t)),e}function cu(e){return sc(e)?te:e}function su(e,t,n,r,i,u){var o=n&fe,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var s=u.get(e);if(s&&u.get(t))return s==t;var l=-1,f=!0,p=n&pe?new yn:te;for(u.set(e,t),u.set(t,e);++l<a;){var d=e[l],h=t[l];if(r)var E=o?r(h,d,l,t,e,u):r(d,h,l,e,t,u);if(E!==te){if(E)continue;f=!1;break}if(p){if(!v(t,function(e,t){if(!P(p,t)&&(d===e||i(d,e,n,r,u)))return p.push(t)})){f=!1;break}}else if(d!==h&&!i(d,h,n,r,u)){f=!1;break}}return u.delete(e),u.delete(t),f}function lu(e,t,n,r,i,u,o){switch(n){case ut:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case it:return!(e.byteLength!=t.byteLength||!u(new ml(e),new ml(t)));case ke:case Ye:case We:return Ya(+e,+t);case Ke:return e.name==t.name&&e.message==t.message;case qe:case Ze:return e==t+"";case $e:var a=K;case Je:var c=r&fe;if(a||(a=$),e.size!=t.size&&!c)return!1;var s=o.get(e);if(s)return s==t;r|=pe,o.set(e,t);var l=su(a(e),a(t),r,i,u,o);return o.delete(e),l;case et:if(cf)return cf.call(e)==cf.call(t)}return!1}function fu(e,t,n,r,i,u){var o=n&fe,a=du(e),c=a.length;if(c!=du(t).length&&!o)return!1;for(var s=c;s--;){var l=a[s];if(!(o?l in t:pl.call(t,l)))return!1}var f=u.get(e);if(f&&u.get(t))return f==t;var p=!0;u.set(e,t),u.set(t,e);for(var d=o;++s<c;){var h=e[l=a[s]],E=t[l];if(r)var v=o?r(E,h,l,t,e,u):r(h,E,l,e,t,u);if(!(v===te?h===E||i(h,E,n,r,u):v)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var y=e.constructor,T=t.constructor;y!=T&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof T&&T instanceof T)&&(p=!1)}return u.delete(e),u.delete(t),p}function pu(e){return Af(Fu(e,te,co),e+"")}function du(e){return dr(e,Dc,mf)}function hu(e){return dr(e,Vc,Sf)}function Eu(e){for(var t=e.name+"",n=ef[t],r=pl.call(ef,t)?n.length:0;r--;){var i=n[r],u=i.func;if(null==u||u==e)return i.name}return t}function vu(e){return(pl.call(y,"placeholder")?y:e).placeholder}function yu(){var e=y.iteratee||As;return e=e===As?wr:e,arguments.length?e(arguments[0],arguments[1]):e}function Tu(e,t){var n=e.__data__;return wu(t)?n["string"==typeof t?"string":"hash"]:n.map}function _u(e){for(var t=Dc(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Vu(i)]}return t}function gu(e,t){var n=j(e,t);return xr(n)?n:te}function mu(e){var t=pl.call(e,xl),n=e[xl];try{e[xl]=te;var r=!0}catch(e){}var i=El.call(e);return r&&(t?e[xl]=n:delete e[xl]),i}function Su(e,t,n){for(var r=-1,i=n.length;++r<i;){var u=n[r],o=u.size;switch(u.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Fl(t,e+o);break;case"takeRight":e=Yl(e,t-o)}}return{start:e,end:t}}function Nu(e){var t=e.match(It);return t?t[1].split(wt):[]}function Ru(e,t,n){for(var r=-1,i=(t=_i(t,e)).length,u=!1;++r<i;){var o=zu(t[r]);if(!(u=null!=e&&n(e,o)))break;e=e[o]}return u||++r!=i?u:!!(i=null==e?0:e.length)&&Za(i)&&Mu(o,i)&&(dp(e)||pp(e))}function Ou(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&pl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Cu(e){return"function"!=typeof e.constructor||Du(e)?{}:lf(Nl(e))}function Au(e,t,n,r){var i=e.constructor;switch(t){case it:return Si(e);case ke:case Ye:return new i(+e);case ut:return Ni(e,r);case ot:case at:case ct:case st:case lt:case ft:case pt:case dt:case ht:return bi(e,r);case $e:return Ri(e,r,n);case We:case Ze:return new i(e);case qe:return Oi(e);case Je:return Ci(e,r,n);case et:return Ai(e)}}function bu(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Lt,"{\n/* [wrapped with "+t+"] */\n")}function xu(e){return dp(e)||pp(e)||!!(Al&&e&&e[Al])}function Mu(e,t){return!!(t=null==t?Me:t)&&("number"==typeof e||Yt.test(e))&&e>-1&&e%1==0&&e<t}function Lu(e,t,n){if(!ec(n))return!1;var r=typeof t;return!!("number"==r?Fa(n)&&Mu(t,n.length):"string"==r&&t in n)&&Ya(n[t],e)}function Iu(e,t){if(dp(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!pc(e))||(Rt.test(e)||!Nt.test(e)||null!=t&&e in rl(t))}function wu(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Pu(e){var t=Eu(e),n=y[t];if("function"!=typeof n||!(t in J.prototype))return!1;if(e===n)return!0;var r=gf(n);return!!r&&e===r[0]}function Uu(e){return!!hl&&hl in e}function Du(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||sl)}function Vu(e){return e===e&&!ec(e)}function Bu(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==te||e in rl(n)))}}function ju(e,t){var n=e[1],r=t[1],i=n|r,u=i<(de|he|ge),o=r==ge&&n==ve||r==ge&&n==me&&e[7].length<=t[8]||r==(ge|me)&&t[7].length<=t[8]&&n==ve;if(!u&&!o)return e;r&de&&(e[2]=t[2],i|=n&de?0:Ee);var a=t[3];if(a){var c=e[3];e[3]=c?Li(c,a,t[4]):a,e[4]=c?H(e[3],ae):t[4]}return(a=t[5])&&(c=e[5],e[5]=c?Ii(c,a,t[6]):a,e[6]=c?H(e[5],ae):t[6]),(a=t[7])&&(e[7]=a),r&ge&&(e[8]=null==e[8]?t[8]:Fl(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ku(e){var t=[];if(null!=e)for(var n in rl(e))t.push(n);return t}function Yu(e){return El.call(e)}function Fu(e,t,n){return t=Yl(t===te?e.length-1:t,0),function(){for(var r=arguments,u=-1,o=Yl(r.length-t,0),a=Js(o);++u<o;)a[u]=r[t+u];u=-1;for(var c=Js(t+1);++u<t;)c[u]=r[u];return c[t]=n(a),i(e,this,c)}}function Ku(e,t){return t.length<2?e:pr(e,ri(t,0,-1))}function Gu(e,t){for(var n=e.length,r=Fl(t.length,n),i=wi(e);r--;){var u=t[r];e[r]=Mu(u,n)?i[u]:te}return e}function Hu(e,t,n){var r=t+"";return Af(e,bu(r,Xu(Nu(r),n)))}function $u(e){var t=0,n=0;return function(){var r=Kl(),i=Ce-(r-n);if(n=r,i>0){if(++t>=Oe)return arguments[0]}else t=0;return e.apply(te,arguments)}}function Wu(e,t){var n=-1,r=e.length,i=r-1;for(t=t===te?r:t;++n<t;){var u=Qr(n,i),o=e[u];e[u]=e[n],e[n]=o}return e.length=t,e}function zu(e){if("string"==typeof e||pc(e))return e;var t=e+"";return"0"==t&&1/e==-xe?"-0":t}function Qu(e){if(null!=e){try{return fl.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Xu(e,t){return o(De,function(n){var r="_."+n[0];t&n[1]&&!l(e,r)&&e.push(r)}),e.sort()}function qu(e){if(e instanceof J)return e.clone();var t=new z(e.__wrapped__,e.__chain__);return t.__actions__=wi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Ju(e,t,n){t=(n?Lu(e,t,n):t===te)?1:Yl(Tc(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,u=0,o=Js(Pl(r/t));i<r;)o[u++]=ri(e,i,i+=t);return o}function Zu(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var u=e[t];u&&(i[r++]=u)}return i}function eo(){var e=arguments.length;if(!e)return[];for(var t=Js(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return d(dp(n)?wi(n):[n],cr(t,1))}function to(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===te?1:Tc(t),ri(e,t<0?0:t,r)):[]}function no(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===te?1:Tc(t),t=r-t,ri(e,0,t<0?0:t)):[]}function ro(e,t){return e&&e.length?di(e,yu(t,3),!0,!0):[]}function io(e,t){return e&&e.length?di(e,yu(t,3),!0):[]}function uo(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Lu(e,t,n)&&(n=0,r=i),or(e,t,n,r)):[]}function oo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Tc(n);return i<0&&(i=Yl(r+i,0)),g(e,yu(t,3),i)}function ao(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==te&&(i=Tc(n),i=n<0?Yl(r+i,0):Fl(i,r-1)),g(e,yu(t,3),i,!0)}function co(e){return(null==e?0:e.length)?cr(e,1):[]}function so(e){return(null==e?0:e.length)?cr(e,xe):[]}function lo(e,t){return(null==e?0:e.length)?(t=t===te?1:Tc(t),cr(e,t)):[]}function fo(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function po(e){return e&&e.length?e[0]:te}function ho(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Tc(n);return i<0&&(i=Yl(r+i,0)),m(e,t,i)}function Eo(e){return(null==e?0:e.length)?ri(e,0,-1):[]}function vo(e,t){return null==e?"":jl.call(e,t)}function yo(e){var t=null==e?0:e.length;return t?e[t-1]:te}function To(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==te&&(i=(i=Tc(n))<0?Yl(r+i,0):Fl(i,r-1)),t===t?Q(e,t,i):g(e,N,i,!0)}function _o(e,t){return e&&e.length?Fr(e,Tc(t)):te}function go(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}function mo(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,yu(n,2)):e}function So(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,te,n):e}function No(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],u=e.length;for(t=yu(t,3);++r<u;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return zr(e,i),n}function Ro(e){return null==e?e:$l.call(e)}function Oo(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Lu(e,t,n)?(t=0,n=r):(t=null==t?0:Tc(t),n=n===te?r:Tc(n)),ri(e,t,n)):[]}function Co(e,t){return ui(e,t)}function Ao(e,t,n){return oi(e,t,yu(n,2))}function bo(e,t){var n=null==e?0:e.length;if(n){var r=ui(e,t);if(r<n&&Ya(e[r],t))return r}return-1}function xo(e,t){return ui(e,t,!0)}function Mo(e,t,n){return oi(e,t,yu(n,2),!0)}function Lo(e,t){if(null==e?0:e.length){var n=ui(e,t,!0)-1;if(Ya(e[n],t))return n}return-1}function Io(e){return e&&e.length?ai(e):[]}function wo(e,t){return e&&e.length?ai(e,yu(t,2)):[]}function Po(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]}function Uo(e,t,n){return e&&e.length?(t=n||t===te?1:Tc(t),ri(e,0,t<0?0:t)):[]}function Do(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===te?1:Tc(t),t=r-t,ri(e,t<0?0:t,r)):[]}function Vo(e,t){return e&&e.length?di(e,yu(t,3),!1,!0):[]}function Bo(e,t){return e&&e.length?di(e,yu(t,3)):[]}function jo(e){return e&&e.length?li(e):[]}function ko(e,t){return e&&e.length?li(e,yu(t,2)):[]}function Yo(e,t){return t="function"==typeof t?t:te,e&&e.length?li(e,te,t):[]}function Fo(e){if(!e||!e.length)return[];var t=0;return e=s(e,function(e){if(Ka(e))return t=Yl(e.length,t),!0}),M(t,function(t){return p(e,O(t))})}function Ko(e,t){if(!e||!e.length)return[];var n=Fo(e);return null==t?n:p(n,function(e){return i(t,te,e)})}function Go(e,t){return vi(e||[],t||[],Hn)}function Ho(e,t){return vi(e||[],t||[],ti)}function $o(e){var t=y(e);return t.__chain__=!0,t}function Wo(e,t){return t(e),e}function zo(e,t){return t(e)}function Qo(){return $o(this)}function Xo(){return new z(this.value(),this.__chain__)}function qo(){this.__values__===te&&(this.__values__=vc(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?te:this.__values__[this.__index__++]}}function Jo(){return this}function Zo(e){for(var t,n=this;n instanceof C;){var r=qu(n);r.__index__=0,r.__values__=te,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function ea(){var e=this.__wrapped__;if(e instanceof J){var t=e;return this.__actions__.length&&(t=new J(this)),(t=t.reverse()).__actions__.push({func:zo,args:[Ro],thisArg:te}),new z(t,this.__chain__)}return this.thru(Ro)}function ta(){return hi(this.__wrapped__,this.__actions__)}function na(e,t,n){var r=dp(e)?c:ir;return n&&Lu(e,t,n)&&(t=te),r(e,yu(t,3))}function ra(e,t){return(dp(e)?s:ar)(e,yu(t,3))}function ia(e,t){return cr(la(e,t),1)}function ua(e,t){return cr(la(e,t),xe)}function oa(e,t,n){return n=n===te?1:Tc(n),cr(la(e,t),n)}function aa(e,t){return(dp(e)?o:ff)(e,yu(t,3))}function ca(e,t){return(dp(e)?a:pf)(e,yu(t,3))}function sa(e,t,n,r){e=Fa(e)?e:Qc(e),n=n&&!r?Tc(n):0;var i=e.length;return n<0&&(n=Yl(i+n,0)),fc(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&m(e,t,n)>-1}function la(e,t){return(dp(e)?p:Vr)(e,yu(t,3))}function fa(e,t,n,r){return null==e?[]:(dp(t)||(t=null==t?[]:[t]),n=r?te:n,dp(n)||(n=null==n?[]:[n]),Kr(e,t,n))}function pa(e,t,n){var r=dp(e)?h:A,i=arguments.length<3;return r(e,yu(t,4),n,i,ff)}function da(e,t,n){var r=dp(e)?E:A,i=arguments.length<3;return r(e,yu(t,4),n,i,pf)}function ha(e,t){return(dp(e)?s:ar)(e,ba(yu(t,3)))}function Ea(e){return(dp(e)?Vn:Zr)(e)}function va(e,t,n){return t=(n?Lu(e,t,n):t===te)?1:Tc(t),(dp(e)?Fn:ei)(e,t)}function ya(e){return(dp(e)?Kn:ni)(e)}function Ta(e){if(null==e)return 0;if(Fa(e))return fc(e)?X(e):e.length;var t=Nf(e);return t==$e||t==Je?e.size:Pr(e).length}function _a(e,t,n){var r=dp(e)?v:ii;return n&&Lu(e,t,n)&&(t=te),r(e,yu(t,3))}function ga(e,t){if("function"!=typeof t)throw new ol(ie);return e=Tc(e),function(){if(--e<1)return t.apply(this,arguments)}}function ma(e,t,n){return t=n?te:t,t=e&&null==t?e.length:t,uu(e,ge,te,te,te,te,t)}function Sa(e,t){var n;if("function"!=typeof t)throw new ol(ie);return e=Tc(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=te),n}}function Na(e,t,n){var r=uu(e,ve,te,te,te,te,te,t=n?te:t);return r.placeholder=Na.placeholder,r}function Ra(e,t,n){var r=uu(e,ye,te,te,te,te,te,t=n?te:t);return r.placeholder=Ra.placeholder,r}function Oa(e,t,n){function r(t){var n=p,r=d;return p=d=te,T=t,E=e.apply(r,n)}function i(e){return T=e,v=Cf(a,t),_?r(e):E}function u(e){var n=e-T,r=t-(e-y);return g?Fl(r,h-n):r}function o(e){var n=e-y,r=e-T;return y===te||n>=t||n<0||g&&r>=h}function a(){var e=tp();if(o(e))return c(e);v=Cf(a,u(e))}function c(e){return v=te,m&&p?r(e):(p=d=te,E)}function s(){v!==te&&Tf(v),T=0,p=y=d=v=te}function l(){return v===te?E:c(tp())}function f(){var e=tp(),n=o(e);if(p=arguments,d=this,y=e,n){if(v===te)return i(y);if(g)return v=Cf(a,t),r(y)}return v===te&&(v=Cf(a,t)),E}var p,d,h,E,v,y,T=0,_=!1,g=!1,m=!0;if("function"!=typeof e)throw new ol(ie);return t=gc(t)||0,ec(n)&&(_=!!n.leading,h=(g="maxWait"in n)?Yl(gc(n.maxWait)||0,t):h,m="trailing"in n?!!n.trailing:m),f.cancel=s,f.flush=l,f}function Ca(e){return uu(e,Se)}function Aa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ol(ie);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],u=n.cache;if(u.has(i))return u.get(i);var o=e.apply(this,r);return n.cache=u.set(i,o)||u,o};return n.cache=new(Aa.Cache||un),n}function ba(e){if("function"!=typeof e)throw new ol(ie);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function xa(e){return Sa(2,e)}function Ma(e,t){if("function"!=typeof e)throw new ol(ie);return t=t===te?t:Tc(t),Jr(e,t)}function La(e,t){if("function"!=typeof e)throw new ol(ie);return t=null==t?0:Yl(Tc(t),0),Jr(function(n){var r=n[t],u=gi(n,0,t);return r&&d(u,r),i(e,this,u)})}function Ia(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ol(ie);return ec(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oa(e,t,{leading:r,maxWait:t,trailing:i})}function wa(e){return ma(e,1)}function Pa(e,t){return ap(Ti(t),e)}function Ua(){if(!arguments.length)return[];var e=arguments[0];return dp(e)?e:[e]}function Da(e){return Zn(e,le)}function Va(e,t){return t="function"==typeof t?t:te,Zn(e,le,t)}function Ba(e){return Zn(e,ce|le)}function ja(e,t){return t="function"==typeof t?t:te,Zn(e,ce|le,t)}function ka(e,t){return null==t||tr(e,t,Dc(t))}function Ya(e,t){return e===t||e!==e&&t!==t}function Fa(e){return null!=e&&Za(e.length)&&!qa(e)}function Ka(e){return tc(e)&&Fa(e)}function Ga(e){return!0===e||!1===e||tc(e)&&hr(e)==ke}function Ha(e){return tc(e)&&1===e.nodeType&&!sc(e)}function $a(e){if(null==e)return!0;if(Fa(e)&&(dp(e)||"string"==typeof e||"function"==typeof e.splice||Ep(e)||gp(e)||pp(e)))return!e.length;var t=Nf(e);if(t==$e||t==Je)return!e.size;if(Du(e))return!Pr(e).length;for(var n in e)if(pl.call(e,n))return!1;return!0}function Wa(e,t){return Or(e,t)}function za(e,t,n){var r=(n="function"==typeof n?n:te)?n(e,t):te;return r===te?Or(e,t,te,n):!!r}function Qa(e){if(!tc(e))return!1;var t=hr(e);return t==Ke||t==Fe||"string"==typeof e.message&&"string"==typeof e.name&&!sc(e)}function Xa(e){return"number"==typeof e&&Bl(e)}function qa(e){if(!ec(e))return!1;var t=hr(e);return t==Ge||t==He||t==je||t==Xe}function Ja(e){return"number"==typeof e&&e==Tc(e)}function Za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Me}function ec(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function tc(e){return null!=e&&"object"==typeof e}function nc(e,t){return e===t||br(e,t,_u(t))}function rc(e,t,n){return n="function"==typeof n?n:te,br(e,t,_u(t),n)}function ic(e){return cc(e)&&e!=+e}function uc(e){if(Rf(e))throw new el(re);return xr(e)}function oc(e){return null===e}function ac(e){return null==e}function cc(e){return"number"==typeof e||tc(e)&&hr(e)==We}function sc(e){if(!tc(e)||hr(e)!=Qe)return!1;var t=Nl(e);if(null===t)return!0;var n=pl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&fl.call(n)==vl}function lc(e){return Ja(e)&&e>=-Me&&e<=Me}function fc(e){return"string"==typeof e||!dp(e)&&tc(e)&&hr(e)==Ze}function pc(e){return"symbol"==typeof e||tc(e)&&hr(e)==et}function dc(e){return e===te}function hc(e){return tc(e)&&Nf(e)==nt}function Ec(e){return tc(e)&&hr(e)==rt}function vc(e){if(!e)return[];if(Fa(e))return fc(e)?q(e):wi(e);if(bl&&e[bl])return F(e[bl]());var t=Nf(e);return(t==$e?K:t==Je?$:Qc)(e)}function yc(e){return e?(e=gc(e),e===xe||e===-xe?(e<0?-1:1)*Le:e===e?e:0):0===e?e:0}function Tc(e){var t=yc(e),n=t%1;return t===t?n?t-n:t:0}function _c(e){return e?Jn(Tc(e),0,we):0}function gc(e){if("number"==typeof e)return e;if(pc(e))return Ie;if(ec(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ec(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(bt,"");var n=Bt.test(e);return n||kt.test(e)?Sn(e.slice(2),n?2:8):Vt.test(e)?Ie:+e}function mc(e){return Pi(e,Vc(e))}function Sc(e){return e?Jn(Tc(e),-Me,Me):0===e?e:0}function Nc(e){return null==e?"":si(e)}function Rc(e,t){var n=lf(e);return null==t?n:zn(n,t)}function Oc(e,t){return _(e,yu(t,3),sr)}function Cc(e,t){return _(e,yu(t,3),lr)}function Ac(e,t){return null==e?e:df(e,yu(t,3),Vc)}function bc(e,t){return null==e?e:hf(e,yu(t,3),Vc)}function xc(e,t){return e&&sr(e,yu(t,3))}function Mc(e,t){return e&&lr(e,yu(t,3))}function Lc(e){return null==e?[]:fr(e,Dc(e))}function Ic(e){return null==e?[]:fr(e,Vc(e))}function wc(e,t,n){var r=null==e?te:pr(e,t);return r===te?n:r}function Pc(e,t){return null!=e&&Ru(e,t,vr)}function Uc(e,t){return null!=e&&Ru(e,t,yr)}function Dc(e){return Fa(e)?Mn(e):Pr(e)}function Vc(e){return Fa(e)?Mn(e,!0):Ur(e)}function Bc(e,t){var n={};return t=yu(t,3),sr(e,function(e,r,i){Xn(n,t(e,r,i),e)}),n}function jc(e,t){var n={};return t=yu(t,3),sr(e,function(e,r,i){Xn(n,r,t(e,r,i))}),n}function kc(e,t){return Yc(e,ba(yu(t)))}function Yc(e,t){if(null==e)return{};var n=p(hu(e),function(e){return[e]});return t=yu(t),Hr(e,n,function(e,n){return t(e,n[0])})}function Fc(e,t,n){var r=-1,i=(t=_i(t,e)).length;for(i||(i=1,e=te);++r<i;){var u=null==e?te:e[zu(t[r])];u===te&&(r=i,u=n),e=qa(u)?u.call(e):u}return e}function Kc(e,t,n){return null==e?e:ti(e,t,n)}function Gc(e,t,n,r){return r="function"==typeof r?r:te,null==e?e:ti(e,t,n,r)}function Hc(e,t,n){var r=dp(e),i=r||Ep(e)||gp(e);if(t=yu(t,4),null==n){var u=e&&e.constructor;n=i?r?new u:[]:ec(e)&&qa(u)?lf(Nl(e)):{}}return(i?o:sr)(e,function(e,r,i){return t(n,e,r,i)}),n}function $c(e,t){return null==e||fi(e,t)}function Wc(e,t,n){return null==e?e:pi(e,t,Ti(n))}function zc(e,t,n,r){return r="function"==typeof r?r:te,null==e?e:pi(e,t,Ti(n),r)}function Qc(e){return null==e?[]:w(e,Dc(e))}function Xc(e){return null==e?[]:w(e,Vc(e))}function qc(e,t,n){return n===te&&(n=t,t=te),n!==te&&(n=(n=gc(n))===n?n:0),t!==te&&(t=(t=gc(t))===t?t:0),Jn(gc(e),t,n)}function Jc(e,t,n){return t=yc(t),n===te?(n=t,t=0):n=yc(n),e=gc(e),Tr(e,t,n)}function Zc(e,t,n){if(n&&"boolean"!=typeof n&&Lu(e,t,n)&&(t=n=te),n===te&&("boolean"==typeof t?(n=t,t=te):"boolean"==typeof e&&(n=e,e=te)),e===te&&t===te?(e=0,t=1):(e=yc(e),t===te?(t=e,e=0):t=yc(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Hl();return Fl(e+i*(t-e+mn("1e-"+((i+"").length-1))),t)}return Qr(e,t)}function es(e){return $p(Nc(e).toLowerCase())}function ts(e){return(e=Nc(e))&&e.replace(Ft,Bn).replace(cn,"")}function ns(e,t,n){e=Nc(e),t=si(t);var r=e.length,i=n=n===te?r:Jn(Tc(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t}function rs(e){return e=Nc(e),e&&mt.test(e)?e.replace(_t,jn):e}function is(e){return e=Nc(e),e&&At.test(e)?e.replace(Ct,"\\$&"):e}function us(e,t,n){e=Nc(e);var r=(t=Tc(t))?X(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ji(Ul(i),n)+e+Ji(Pl(i),n)}function os(e,t,n){e=Nc(e);var r=(t=Tc(t))?X(e):0;return t&&r<t?e+Ji(t-r,n):e}function as(e,t,n){e=Nc(e);var r=(t=Tc(t))?X(e):0;return t&&r<t?Ji(t-r,n)+e:e}function cs(e,t,n){return n||null==t?t=0:t&&(t=+t),Gl(Nc(e).replace(xt,""),t||0)}function ss(e,t,n){return t=(n?Lu(e,t,n):t===te)?1:Tc(t),qr(Nc(e),t)}function ls(){var e=arguments,t=Nc(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function fs(e,t,n){return n&&"number"!=typeof n&&Lu(e,t,n)&&(t=n=te),(n=n===te?we:n>>>0)?(e=Nc(e),e&&("string"==typeof t||null!=t&&!Tp(t))&&!(t=si(t))&&k(e)?gi(q(e),0,n):e.split(t,n)):[]}function ps(e,t,n){return e=Nc(e),n=null==n?0:Jn(Tc(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t}function ds(e,t,n){var r=y.templateSettings;n&&Lu(e,t,n)&&(t=te),e=Nc(e),t=Op({},t,r,ou);var i,u,o=Op({},t.imports,r.imports,ou),a=Dc(o),c=w(o,a),s=0,l=t.interpolate||Kt,f="__p += '",p=il((t.escape||Kt).source+"|"+l.source+"|"+(l===St?Ut:Kt).source+"|"+(t.evaluate||Kt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++hn+"]")+"\n";e.replace(p,function(t,n,r,o,a,c){return r||(r=o),f+=e.slice(s,c).replace(Gt,B),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),a&&(u=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+t.length,t}),f+="';\n";var h=t.variable;h||(f="with (obj) {\n"+f+"\n}\n"),f=(u?f.replace(Et,""):f).replace(vt,"$1").replace(yt,"$1;"),f="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var E=Wp(function(){return tl(a,d+"return "+f).apply(te,c)});if(E.source=f,Qa(E))throw E;return E}function hs(e){return Nc(e).toLowerCase()}function Es(e){return Nc(e).toUpperCase()}function vs(e,t,n){if((e=Nc(e))&&(n||t===te))return e.replace(bt,"");if(!e||!(t=si(t)))return e;var r=q(e),i=q(t);return gi(r,U(r,i),D(r,i)+1).join("")}function ys(e,t,n){if((e=Nc(e))&&(n||t===te))return e.replace(Mt,"");if(!e||!(t=si(t)))return e;var r=q(e);return gi(r,0,D(r,q(t))+1).join("")}function Ts(e,t,n){if((e=Nc(e))&&(n||t===te))return e.replace(xt,"");if(!e||!(t=si(t)))return e;var r=q(e);return gi(r,U(r,q(t))).join("")}function _s(e,t){var n=Ne,r=Re;if(ec(t)){var i="separator"in t?t.separator:i;n="length"in t?Tc(t.length):n,r="omission"in t?si(t.omission):r}var u=(e=Nc(e)).length;if(k(e)){var o=q(e);u=o.length}if(n>=u)return e;var a=n-X(r);if(a<1)return r;var c=o?gi(o,0,a).join(""):e.slice(0,a);if(i===te)return c+r;if(o&&(a+=c.length-a),Tp(i)){if(e.slice(a).search(i)){var s,l=c;for(i.global||(i=il(i.source,Nc(Dt.exec(i))+"g")),i.lastIndex=0;s=i.exec(l);)var f=s.index;c=c.slice(0,f===te?a:f)}}else if(e.indexOf(si(i),a)!=a){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r}function gs(e){return e=Nc(e),e&&gt.test(e)?e.replace(Tt,kn):e}function ms(e,t,n){return e=Nc(e),t=n?te:t,t===te?Y(e)?ee(e):T(e):e.match(t)||[]}function Ss(e){var t=null==e?0:e.length,n=yu();return e=t?p(e,function(e){if("function"!=typeof e[1])throw new ol(ie);return[n(e[0]),e[1]]}):[],Jr(function(n){for(var r=-1;++r<t;){var u=e[r];if(i(u[0],this,n))return i(u[1],this,n)}})}function Ns(e){return er(Zn(e,ce))}function Rs(e){return function(){return e}}function Os(e,t){return null==e||e!==e?t:e}function Cs(e){return e}function As(e){return wr("function"==typeof e?e:Zn(e,ce))}function bs(e){return Br(Zn(e,ce))}function xs(e,t){return jr(e,Zn(t,ce))}function Ms(e,t,n){var r=Dc(t),i=fr(t,r);null!=n||ec(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=fr(t,Dc(t)));var u=!(ec(n)&&"chain"in n&&!n.chain),a=qa(e);return o(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(u||t){var n=e(this.__wrapped__);return(n.__actions__=wi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,d([this.value()],arguments))})}),e}function Ls(){return On._===this&&(On._=yl),this}function Is(){}function ws(e){return e=Tc(e),Jr(function(t){return Fr(t,e)})}function Ps(e){return Iu(e)?O(zu(e)):$r(e)}function Us(e){return function(t){return null==e?te:pr(e,t)}}function Ds(){return[]}function Vs(){return!1}function Bs(){return{}}function js(){return""}function ks(){return!0}function Ys(e,t){if((e=Tc(e))<1||e>Me)return[];var n=we,r=Fl(e,we);t=yu(t),e-=we;for(var i=M(r,t);++n<e;)t(n);return i}function Fs(e){return dp(e)?p(e,zu):pc(e)?[e]:wi(bf(Nc(e)))}function Ks(e){var t=++dl;return Nc(e)+t}function Gs(e){return e&&e.length?ur(e,Cs,Er):te}function Hs(e,t){return e&&e.length?ur(e,yu(t,2),Er):te}function $s(e){return R(e,Cs)}function Ws(e,t){return R(e,yu(t,2))}function zs(e){return e&&e.length?ur(e,Cs,Dr):te}function Qs(e,t){return e&&e.length?ur(e,yu(t,2),Dr):te}function Xs(e){return e&&e.length?x(e,Cs):0}function qs(e,t){return e&&e.length?x(e,yu(t,2)):0}var Js=(t=null==t?On:Yn.defaults(On.Object(),t,Yn.pick(On,dn))).Array,Zs=t.Date,el=t.Error,tl=t.Function,nl=t.Math,rl=t.Object,il=t.RegExp,ul=t.String,ol=t.TypeError,al=Js.prototype,cl=tl.prototype,sl=rl.prototype,ll=t["__core-js_shared__"],fl=cl.toString,pl=sl.hasOwnProperty,dl=0,hl=function(){var e=/[^.]+$/.exec(ll&&ll.keys&&ll.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),El=sl.toString,vl=fl.call(rl),yl=On._,Tl=il("^"+fl.call(pl).replace(Ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_l=bn?t.Buffer:te,gl=t.Symbol,ml=t.Uint8Array,Sl=_l?_l.allocUnsafe:te,Nl=G(rl.getPrototypeOf,rl),Rl=rl.create,Ol=sl.propertyIsEnumerable,Cl=al.splice,Al=gl?gl.isConcatSpreadable:te,bl=gl?gl.iterator:te,xl=gl?gl.toStringTag:te,Ml=function(){try{var e=gu(rl,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ll=t.clearTimeout!==On.clearTimeout&&t.clearTimeout,Il=Zs&&Zs.now!==On.Date.now&&Zs.now,wl=t.setTimeout!==On.setTimeout&&t.setTimeout,Pl=nl.ceil,Ul=nl.floor,Dl=rl.getOwnPropertySymbols,Vl=_l?_l.isBuffer:te,Bl=t.isFinite,jl=al.join,kl=G(rl.keys,rl),Yl=nl.max,Fl=nl.min,Kl=Zs.now,Gl=t.parseInt,Hl=nl.random,$l=al.reverse,Wl=gu(t,"DataView"),zl=gu(t,"Map"),Ql=gu(t,"Promise"),Xl=gu(t,"Set"),ql=gu(t,"WeakMap"),Jl=gu(rl,"create"),Zl=ql&&new ql,ef={},tf=Qu(Wl),nf=Qu(zl),rf=Qu(Ql),uf=Qu(Xl),of=Qu(ql),af=gl?gl.prototype:te,cf=af?af.valueOf:te,sf=af?af.toString:te,lf=function(){function e(){}return function(t){if(!ec(t))return{};if(Rl)return Rl(t);e.prototype=t;var n=new e;return e.prototype=te,n}}();y.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:St,variable:"",imports:{_:y}},y.prototype=C.prototype,y.prototype.constructor=y,z.prototype=lf(C.prototype),z.prototype.constructor=z,J.prototype=lf(C.prototype),J.prototype.constructor=J,$t.prototype.clear=Wt,$t.prototype.delete=zt,$t.prototype.get=Qt,$t.prototype.has=Xt,$t.prototype.set=qt,Jt.prototype.clear=Zt,Jt.prototype.delete=en,Jt.prototype.get=tn,Jt.prototype.has=nn,Jt.prototype.set=rn,un.prototype.clear=on,un.prototype.delete=sn,un.prototype.get=ln,un.prototype.has=fn,un.prototype.set=pn,yn.prototype.add=yn.prototype.push=Tn,yn.prototype.has=_n,gn.prototype.clear=Nn,gn.prototype.delete=Rn,gn.prototype.get=Cn,gn.prototype.has=An,gn.prototype.set=xn;var ff=ji(sr),pf=ji(lr,!0),df=ki(),hf=ki(!0),Ef=Zl?function(e,t){return Zl.set(e,t),e}:Cs,vf=Ml?function(e,t){return Ml(e,"toString",{configurable:!0,enumerable:!1,value:Rs(t),writable:!0})}:Cs,yf=Jr,Tf=Ll||function(e){return On.clearTimeout(e)},_f=Xl&&1/$(new Xl([,-0]))[1]==xe?function(e){return new Xl(e)}:Is,gf=Zl?function(e){return Zl.get(e)}:Is,mf=Dl?function(e){return null==e?[]:(e=rl(e),s(Dl(e),function(t){return Ol.call(e,t)}))}:Ds,Sf=Dl?function(e){for(var t=[];e;)d(t,mf(e)),e=Nl(e);return t}:Ds,Nf=hr;(Wl&&Nf(new Wl(new ArrayBuffer(1)))!=ut||zl&&Nf(new zl)!=$e||Ql&&"[object Promise]"!=Nf(Ql.resolve())||Xl&&Nf(new Xl)!=Je||ql&&Nf(new ql)!=nt)&&(Nf=function(e){var t=hr(e),n=t==Qe?e.constructor:te,r=n?Qu(n):"";if(r)switch(r){case tf:return ut;case nf:return $e;case rf:return"[object Promise]";case uf:return Je;case of:return nt}return t});var Rf=ll?qa:Vs,Of=$u(Ef),Cf=wl||function(e,t){return On.setTimeout(e,t)},Af=$u(vf),bf=function(e){var t=Aa(e,function(e){return n.size===oe&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return Ot.test(e)&&t.push(""),e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(e,n,r,i){t.push(r?i.replace(/\\(\\)?/g,"$1"):n||e)}),t}),xf=Jr(function(e,t){return Ka(e)?rr(e,cr(t,1,Ka,!0)):[]}),Mf=Jr(function(e,t){var n=yo(t);return Ka(n)&&(n=te),Ka(e)?rr(e,cr(t,1,Ka,!0),yu(n,2)):[]}),Lf=Jr(function(e,t){var n=yo(t);return Ka(n)&&(n=te),Ka(e)?rr(e,cr(t,1,Ka,!0),te,n):[]}),If=Jr(function(e){var t=p(e,yi);return t.length&&t[0]===e[0]?_r(t):[]}),wf=Jr(function(e){var t=yo(e),n=p(e,yi);return t===yo(n)?t=te:n.pop(),n.length&&n[0]===e[0]?_r(n,yu(t,2)):[]}),Pf=Jr(function(e){var t=yo(e),n=p(e,yi);return(t="function"==typeof t?t:te)&&n.pop(),n.length&&n[0]===e[0]?_r(n,te,t):[]}),Uf=Jr(go),Df=pu(function(e,t){var n=null==e?0:e.length,r=qn(e,t);return zr(e,p(t,function(e){return Mu(e,n)?+e:e}).sort(xi)),r}),Vf=Jr(function(e){return li(cr(e,1,Ka,!0))}),Bf=Jr(function(e){var t=yo(e);return Ka(t)&&(t=te),li(cr(e,1,Ka,!0),yu(t,2))}),jf=Jr(function(e){var t=yo(e);return t="function"==typeof t?t:te,li(cr(e,1,Ka,!0),te,t)}),kf=Jr(function(e,t){return Ka(e)?rr(e,t):[]}),Yf=Jr(function(e){return Ei(s(e,Ka))}),Ff=Jr(function(e){var t=yo(e);return Ka(t)&&(t=te),Ei(s(e,Ka),yu(t,2))}),Kf=Jr(function(e){var t=yo(e);return t="function"==typeof t?t:te,Ei(s(e,Ka),te,t)}),Gf=Jr(Fo),Hf=Jr(function(e){var t=e.length,n=t>1?e[t-1]:te;return n="function"==typeof n?(e.pop(),n):te,Ko(e,n)}),$f=pu(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return qn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof J&&Mu(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:zo,args:[i],thisArg:te}),new z(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(te),e})):this.thru(i)}),Wf=Vi(function(e,t,n){pl.call(e,n)?++e[n]:Xn(e,n,1)}),zf=$i(oo),Qf=$i(ao),Xf=Vi(function(e,t,n){pl.call(e,n)?e[n].push(t):Xn(e,n,[t])}),qf=Jr(function(e,t,n){var r=-1,u="function"==typeof t,o=Fa(e)?Js(e.length):[];return ff(e,function(e){o[++r]=u?i(t,e,n):mr(e,t,n)}),o}),Jf=Vi(function(e,t,n){Xn(e,n,t)}),Zf=Vi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ep=Jr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Lu(e,t[0],t[1])?t=[]:n>2&&Lu(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,cr(t,1),[])}),tp=Il||function(){return On.Date.now()},np=Jr(function(e,t,n){var r=de;if(n.length){var i=H(n,vu(np));r|=Te}return uu(e,r,t,n,i)}),rp=Jr(function(e,t,n){var r=de|he;if(n.length){var i=H(n,vu(rp));r|=Te}return uu(t,r,e,n,i)}),ip=Jr(function(e,t){return nr(e,1,t)}),up=Jr(function(e,t,n){return nr(e,gc(t)||0,n)});Aa.Cache=un;var op=yf(function(e,t){var n=(t=1==t.length&&dp(t[0])?p(t[0],I(yu())):p(cr(t,1),I(yu()))).length;return Jr(function(r){for(var u=-1,o=Fl(r.length,n);++u<o;)r[u]=t[u].call(this,r[u]);return i(e,this,r)})}),ap=Jr(function(e,t){var n=H(t,vu(ap));return uu(e,Te,te,t,n)}),cp=Jr(function(e,t){var n=H(t,vu(cp));return uu(e,_e,te,t,n)}),sp=pu(function(e,t){return uu(e,me,te,te,te,t)}),lp=tu(Er),fp=tu(function(e,t){return e>=t}),pp=Sr(function(){return arguments}())?Sr:function(e){return tc(e)&&pl.call(e,"callee")&&!Ol.call(e,"callee")},dp=Js.isArray,hp=Ln?I(Ln):Nr,Ep=Vl||Vs,vp=In?I(In):Rr,yp=wn?I(wn):Ar,Tp=Pn?I(Pn):Mr,_p=Un?I(Un):Lr,gp=Dn?I(Dn):Ir,mp=tu(Dr),Sp=tu(function(e,t){return e<=t}),Np=Bi(function(e,t){if(Du(t)||Fa(t))return void Pi(t,Dc(t),e);for(var n in t)pl.call(t,n)&&Hn(e,n,t[n])}),Rp=Bi(function(e,t){Pi(t,Vc(t),e)}),Op=Bi(function(e,t,n,r){Pi(t,Vc(t),e,r)}),Cp=Bi(function(e,t,n,r){Pi(t,Dc(t),e,r)}),Ap=pu(qn),bp=Jr(function(e){return e.push(te,ou),i(Op,te,e)}),xp=Jr(function(e){return e.push(te,au),i(Pp,te,e)}),Mp=Qi(function(e,t,n){e[t]=n},Rs(Cs)),Lp=Qi(function(e,t,n){pl.call(e,t)?e[t].push(n):e[t]=[n]},yu),Ip=Jr(mr),wp=Bi(function(e,t,n){kr(e,t,n)}),Pp=Bi(function(e,t,n,r){kr(e,t,n,r)}),Up=pu(function(e,t){var n={};if(null==e)return n;var r=!1;t=p(t,function(t){return t=_i(t,e),r||(r=t.length>1),t}),Pi(e,hu(e),n),r&&(n=Zn(n,ce|se|le,cu));for(var i=t.length;i--;)fi(n,t[i]);return n}),Dp=pu(function(e,t){return null==e?{}:Gr(e,t)}),Vp=iu(Dc),Bp=iu(Vc),jp=Ki(function(e,t,n){return t=t.toLowerCase(),e+(n?es(t):t)}),kp=Ki(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Yp=Ki(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Fp=Fi("toLowerCase"),Kp=Ki(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Gp=Ki(function(e,t,n){return e+(n?" ":"")+$p(t)}),Hp=Ki(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),$p=Fi("toUpperCase"),Wp=Jr(function(e,t){try{return i(e,te,t)}catch(e){return Qa(e)?e:new el(e)}}),zp=pu(function(e,t){return o(t,function(t){t=zu(t),Xn(e,t,np(e[t],e))}),e}),Qp=Wi(),Xp=Wi(!0),qp=Jr(function(e,t){return function(n){return mr(n,e,t)}}),Jp=Jr(function(e,t){return function(n){return mr(e,n,t)}}),Zp=qi(p),ed=qi(c),td=qi(v),nd=eu(),rd=eu(!0),id=Xi(function(e,t){return e+t},0),ud=ru("ceil"),od=Xi(function(e,t){return e/t},1),ad=ru("floor"),cd=Xi(function(e,t){return e*t},1),sd=ru("round"),ld=Xi(function(e,t){return e-t},0);return y.after=ga,y.ary=ma,y.assign=Np,y.assignIn=Rp,y.assignInWith=Op,y.assignWith=Cp,y.at=Ap,y.before=Sa,y.bind=np,y.bindAll=zp,y.bindKey=rp,y.castArray=Ua,y.chain=$o,y.chunk=Ju,y.compact=Zu,y.concat=eo,y.cond=Ss,y.conforms=Ns,y.constant=Rs,y.countBy=Wf,y.create=Rc,y.curry=Na,y.curryRight=Ra,y.debounce=Oa,y.defaults=bp,y.defaultsDeep=xp,y.defer=ip,y.delay=up,y.difference=xf,y.differenceBy=Mf,y.differenceWith=Lf,y.drop=to,y.dropRight=no,y.dropRightWhile=ro,y.dropWhile=io,y.fill=uo,y.filter=ra,y.flatMap=ia,y.flatMapDeep=ua,y.flatMapDepth=oa,y.flatten=co,y.flattenDeep=so,y.flattenDepth=lo,y.flip=Ca,y.flow=Qp,y.flowRight=Xp,y.fromPairs=fo,y.functions=Lc,y.functionsIn=Ic,y.groupBy=Xf,y.initial=Eo,y.intersection=If,y.intersectionBy=wf,y.intersectionWith=Pf,y.invert=Mp,y.invertBy=Lp,y.invokeMap=qf,y.iteratee=As,y.keyBy=Jf,y.keys=Dc,y.keysIn=Vc,y.map=la,y.mapKeys=Bc,y.mapValues=jc,y.matches=bs,y.matchesProperty=xs,y.memoize=Aa,y.merge=wp,y.mergeWith=Pp,y.method=qp,y.methodOf=Jp,y.mixin=Ms,y.negate=ba,y.nthArg=ws,y.omit=Up,y.omitBy=kc,y.once=xa,y.orderBy=fa,y.over=Zp,y.overArgs=op,y.overEvery=ed,y.overSome=td,y.partial=ap,y.partialRight=cp,y.partition=Zf,y.pick=Dp,y.pickBy=Yc,y.property=Ps,y.propertyOf=Us,y.pull=Uf,y.pullAll=go,y.pullAllBy=mo,y.pullAllWith=So,y.pullAt=Df,y.range=nd,y.rangeRight=rd,y.rearg=sp,y.reject=ha,y.remove=No,y.rest=Ma,y.reverse=Ro,y.sampleSize=va,y.set=Kc,y.setWith=Gc,y.shuffle=ya,y.slice=Oo,y.sortBy=ep,y.sortedUniq=Io,y.sortedUniqBy=wo,y.split=fs,y.spread=La,y.tail=Po,y.take=Uo,y.takeRight=Do,y.takeRightWhile=Vo,y.takeWhile=Bo,y.tap=Wo,y.throttle=Ia,y.thru=zo,y.toArray=vc,y.toPairs=Vp,y.toPairsIn=Bp,y.toPath=Fs,y.toPlainObject=mc,y.transform=Hc,y.unary=wa,y.union=Vf,y.unionBy=Bf,y.unionWith=jf,y.uniq=jo,y.uniqBy=ko,y.uniqWith=Yo,y.unset=$c,y.unzip=Fo,y.unzipWith=Ko,y.update=Wc,y.updateWith=zc,y.values=Qc,y.valuesIn=Xc,y.without=kf,y.words=ms,y.wrap=Pa,y.xor=Yf,y.xorBy=Ff,y.xorWith=Kf,y.zip=Gf,y.zipObject=Go,y.zipObjectDeep=Ho,y.zipWith=Hf,y.entries=Vp,y.entriesIn=Bp,y.extend=Rp,y.extendWith=Op,Ms(y,y),y.add=id,y.attempt=Wp,y.camelCase=jp,y.capitalize=es,y.ceil=ud,y.clamp=qc,y.clone=Da,y.cloneDeep=Ba,y.cloneDeepWith=ja,y.cloneWith=Va,y.conformsTo=ka,y.deburr=ts,y.defaultTo=Os,y.divide=od,y.endsWith=ns,y.eq=Ya,y.escape=rs,y.escapeRegExp=is,y.every=na,y.find=zf,y.findIndex=oo,y.findKey=Oc,y.findLast=Qf,y.findLastIndex=ao,y.findLastKey=Cc,y.floor=ad,y.forEach=aa,y.forEachRight=ca,y.forIn=Ac,y.forInRight=bc,y.forOwn=xc,y.forOwnRight=Mc,y.get=wc,y.gt=lp,y.gte=fp,y.has=Pc,y.hasIn=Uc,y.head=po,y.identity=Cs,y.includes=sa,y.indexOf=ho,y.inRange=Jc,y.invoke=Ip,y.isArguments=pp,y.isArray=dp,y.isArrayBuffer=hp,y.isArrayLike=Fa,y.isArrayLikeObject=Ka,y.isBoolean=Ga,y.isBuffer=Ep,y.isDate=vp,y.isElement=Ha,y.isEmpty=$a,y.isEqual=Wa,y.isEqualWith=za,y.isError=Qa,y.isFinite=Xa,y.isFunction=qa,y.isInteger=Ja,y.isLength=Za,y.isMap=yp,y.isMatch=nc,y.isMatchWith=rc,y.isNaN=ic,y.isNative=uc,y.isNil=ac,y.isNull=oc,y.isNumber=cc,y.isObject=ec,y.isObjectLike=tc,y.isPlainObject=sc,y.isRegExp=Tp,y.isSafeInteger=lc,y.isSet=_p,y.isString=fc,y.isSymbol=pc,y.isTypedArray=gp,y.isUndefined=dc,y.isWeakMap=hc,y.isWeakSet=Ec,y.join=vo,y.kebabCase=kp,y.last=yo,y.lastIndexOf=To,y.lowerCase=Yp,y.lowerFirst=Fp,y.lt=mp,y.lte=Sp,y.max=Gs,y.maxBy=Hs,y.mean=$s,y.meanBy=Ws,y.min=zs,y.minBy=Qs,y.stubArray=Ds,y.stubFalse=Vs,y.stubObject=Bs,y.stubString=js,y.stubTrue=ks,y.multiply=cd,y.nth=_o,y.noConflict=Ls,y.noop=Is,y.now=tp,y.pad=us,y.padEnd=os,y.padStart=as,y.parseInt=cs,y.random=Zc,y.reduce=pa,y.reduceRight=da,y.repeat=ss,y.replace=ls,y.result=Fc,y.round=sd,y.runInContext=e,y.sample=Ea,y.size=Ta,y.snakeCase=Kp,y.some=_a,y.sortedIndex=Co,y.sortedIndexBy=Ao,y.sortedIndexOf=bo,y.sortedLastIndex=xo,y.sortedLastIndexBy=Mo,y.sortedLastIndexOf=Lo,y.startCase=Gp,y.startsWith=ps,y.subtract=ld,y.sum=Xs,y.sumBy=qs,y.template=ds,y.times=Ys,y.toFinite=yc,y.toInteger=Tc,y.toLength=_c,y.toLower=hs,y.toNumber=gc,y.toSafeInteger=Sc,y.toString=Nc,y.toUpper=Es,y.trim=vs,y.trimEnd=ys,y.trimStart=Ts,y.truncate=_s,y.unescape=gs,y.uniqueId=Ks,y.upperCase=Hp,y.upperFirst=$p,y.each=aa,y.eachRight=ca,y.first=po,Ms(y,function(){var e={};return sr(y,function(t,n){pl.call(y.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),y.VERSION="4.17.4",o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){y[e].placeholder=y}),o(["drop","take"],function(e,t){J.prototype[e]=function(n){n=n===te?1:Yl(Tc(n),0);var r=this.__filtered__&&!t?new J(this):this.clone();return r.__filtered__?r.__takeCount__=Fl(n,r.__takeCount__):r.__views__.push({size:Fl(n,we),type:e+(r.__dir__<0?"Right":"")}),r},J.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),o(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Ae||3==n;J.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:yu(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),o(["head","last"],function(e,t){var n="take"+(t?"Right":"");J.prototype[e]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");J.prototype[e]=function(){return this.__filtered__?new J(this):this[n](1)}}),J.prototype.compact=function(){return this.filter(Cs)},J.prototype.find=function(e){return this.filter(e).head()},J.prototype.findLast=function(e){return this.reverse().find(e)},J.prototype.invokeMap=Jr(function(e,t){return"function"==typeof e?new J(this):this.map(function(n){return mr(n,e,t)})}),J.prototype.reject=function(e){return this.filter(ba(yu(e)))},J.prototype.slice=function(e,t){e=Tc(e);var n=this;return n.__filtered__&&(e>0||t<0)?new J(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==te&&(n=(t=Tc(t))<0?n.dropRight(-t):n.take(t-e)),n)},J.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},J.prototype.toArray=function(){return this.take(we)},sr(J.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=y[r?"take"+("last"==t?"Right":""):t],u=r||/^find/.test(t);i&&(y.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,a=t instanceof J,c=o[0],s=a||dp(t),l=function(e){var t=i.apply(y,d([e],o));return r&&f?t[0]:t};s&&n&&"function"==typeof c&&1!=c.length&&(a=s=!1);var f=this.__chain__,p=!!this.__actions__.length,h=u&&!f,E=a&&!p;if(!u&&s){t=E?t:new J(this);var v=e.apply(t,o);return v.__actions__.push({func:zo,args:[l],thisArg:te}),new z(v,f)}return h&&E?e.apply(this,o):(v=this.thru(l),h?r?v.value()[0]:v.value():v)})}),o(["pop","push","shift","sort","splice","unshift"],function(e){var t=al[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);y.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(dp(i)?i:[],e)}return this[n](function(n){return t.apply(dp(n)?n:[],e)})}}),sr(J.prototype,function(e,t){var n=y[t];if(n){var r=n.name+"";(ef[r]||(ef[r]=[])).push({name:t,func:n})}}),ef[zi(te,he).name]=[{name:"wrapper",func:te}],J.prototype.clone=Z,J.prototype.reverse=Pt,J.prototype.value=Ht,y.prototype.at=$f,y.prototype.chain=Qo,y.prototype.commit=Xo,y.prototype.next=qo,y.prototype.plant=Zo,y.prototype.reverse=ea,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=ta,y.prototype.first=y.prototype.head,bl&&(y.prototype[bl]=Jo),y}();"function"==typeof te&&"object"==typeof te.amd&&te.amd?(On._=Yn,te(function(){return Yn})):An?((An.exports=Yn)._=Yn,Cn._=Yn):On._=Yn}).call(gr)}),jr=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.PX="PX",e.PERC="%",e.VW="vw",e.VH="vh",e.CM="cm",e.EM="em",e.EX="ex",e.IN="in",e.MM="mm",e.PC="pc",e.PT="pt",e.VMIN="vmin"}(t.CSSMeasurementTypes||(t.CSSMeasurementTypes={}));!function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(t.Axis||(t.Axis={}));!function(e){e[e.azimuth=0]="azimuth",e[e.borderCollapse=1]="borderCollapse",e[e.borderSpacing=2]="borderSpacing",e[e.captionSide=3]="captionSide",e[e.color=4]="color",e[e.cursor=5]="cursor",e[e.direction=6]="direction",e[e.elevation=7]="elevation",e[e.emptyCells=8]="emptyCells",e[e.fontFamily=9]="fontFamily",e[e.fontSize=10]="fontSize",e[e.fontStyle=11]="fontStyle",e[e.fontVariant=12]="fontVariant",e[e.fontWeight=13]="fontWeight",e[e.font=14]="font",e[e.letterSpacing=15]="letterSpacing",e[e.lineHeight=16]="lineHeight",e[e.listStyleImage=17]="listStyleImage",e[e.listStylePosition=18]="listStylePosition",e[e.listStyleType=19]="listStyleType",e[e.listStyle=20]="listStyle",e[e.orphans=21]="orphans",e[e.pitchRange=22]="pitchRange",e[e.pitch=23]="pitch",e[e.quotes=24]="quotes",e[e.richness=25]="richness",e[e.speakHeader=26]="speakHeader",e[e.speakNumeral=27]="speakNumeral",e[e.speakPunctuation=28]="speakPunctuation",e[e.speak=29]="speak",e[e.speechRate=30]="speechRate",e[e.stress=31]="stress",e[e.textAlign=32]="textAlign",e[e.textIndent=33]="textIndent",e[e.textDecoration=34]="textDecoration",e[e.textTransform=35]="textTransform",e[e.visibility=36]="visibility",e[e.voiceFamily=37]="voiceFamily",e[e.volume=38]="volume",e[e.whiteSpace=39]="whiteSpace",e[e.widows=40]="widows",e[e.wordSpacing=41]="wordSpacing",e[e["border-collapse"]=42]="border-collapse",e[e["border-spacing"]=43]="border-spacing",e[e["caption-side"]=44]="caption-side",e[e["empty-cells"]=45]="empty-cells",e[e["font-family"]=46]="font-family",e[e["font-size"]=47]="font-size",e[e["font-style"]=48]="font-style",e[e["font-variant"]=49]="font-variant",e[e["font-weight"]=50]="font-weight",e[e["letter-spacing"]=51]="letter-spacing",e[e["line-height"]=52]="line-height",e[e["list-style-image"]=53]="list-style-image",e[e["list-style-position"]=54]="list-style-position",e[e["list-style-type"]=55]="list-style-type",e[e["list-style"]=56]="list-style",e[e["pitch-range"]=57]="pitch-range",e[e["speak-header"]=58]="speak-header",e[e["speak-numeral"]=59]="speak-numeral",e[e["speak-punctuation"]=60]="speak-punctuation",e[e["speech-rate"]=61]="speech-rate",e[e["text-align"]=62]="text-align",e[e["text-indent"]=63]="text-indent",e[e["text-decoration"]=64]="text-decoration",e[e["text-transform"]=65]="text-transform",e[e["voice-family"]=66]="voice-family",e[e["white-space"]=67]="white-space",e[e["word-spacing"]=68]="word-spacing"}(t.INHERITED_CSS_STYLE_PROPERTIES||(t.INHERITED_CSS_STYLE_PROPERTIES={}))});r(jr);jr.CSSMeasurementTypes,jr.Axis,jr.INHERITED_CSS_STYLE_PROPERTIES;var kr=i(function(e){!function(){function t(e){return Array.prototype.map.call(e,function(e){return e.charCodeAt(0)})}function n(e){var t,n,r,i,o=-1;for(t=0,r=e.length;t<r;t+=1){for(i=255&(o^e[t]),n=0;n<8;n+=1)1==(1&i)?i=i>>>1^u:i>>>=1;o=o>>>8^i}return-1^o}function r(e,t){var n,u,o;if(void 0!==r.crc&&t&&e||(r.crc=-1,e)){for(n=r.crc,u=0,o=e.length;u<o;u+=1)n=n>>>8^i[255&(n^e[u])];return r.crc=n,-1^n}}var i=[],u=3988292384;!function(){var e,t,n;for(t=0;t<256;t+=1){for(e=t,n=0;n<8;n+=1)1&e?e=u^e>>>1:e>>>=1;i[t]=e>>>0}}(),e.exports=function(e,i){var e="string"==typeof e?t(e):e;return((i?n(e):r(e))>>>0).toString(16)},e.exports.direct=n,e.exports.table=r}()}),Yr=(kr.direct,kr.table,i(function(e,t){var n=gr&&gr.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.weakMemo=wr.weakMemo;t.pushChildNode=function(e,t){return n({},e,{childNodes:e.childNodes.concat([t])})},t.removeChildNodeAt=function(e,t){return n({},e,{childNodes:e.childNodes.slice(0,t).concat(e.childNodes.slice(t+1))})},t.insertChildNode=function(e,t,r){return void 0===r&&(r=Number.MAX_SAFE_INTEGER),n({},e,{childNodes:e.childNodes.slice(0,r).concat([t],e.childNodes.slice(r))})},t.moveChildNode=function(e,t,r){var i=e.childNodes.slice(),u=i[t];return i.splice(t,1),i.splice(r,0,u),n({},e,{childNodes:i})},t.insertCSSRule=function(e,t,r){return void 0===r&&(r=Number.MAX_SAFE_INTEGER),n({},e,{rules:e.rules.slice(0,r).concat([t],e.rules.slice(r))})},t.removeCSSRuleAt=function(e,t){return n({},e,{rules:e.rules.slice(0,t).concat(e.rules.slice(t+1))})},t.moveCSSRule=function(e,t,r){var i=e.rules.slice(),u=i[t];return i.splice(t,1),i.splice(r,0,u),n({},e,{rules:i})},t.setCSSSelectorText=function(e,t){return n({},e,{selectorText:t})},t.setCSSAtRuleSetParams=function(e,t){return n({},e,{params:t})},t.setCSSStyleProperty=function(e,t,r,i){var u=e.style.slice(),o={name:r,value:i};return t>u.length?u.push(o):u[t]=o,n({},e,{style:u})},t.removeCSSStyleProperty=function(e,t){var r=e.style.slice();return r.splice(t,1),n({},e,{style:r})},t.moveCSSStyleProperty=function(e,t,r){var i=e.style.slice(),u=i[t];return i.splice(t,1),i.splice(r,0,u),n({},e,{style:i})},t.parseStyle=wr.weakMemo(function(e){var t=[];return e.split(";").forEach(function(e){var n=e.split(":"),r=n[0],i=n.slice(1);r&&t.push({name:Br.camelCase(r.trim()),value:i.join(":").trim()})}),t}),t.stringifyStyle=function(e){var n="";if(Array.isArray(e))for(var r=0,i=e;r<i.length;r++){var u=i[r],o=u.name,a=u.value;n+=t.cssPropNameToKebabCase(o)+": "+a+";"}else for(var c=0,s=e;c<s.length;c++){var l=s[c];n+=t.cssPropNameToKebabCase(l)+": "+e[l]+";"}return n},t.stringifyNode=wr.weakMemo(function(e,n){switch(e.type){case Ir.SlimVMObjectType.TEXT:return e.value;case Ir.SlimVMObjectType.ELEMENT:for(var r="<"+(c=e).tagName+" ",i=0,u=c.attributes.length;i<u;i++){var o=c.attributes[i];r+=" "+o.name+"="+JSON.stringify(o.value)}r+=">",n&&c.shadow&&(r+="<#shadow>",r+=t.stringifyNode(c.shadow,n),r+="</#shadow>");for(var i=0,a=c.childNodes.length;i<a;i++)r+=t.stringifyNode(c.childNodes[i],n);return r+="</"+c.tagName+">";case Ir.SlimVMObjectType.DOCUMENT_FRAGMENT:case Ir.SlimVMObjectType.DOCUMENT:for(var c=e,r="",i=0,s=c.childNodes.length;i<s;i++)r+=t.stringifyNode(c.childNodes[i],n);return r}}),t.getAttribute=function(e,t){return t.attributes.find(function(t){return t.name===e})},t.hasAttribute=function(e,n){return null!=t.getAttribute(e,n)},t.getAttributeValue=function(e,n){var r=t.getAttribute(e,n);return r&&r.value};t.getNodeAncestors=wr.weakMemo(function(e,n,r){void 0===r&&(r=!1);for(var i=t.flattenObjects(n),u=i[e.id],o=i[u.parentId],a=[],c=0;o;){if(r&&o.value.shadow){var s=o.value,l=t.getSlot(t.getNodeSlotName(u.value),s);l&&a.push.apply(a,t.getNodeAncestors(l,s.shadow))}if(a.push(o.value),!o.parentId)break;if(u=o,o=i[o.parentId],c++>1e4)throw new Error("Infinite loop detected")}return a}),t.getVMObjectPath=wr.weakMemo(function(e,n){for(var r=t.flattenObjects(n),i=r[e.id],u=[];i&&i.parentId;){var o=r[i.parentId];o.value.shadow===i.value?u.unshift("shadow"):o.value.sheet===i.value?u.unshift("sheet"):o.value.childNodes?u.unshift(o.value.childNodes.indexOf(i.value)):o.value.rules&&u.unshift(o.value.rules.indexOf(i.value)),i=o}return u}),t.getVMObjectFromPath=wr.weakMemo(function(e,t){for(var n=t,r=0,i=e.length;r<i;r++){var u=e[r];if("shadow"===u?n=n.shadow:"sheet"===u?n=n.sheet:n.childNodes?n=n.childNodes[u]:n.rules&&(n=n.rules[u]),!n)return null}return n}),t.getVmObjectSourceUris=wr.weakMemo(function(e){return Br.uniq(r(e))});var r=wr.weakMemo(function(e){var t=[];if(e.source&&e.source.uri&&t.push(e.source.uri),e.type===Ir.SlimVMObjectType.ELEMENT){var n=e;n.shadow&&t.push.apply(t,r(n.shadow)),"style"===n.tagName&&t.push.apply(t,r(n.sheet))}if(e.type===Ir.SlimVMObjectType.STYLE_SHEET||e.type===Ir.SlimVMObjectType.AT_RULE){var i=e;if(e.type===Ir.SlimVMObjectType.AT_RULE){var u=e,o=u.name,a=u.params;"import"===o&&t.push(a)}for(var c=0,s=i.rules.length;c<s;c++)t.push.apply(t,r(i.rules[c]))}return e.type!==Ir.SlimVMObjectType.ELEMENT&&e.type!==Ir.SlimVMObjectType.DOCUMENT_FRAGMENT||t.push.apply(t,Br.flatten(e.childNodes.map(function(e){return r(e)}))),t});t.getNestedObjectById=wr.weakMemo(function(e,n){var r=t.flattenObjects(n);return r[e]&&r[e].value}),t.flattenObjects=wr.weakMemo(function(e,t){return Object.assign.apply(Object,[{}].concat(i(e,t)))});var i=wr.weakMemo(function(e,n){switch(e.type){case Ir.SlimVMObjectType.TEXT:return[(s={},s[e.id]={parentId:n,value:e},s)];case Ir.SlimVMObjectType.ELEMENT:var r=e,a=[],c=(l={},l[r.id]={parentId:n,value:e},l);t.getAttributeValue("style",r);return"style"===r.tagName?a.push.apply(a,u(r.sheet,r.id)):(r.shadow&&a.push.apply(a,i(r.shadow,r.id)),a.push.apply(a,o(r.childNodes,r.id))),a.push(c),a;case Ir.SlimVMObjectType.DOCUMENT:case Ir.SlimVMObjectType.DOCUMENT_FRAGMENT:return[(f={},f[e.id]={parentId:n,value:e},f)].concat(o(e.childNodes,e.id))}var s,l,f}),u=wr.weakMemo(function(e,t){switch(e.type){case Ir.SlimVMObjectType.AT_RULE:case Ir.SlimVMObjectType.STYLE_SHEET:var n=e;return[(r={},r[n.id]={parentId:t,value:e},r)].concat(a(n.rules,n.id));case Ir.SlimVMObjectType.STYLE_RULE:return[(i={},i[e.id]={parentId:t,value:e},i)]}var r,i}),o=wr.weakMemo(function(e,t){for(var n=[],r=0,u=e.length;r<u;r++)n.push.apply(n,i(e[r],t));return n}),a=wr.weakMemo(function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push.apply(n,u(e[r],t));return n});t.getDocumentChecksum=wr.weakMemo(function(e){return kr(t.stringifyNode(e,!0))}),t.replaceNestedChild=function(e,r,i,u){void 0===u&&(u=0);var o=r[u];if(u===r.length)return i;if("shadow"===o)return n({},e,{shadow:t.replaceNestedChild(e.shadow,r,i,u+1)});if("sheet"===o)return n({},e,{sheet:t.replaceNestedChild(e.sheet,r,i,u+1)});if(e.childNodes){var a=e;return n({},a,{childNodes:a.childNodes.slice(0,o).concat([t.replaceNestedChild(a.childNodes[o],r,i,u+1)],a.childNodes.slice(o+1))})}if(e.rules){var c=e;return n({},c,{rules:c.rules.slice(0,o).concat([t.replaceNestedChild(c.rules[o],r,i,u+1)],c.rules.slice(o+1))})}},t.getStyleOwnerScopeInfo=function(e,n){var r=t.getNestedObjectById(e,n),i=t.getVMObjectPath(r,n);if(r.type===Ir.SlimVMObjectType.STYLE_RULE){var u=c(i,n);return[r.type,r.selectorText,t.getAttributeValue("scope",u)].concat(i.slice(i.indexOf("sheet")))}return console.log(r),console.error("Not implemented yet"),[]},t.getStyleOwnerFromScopeInfo=function(e,n){var r=e[0],i=e.slice(1);if(r===Ir.SlimVMObjectType.STYLE_RULE)for(var u=i[0],o=i[1],a=i.slice(2),c=0,s=t.getScopedStyleElements(o,n);c<s.length;c++){var l=s[c],f=t.getVMObjectPath(l,n.document).concat(a),p=t.getVMObjectFromPath(f,n.document);if(p&&p.type===r&&p.selectorText===u)return p}};var c=function(e,n){var r=e.indexOf("sheet");return r>-1?t.getVMObjectFromPath(e.slice(0,r),n):null};t.setTextNodeValue=function(e,t){return n({},e,{value:t})},t.setElementAttribute=function(e,t,r,i){for(var u=[],o=-1,a=0,c=e.attributes.length;a<c;a++)(s=e.attributes[a]).name===t?(o=a,r&&u.push({name:t,value:r})):u.push(s);if(-1===o&&(o=u.length,u.push({name:t,value:r})),null!=i&&o!==i){var s=u[o];u.splice(o,1),u.splice(i,0,s)}return n({},e,{attributes:u})},t.getSyntheticWindowChild=wr.weakMemo(function(e,n){return t.getNestedObjectById(e,n.document)}),t.getSlimNodeHost=wr.weakMemo(function(e,n){var r=t.getVMObjectPath(e,n),i=r.lastIndexOf("shadow");return i>-1?t.getVMObjectFromPath(r.slice(0,i),n):null});var s=wr.weakMemo(function(e){var n=t.flattenObjects(e),r=[];for(var i in n){var u=n[i].value;u.type!==Ir.SlimVMObjectType.ELEMENT||"style"!==u.tagName||t.getAttributeValue("scope",u)||r.push(u.sheet)}return r}),l=wr.weakMemo(function(e){for(var t=[],n=0,r=s(e);n<r.length;n++)for(var i=0,u=r[n].rules;i<u.length;i++){var o=u[i];o.type!==Ir.SlimVMObjectType.STYLE_RULE&&o.type!=Ir.SlimVMObjectType.AT_RULE||t.push(o)}return t});t.isMediaRule=function(e){return e.type==Ir.SlimVMObjectType.AT_RULE&&"media"===e.name},t.getScopedStyleRules=wr.weakMemo(function(e,n){t.flattenObjects(n.document);for(var r=[],i=0,u=t.getScopedStyleElements(e,n);i<u.length;i++)for(var o=0,a=u[i].sheet.rules;o<a.length;o++){var c=a[o];c.type!==Ir.SlimVMObjectType.STYLE_RULE&&c.type!=Ir.SlimVMObjectType.AT_RULE||r.push(c)}return r}),t.getScopedStyleElements=wr.weakMemo(function(e,n){var r=t.flattenObjects(n.document),i=[];for(var u in r){var o=r[u].value;o.type===Ir.SlimVMObjectType.ELEMENT&&"style"===o.tagName&&t.getAttributeValue("scope",o)==e&&i.push(o)}return i});var f=wr.weakMemo(function(e,n){var r=t.getSlimNodeHost(e,n.document),i=l(n.document);return r&&(i=t.getScopedStyleRules(r.tagName,n).concat(i)),e.type===Ir.SlimVMObjectType.ELEMENT&&e.shadow&&(i=i.concat(t.getScopedStyleRules(e.tagName,n))),i});t.getPseudoElementName=function(e){var t=e.match(/::?(before|after|placeholder)/);return t?t[1]:null},t.getSyntheticMatchingCSSRules=wr.weakMemo(function(e,n,r){for(var i=t.getSyntheticWindowChild(n,e),u=f(i,e),o=[],a=t.getAttribute("style",i),c=0,s=u.length;c<s;c++){var l=u[c];if(l.type===Ir.SlimVMObjectType.STYLE_RULE){if(Dr.elementMatches(l.selectorText,i,e.document)){var p=l;o.push({assocId:l.id,pseudo:t.getPseudoElementName(p.selectorText),style:p.style,rule:p,targetElement:i})}}else if(t.isMediaRule(l)&&Vr.createMediaMatcher(e)(l.params))for(var d=0,h=l.rules;d<h.length;d++){var E=h[d];Dr.elementMatches(E.selectorText,i,e.document)&&o.push({assocId:E.id,style:E.style,rule:E,mediaRule:l,targetElement:i})}}return a&&o.push({assocId:i.id,targetElement:i,style:"string"==typeof a.value?t.parseStyle(a.value):a.value}),o});var p=wr.weakMemo(function(e,n){for(var r=t.getSyntheticMatchingCSSRules(e,n,!0),i=[],u=0,o=r.length;u<o;u++){var a=r[u];t.containsInheritableStyleProperty(a.style)&&i.push(a)}return i});t.containsInheritableStyleProperty=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=r.name,u=r.value;if(jr.INHERITED_CSS_STYLE_PROPERTIES[i]&&u)return!0}return!1};var d=function(e,n,r){void 0===r&&(r={});var i=e.rule||e.targetElement;return t.getDisabledStyleRuleProperties(i.id,n.document,r)};t.isCSSPropertyDisabled=function(e,n,r,i){return void 0===i&&(i={}),Boolean(t.getDisabledStyleRuleProperties(e,r,i)[n])},t.getDisabledStyleRuleProperties=function(e,n,r){var i={},u=r[t.getStyleOwnerScopeInfo(e,n).join("")]||{};for(var o in u)i[o]=Boolean(u[o]);return i},t.getSyntheticAppliedCSSRules=wr.weakMemo(function(e,n,r){void 0===r&&(r={});for(var i=t.getSyntheticWindowChild(n,e),u=(f(i,e),t.getSyntheticMatchingCSSRules(e,n)),o={},a={},c=[],s=u.length;s--;){var l=u[s],h=l.pseudo,E=d(l,e,r);a[l.assocId]=!0;for(var v={},y=0,T=l.style;y<T.length;y++)o[h+(b=T[y].name)]?v[b]=!0:E[b]||(o[h+b]=!0);c.push({inherited:!1,rule:l,overriddenPropertyNames:v,disabledPropertyNames:E})}for(var _=t.getNodeAncestors(i,e.document,!0),s=0,g=_.length-1;s<g;s++){var m=_[s];if(m.type===Ir.SlimVMObjectType.ELEMENT)for(var S=p(e,m.id),N=S.length;N--;){var R=S[N];if(!a[R.assocId]){var h=R.pseudo,E=d(R,e,r);a[R.assocId]=!0;for(var v={},O={},C=0,A=R.style;C<A.length;C++){var b=A[C].name;jr.INHERITED_CSS_STYLE_PROPERTIES[b]?o[h+b]?v[b]=!0:E[b]||(o[h+b]=!0):O[b]=!0}c.push({inherited:!0,rule:R,ignoredPropertyNames:O,disabledPropertyNames:E,overriddenPropertyNames:v})}}}var x=t.getRootStyleRule(e);if(x){var M={assocId:x.id,style:x.style,rule:x};c.push({inherited:!0,rule:M,ignoredPropertyNames:{},overriddenPropertyNames:{},disabledPropertyNames:d(M,e,r)})}return c}),t.getRootStyleRule=wr.weakMemo(function(e){var n=t.flattenObjects(e.document);for(var r in n){var i=n[r].value;if(i.type===Ir.SlimVMObjectType.STYLE_RULE&&":root"===i.selectorText)return i}}),t.getStyleValue=function(e,t){var n=t.find(function(t){return t.name===e});return n&&n.value},t.cssPropNameToKebabCase=function(e){return e="--"===e.substr(0,2)?e:Br.kebabCase(e),/^(webkit|moz|ms|o)-/.test(e)&&(e="-"+e),e},t.getElementLabel=function(e){var n=String(e.tagName).toLowerCase(),r=t.getAttributeValue("class",e),i=t.getAttributeValue("id",e);return i?n+="#"+i:r&&(n+="."+r),n},t.setVMObjectIds=function(e,r,i){switch(void 0===i&&(i=0),e.type){case Ir.SlimVMObjectType.ELEMENT:var u=e;u.shadow&&(u=n({},u,{shadow:t.setVMObjectIds(u.shadow,r,i)}),i=t.getRefCount(u.shadow,r)),u.sheet&&(u=n({},u,{sheet:t.setVMObjectIds(u.sheet,r,i)}),i=t.getRefCount(u.sheet,r)),e=u;case Ir.SlimVMObjectType.DOCUMENT_FRAGMENT:case Ir.SlimVMObjectType.DOCUMENT:for(var o=e,a=new Array(o.childNodes.length),c=0,s=o.childNodes.length;c<s;c++){var l=t.setVMObjectIds(o.childNodes[c],r,i);i=t.getRefCount(l,r),a[c]=l}e=o=n({},o,{childNodes:a});break;case Ir.SlimVMObjectType.AT_RULE:case Ir.SlimVMObjectType.STYLE_SHEET:for(var f=e,p=new Array(f.rules.length),c=0,d=f.rules.length;c<d;c++){var h=t.setVMObjectIds(f.rules[c],r,i);i=t.getRefCount(h,r),p[c]=h}e=f=n({},f,{rules:p})}if(null==e.type)throw new Error("Current type is not defined");return n({},e,{id:Br.padStart(String(e.type),2,"0")+r+(i+1)})},t.getVMObjectIdType=function(e){return Number(e.substr(0,2))},t.getRefCount=function(e,t){return Number(e.id.substr(t.length+2))},t.traverseSlimNode=function(e,n){if(!1===n(e))return!1;switch(e.type){case Ir.SlimVMObjectType.ELEMENT:case Ir.SlimVMObjectType.DOCUMENT_FRAGMENT:for(var r=e,i=0,u=r.childNodes.length;i<u;i++)if(!1===t.traverseSlimNode(r.childNodes[i],n))return!1}},t.compileScopedCSS=function(e,t,n){return void 0===n&&(n={}),(e.match(/.*?([,\s]+|$)/g)||[e]).map(function(e,r){if(!e)return e;var i=e.match(/(.*?)([,\s]+)/)||[e,e,""],u=i[1],o=i[2];return""+(u=h(u,t,n,r))+o}).join("")};var h=function(e,t,n,r){if(/%/.test(e))return e;var i=t+"_host";for(var u in n)-1!==e.indexOf(u)&&(e=e.replace(e,e.replace(u,n[u]+"_host")));var o=(e.match(/::.*/)||[""])[0];if(-1!==(e=e.replace(o,"")).indexOf(":host")){var a=e.match(/\:host\((.*?)\)/)||[null,""],c=a[1];return c=c.replace(/\[([\w\d\-]+)\]/g,"[data-$1]"),e.replace(/\:host(\(.*?\))?/g,"."+i+(c||""))}return"span"===e&&0===r?"."+i+" span."+t:e+("."+t)+o};t.getSlot=wr.weakMemo(function(e,n){if(!n.shadow)return null;var r;return t.traverseSlimNode(n.shadow,function(n){if(n.type===Ir.SlimVMObjectType.ELEMENT){var i=n;if("slot"===i.tagName&&t.getAttributeValue("name",i)==e)return r=i,!1}}),r}),t.getSlotChildren=function(e,n){return t.getSlotChildrenByName(t.getAttributeValue("name",e),n)},t.getSlotChildrenByName=wr.weakMemo(function(e,n){return n.childNodes.filter(function(n){return t.getNodeSlotName(n)==e})}),t.getNodeSlotName=function(e){return e.type===Ir.SlimVMObjectType.ELEMENT?t.getAttributeValue("slot",e):null},t.isValidStyleDeclarationName=function(e){return!/^([\$_]|\d+$)/.test(e.charAt(0))&&!/^(type|id)$/.test(e)}}));r(Yr);Yr.weakMemo,Yr.pushChildNode,Yr.removeChildNodeAt,Yr.insertChildNode,Yr.moveChildNode,Yr.insertCSSRule,Yr.removeCSSRuleAt,Yr.moveCSSRule,Yr.setCSSSelectorText,Yr.setCSSAtRuleSetParams,Yr.setCSSStyleProperty,Yr.removeCSSStyleProperty,Yr.moveCSSStyleProperty,Yr.parseStyle,Yr.stringifyStyle,Yr.stringifyNode,Yr.getAttribute,Yr.hasAttribute,Yr.getAttributeValue,Yr.getNodeAncestors,Yr.getVMObjectPath,Yr.getVMObjectFromPath,Yr.getVmObjectSourceUris,Yr.getNestedObjectById,Yr.flattenObjects,Yr.getDocumentChecksum,Yr.replaceNestedChild,Yr.getStyleOwnerScopeInfo,Yr.getStyleOwnerFromScopeInfo,Yr.setTextNodeValue,Yr.setElementAttribute,Yr.getSyntheticWindowChild,Yr.getSlimNodeHost,Yr.isMediaRule,Yr.getScopedStyleRules,Yr.getScopedStyleElements,Yr.getPseudoElementName,Yr.getSyntheticMatchingCSSRules,Yr.containsInheritableStyleProperty,Yr.isCSSPropertyDisabled,Yr.getDisabledStyleRuleProperties,Yr.getSyntheticAppliedCSSRules,Yr.getRootStyleRule,Yr.getStyleValue,Yr.cssPropNameToKebabCase,Yr.getElementLabel,Yr.setVMObjectIds,Yr.getVMObjectIdType,Yr.getRefCount,Yr.traverseSlimNode,Yr.compileScopedCSS,Yr.getSlot,Yr.getSlotChildren,Yr.getSlotChildrenByName,Yr.getNodeSlotName,Yr.isValidStyleDeclarationName;var Fr=i(function(e,t){var n=gr&&gr.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.compressRootNode=Yr.weakMemo(function(e){return[Yr.getVmObjectSourceUris(e),r(e)]});var r=function(e){switch(e.type){case Ir.SlimVMObjectType.TEXT:return[e.type,e.value];case Ir.SlimVMObjectType.ELEMENT:for(var t=e,n=t.type,i=t.tagName,u=t.attributes,a=t.shadow,c=t.childNodes,s=[],l=0,f=u;l<f.length;l++){var p=f[l];s.push([p.name,p.value])}var d=[n,i,s,a?r(a):null,c.map(function(e){return r(e)})];return"style"===i&&d.push(r(e.sheet)),d;case Ir.SlimVMObjectType.DOCUMENT_FRAGMENT:case Ir.SlimVMObjectType.DOCUMENT:var h=e;return[n=h.type,(c=h.childNodes).map(function(e){return r(e)})];case Ir.SlimVMObjectType.STYLE_SHEET:var E=e;return[n=E.type,(R=E.rules).map(function(e){return r(e)})];case Ir.SlimVMObjectType.FONT_FACE_RULE:var v=e,n=v.type,y=v.style;v.source;return[n,g=o(y)];case Ir.SlimVMObjectType.STYLE_RULE:var T=e,n=T.type,_=T.selectorText,y=T.style,g=(T.source,o(y));return[n,_,g];case Ir.SlimVMObjectType.AT_RULE:var m=e,n=m.type,S=m.name,N=m.params,R=m.rules;return[n,S,N,R.map(function(e){return r(e)})]}};t.uncompressRootNode=function(e){e[0];var t=e[1];return i(t)};var i=function(e){switch(e[0]){case Ir.SlimVMObjectType.TEXT:return{type:t=e[0],value:h=e[1]};case Ir.SlimVMObjectType.ELEMENT:for(var t=e[0],r=e[1],o=e[2],a=e[3],c=e[4],s=[],l=0,f=o;l<f.length;l++){var p=f[l],d=p[0],h=p[1];s.push({name:d,value:h})}var E={type:t,tagName:r,attributes:s,shadow:a&&i(a),childNodes:c.map(function(e){return i(e)})};return"style"===r&&(E=n({},E,{sheet:i(e[5])})),E;case Ir.SlimVMObjectType.DOCUMENT_FRAGMENT:case Ir.SlimVMObjectType.DOCUMENT:return{type:t=e[0],childNodes:(c=e[1]).map(function(e){return i(e)})};case Ir.SlimVMObjectType.STYLE_SHEET:return{type:t=e[0],rules:(m=e[1]).map(function(e){return i(e)})};case Ir.SlimVMObjectType.FONT_FACE_RULE:var t=e[0],v=e[1];return{type:t,style:T=u(v)};case Ir.SlimVMObjectType.STYLE_RULE:var t=e[0],y=e[1],v=e[2],T=u(v);return{type:t,selectorText:y,style:T};case Ir.SlimVMObjectType.AT_RULE:var t=e[0],_=e[1],g=e[2],m=e[3];return{type:t,name:_,params:g,rules:m.map(function(e){return i(e)})}}},u=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],u=i[0],o=i[1];t.push({name:u,value:o})}return t},o=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],u=i.name,o=i.value;t.push([u,o])}return t}});r(Fr);Fr.compressRootNode,Fr.uncompressRootNode;var Kr=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MUTATED="MUTATED",t.SET_VALUE_MUTATION="SET_VALUE_MUTATION",t.INSERT_CHILD_MUTATION="INSERT_CHILD_MUTATION",t.REMOVE_CHILD_MUTATION="REMOVE_CHILD_MUTATION",t.SET_PROPERTY_MUTATION="SET_PROPERTY_MUTATION",t.REMOVE_MUTATION="REMOVE_MUTATION",t.createMutationEvent=function(e){return{type:t.MUTATED,mutation:e}},t.createSetValueMutation=function(e,t,n){return{type:e,target:t,newValue:n}},t.createInsertChildMutation=function(e,t,n,r,i){return void 0===r&&(r=Number.MAX_SAFE_INTEGER),{type:e,target:t,child:n,index:r,clone:i}},t.createRemoveChildMutation=function(e,t,n,r){return{type:e,target:t,child:n,index:r}},t.createMoveChildMutation=function(e,t,n,r,i){return{type:e,target:t,child:n,index:r,oldIndex:i}},t.createPropertyMutation=function(e,t,n,r,i,u,o){return{type:e,target:t,name:n,newValue:r,oldValue:i,oldName:u,index:o}},t.createRemoveMutation=function(e,t,n,r,i,u){return{type:e,target:t}}});r(Kr);Kr.MUTATED,Kr.SET_VALUE_MUTATION,Kr.INSERT_CHILD_MUTATION,Kr.REMOVE_CHILD_MUTATION,Kr.SET_PROPERTY_MUTATION,Kr.REMOVE_MUTATION,Kr.createMutationEvent,Kr.createSetValueMutation,Kr.createInsertChildMutation,Kr.createRemoveChildMutation,Kr.createMoveChildMutation,Kr.createPropertyMutation,Kr.createRemoveMutation;var Gr=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.STRING_REPLACE="STRING_REPLACE",t.createStringMutation=function(e,n,r){return void 0===r&&(r=""),{startIndex:e,endIndex:n,value:r,type:t.STRING_REPLACE}},t.editString=function(e,t,n){void 0===n&&(n=[]);for(var r=e,i=n.length,u=n.concat(t),o=0,a=t.length;o<a;o++){for(var c=t[o],s=c.startIndex,l=c.endIndex,f=c.value,p=s,d=l,h=!1,E=s===l,v=o+i,y=0;y<v;y++){var T=u[y],_=T.startIndex,g=T.endIndex,m=T.value,S=_===g,N=s===_,R=l===g,O=N&&E,C=R&&E,A=N&&S,b=R&&S,x=O||C||A||b;if(_<l&&_>s&&(d-=l-_),g>s&&g<l&&(p+=g-s),(s>=_&&l<=g||s<_&&l>=g)&&!x){h=!0;break}if(_<=s&&l>_){var M=m.length-(g-_);p=Math.max(0,p+M),d=Math.max(0,d+M)}}h||(r=r.substr(0,p)+f+r.substr(d))}return r}});r(Gr);Gr.STRING_REPLACE,Gr.createStringMutation,Gr.editString;var Hr=i(function(e,t){function n(e,n,r){for(var i=[].concat(e),u=[].concat(e),o=[].concat(n),a=[],c=[],s=0,l=u.length;s<l;s++){for(var f=u[s],p=void 0,d=1/0,h=0,E=o.length;h<E;h++){var v=r(f,_=o[h]);if(~v&&v<d&&(p=_,d=v),0===d)break}null!=p&&(u.splice(s--,1),l--,o.splice(o.indexOf(p),1),c[n.indexOf(p)]=[f,p])}for(s=u.length;s--;){var f=u[s],y=e.indexOf(f);a.push(t.createArrayDeleteMutation(f,y)),i.splice(y,1)}for(var s=0,l=o.length;s<l;s++){_=o[s];c[y=n.indexOf(_)]=[void 0,_]}for(var s=0,l=c.length;s<l;s++)if(null!=c[s]){var T=c[s],f=T[0],_=T[1],g=s;if(null==f)a.push(t.createArrayInsertMutation(g,_)),i.splice(g,0,_);else{var m=i.indexOf(f);a.push(t.createArrayUpdateMutation(e.indexOf(f),m,_,g)),m!==g&&(i.splice(m,1),i.splice(g,0,f))}}return t.createArrayMutation(a)}function r(e,n,r,i){void 0===r&&(r=function(e,t){return t}),void 0===i&&(i=function(e){return e});var u=e.slice();return t.eachArrayValueMutation(n,{insert:function(e){var t=e.index,n=e.value;u.splice(t,0,i(n))},delete:function(e){var t=e.index;u.splice(t,1)},update:function(e){var t=e.patchedOldIndex,n=e.newValue,i=e.index,o=u[t],a=r(o,n);a===o&&t===i||(t!==i&&u.splice(t,1),u.splice(i,0,a))}}),u}Object.defineProperty(t,"__esModule",{value:!0}),t.ARRAY_DIFF="ARRAY_DIFF",t.ARRAY_INSERT="ARRAY_INSERT",t.ARRAY_UPDATE="ARRAY_UPDATE",t.ARRAY_DELETE="ARRAY_DELETE",t.createArrayInsertMutation=function(e,n){return{type:t.ARRAY_INSERT,index:e,value:n}},t.createArrayUpdateMutation=function(e,n,r,i){return{type:t.ARRAY_UPDATE,index:i,newValue:r,originalOldIndex:e,patchedOldIndex:n}},t.createArrayDeleteMutation=function(e,n){return{type:t.ARRAY_DELETE,value:e,index:n}},t.createArrayMutation=function(e){return{type:t.ARRAY_DIFF,mutations:e}},t.diffArray=n,t.eachArrayValueMutation=function(e,n){e.mutations.forEach(function(e){switch(e.type){case t.ARRAY_INSERT:return n.insert(e);case t.ARRAY_DELETE:return n.delete(e);case t.ARRAY_UPDATE:return n.update(e)}})},t.patchArray=r});r(Hr);Hr.ARRAY_DIFF,Hr.ARRAY_INSERT,Hr.ARRAY_UPDATE,Hr.ARRAY_DELETE,Hr.createArrayInsertMutation,Hr.createArrayUpdateMutation,Hr.createArrayDeleteMutation,Hr.createArrayMutation,Hr.diffArray,Hr.eachArrayValueMutation,Hr.patchArray;var $r=i(function(e,t){function n(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(Kr),n(Gr),n(Hr)});r($r);var Wr=$r,zr=i(function(e,t){var n=gr&&gr.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.SET_TEXT_NODE_VALUE="SET_TEXT_NODE_VALUE",t.INSERT_CHILD_NODE="INSERT_CHILD_NODE",t.REMOVE_CHILD_NODE="REMOVE_CHILD_NODE",t.MOVE_CHILD_NODE="MOVE_CHILD_NODE",t.SET_ATTRIBUTE_VALUE="SET_ATTRIBUTE_VALUE",t.ATTACH_SHADOW="ATTACH_SHADOW",t.REMOVE_SHADOW="REMOVE_SHADOW",t.MOVE_ATTRIBUTE="MOVE_ATTRIBUTE",t.CSS_INSERT_RULE="CSS_INSERT_RULE",t.CSS_DELETE_RULE="CSS_DELETE_RULE",t.CSS_MOVE_RULE="CSS_MOVE_RULE",t.CSS_SET_STYLE_PROPERTY="CSS_SET_STYLE_PROPERTY",t.CSS_MOVE_STYLE_PROPERTY="CSS_MOVE_STYLE_PROPERTY",t.CSS_DELETE_STYLE_PROPERTY="CSS_DELETE_STYLE_PROPERTY",t.CSS_SET_SELECTOR_TEXT="CSS_SET_SELECTOR_TEXT",t.CSS_AT_RULE_SET_PARAMS="CSS_AT_RULE_SET_PARAMS",t.diffNode=Yr.weakMemo(function(e,t,n){switch(void 0===n&&(n=[]),e.type){case Ir.SlimVMObjectType.TEXT:return r(e,t,n);case Ir.SlimVMObjectType.ELEMENT:return i(e,t,n);case Ir.SlimVMObjectType.DOCUMENT:case Ir.SlimVMObjectType.DOCUMENT_FRAGMENT:return u(e,t,n);default:throw new Error("Unable to diff")}});var r=function(e,n,r){if(e.value!==n.value)return[Wr.createSetValueMutation(t.SET_TEXT_NODE_VALUE,r,n.value)]},i=function(e,n,r){var i=[];return Wr.eachArrayValueMutation(Wr.diffArray(e.attributes,n.attributes,function(e,t){return e.name===t.name?0:-1}),{insert:function(e){var n=e.index,u=e.value;i.push(Wr.createPropertyMutation(t.SET_ATTRIBUTE_VALUE,r,u.name,u.value,null,null,n))},delete:function(e){e.index;var n=e.value;i.push(Wr.createPropertyMutation(t.SET_ATTRIBUTE_VALUE,r,n.name,null))},update:function(n){var u=n.index,o=n.newValue,a=n.originalOldIndex,c=n.patchedOldIndex,s=e.attributes[a].value;Br.isEqual(o.value,s)&&u===c||i.push(Wr.createPropertyMutation(t.SET_ATTRIBUTE_VALUE,r,o.name,o.value,null,null,u))}}),"style"===e.tagName&&i.push.apply(i,a(e.sheet,n.sheet,r.concat(["sheet"]))),i.push.apply(i,o(e,n,r)),e.shadow&&n.shadow?i.push.apply(i,u(e.shadow,n.shadow,r.concat(["shadow"]))):e.shadow&&!n.shadow?i.push(Wr.createSetValueMutation(t.REMOVE_SHADOW,r,null)):!e.shadow&&n.shadow&&i.push(Wr.createSetValueMutation(t.ATTACH_SHADOW,r,Fr.compressRootNode(n.shadow))),i},u=function(e,t,n){return o(e,t,n)},o=function(e,n,r){var i=[];return Wr.eachArrayValueMutation(Wr.diffArray(e.childNodes,n.childNodes,d),{insert:function(e){var n=e.index,u=e.value;i.push(Wr.createInsertChildMutation(t.INSERT_CHILD_NODE,r,Fr.compressRootNode(u),n))},delete:function(e){var n=e.index;e.value;i.push(Wr.createRemoveChildMutation(t.REMOVE_CHILD_NODE,r,null,n))},update:function(n){var u=n.index,o=n.newValue,a=n.originalOldIndex,c=n.patchedOldIndex;u!==c&&i.push(Wr.createMoveChildMutation(t.MOVE_CHILD_NODE,r,null,u,c)),i.push.apply(i,t.diffNode(e.childNodes[a],o,r.concat([u])))}}),i},a=function(e,t,n){switch(e.type){case Ir.SlimVMObjectType.STYLE_SHEET:return c(e,t,n);case Ir.SlimVMObjectType.STYLE_RULE:return s(e,t,n);case Ir.SlimVMObjectType.AT_RULE:return l(e,t,n)}return[]},c=function(e,t,n){return f(e,t,n)},s=function(e,n,r){var i=[];return e.selectorText!==n.selectorText&&i.push(Wr.createSetValueMutation(t.CSS_SET_SELECTOR_TEXT,r,n.selectorText)),Wr.eachArrayValueMutation(Wr.diffArray(e.style,n.style,function(e,t){return e.name===t.name?0:-1}),{insert:function(e){var n=e.index,u=e.value;i.push(Wr.createPropertyMutation(t.CSS_SET_STYLE_PROPERTY,r,u.name,u.value,null,null,n))},delete:function(e){var n=e.index;e.value;i.push(Wr.createPropertyMutation(t.CSS_DELETE_STYLE_PROPERTY,r,null,null,null,null,n))},update:function(u){var o=u.newValue,a=u.index,c=u.patchedOldIndex,s=u.originalOldIndex;c!==a&&i.push(Wr.createMoveChildMutation(t.CSS_MOVE_STYLE_PROPERTY,r,o,a,c)),n.style[a].value!==e.style[s].value&&i.push(Wr.createPropertyMutation(t.CSS_SET_STYLE_PROPERTY,r,o.name,o.value,e.style[s].name,e.style[s].value,a))}}),i},l=function(e,n,r){var i=[];return e.params!==n.params&&i.push(Wr.createSetValueMutation(t.CSS_AT_RULE_SET_PARAMS,r,n.params)),i.push.apply(i,f(e,n,r)),i},f=function(e,n,r){var i=[];return Wr.eachArrayValueMutation(Wr.diffArray(e.rules,n.rules,p),{insert:function(e){var n=e.index,u=e.value;i.push(Wr.createInsertChildMutation(t.CSS_INSERT_RULE,r,Fr.compressRootNode(u),n))},delete:function(e){var n=e.index;i.push(Wr.createRemoveChildMutation(t.CSS_DELETE_RULE,r,null,n))},update:function(n){var u=n.newValue,o=n.originalOldIndex,c=n.index,s=n.patchedOldIndex;c!==s&&i.push(Wr.createMoveChildMutation(t.CSS_MOVE_RULE,r,null,c,s)),i.push.apply(i,a(e.rules[o],u,r.concat([c])))}}),i},p=function(e,t){return e.type!==t.type?-1:e.type===Ir.SlimVMObjectType.STYLE_RULE?e.selectorText===t.selectorText?0:1:e.type===Ir.SlimVMObjectType.AT_RULE&&e.params===t.params?0:1},d=function(e,t){if(e.type!==t.type)return-1;if(e.type===Ir.SlimVMObjectType.ELEMENT){var n=e,r=t;return n.tagName!==r.tagName?-1:"style"===n.tagName&&Yr.getAttributeValue("scope",n)!==Yr.getAttributeValue("scope",r)?-1:0}return e.type===Ir.SlimVMObjectType.TEXT?e.value===t.value?0:1:0};t.prepDiff=function(e,n){var r=e.id?kr(Yr.getDocumentChecksum(e)+e.id):null,i=0;return n.map(function(e){switch(e.type){case t.CSS_INSERT_RULE:case t.INSERT_CHILD_NODE:var n=e,u=n.type,o=n.target,a=n.index,c=n.child,s=Fr.uncompressRootNode(c);return r&&(s=Yr.setVMObjectIds(s,r,i),i=Yr.getRefCount(s,r)),Wr.createInsertChildMutation(u,o,s,a);case t.ATTACH_SHADOW:var l=e,u=l.type,o=l.target,f=l.newValue,s=Fr.uncompressRootNode(f);return r&&(s=Yr.setVMObjectIds(s,r,i),i=Yr.getRefCount(s,r)),Wr.createSetValueMutation(u,o,s);default:return e}})},t.patchNode2=function(e,r){var i=Yr.getVMObjectFromPath(e.target,r);if(!i)throw new Error("mutation "+JSON.stringify(e)+" doesn't have a matching node.");var u=i;switch(e.type){case t.SET_TEXT_NODE_VALUE:c=e.newValue;u=Yr.setTextNodeValue(i,c);break;case t.SET_ATTRIBUTE_VALUE:var o=e,a=o.name,c=o.newValue,s=o.index;u=Yr.setElementAttribute(i,a,c,s);break;case t.REMOVE_SHADOW:u=n({},u,{shadow:void 0});break;case t.ATTACH_SHADOW:c=e.newValue;u=n({},u,{shadow:c});break;case t.REMOVE_CHILD_NODE:s=e.index;u=Yr.removeChildNodeAt(u,s);break;case t.INSERT_CHILD_NODE:var l=e,s=l.index,f=l.child;u=Yr.insertChildNode(u,f,s);break;case t.MOVE_CHILD_NODE:var p=e,s=p.index,d=p.oldIndex;u=Yr.moveChildNode(u,d,s);break;case t.CSS_SET_SELECTOR_TEXT:c=e.newValue;u=Yr.setCSSSelectorText(u,c);break;case t.CSS_DELETE_STYLE_PROPERTY:s=e.index;u=Yr.removeCSSStyleProperty(u,s);break;case t.CSS_MOVE_STYLE_PROPERTY:var h=e,s=h.index,d=h.oldIndex;u=Yr.moveCSSStyleProperty(u,d,s);break;case t.CSS_SET_STYLE_PROPERTY:var E=e,v=E.name,c=E.newValue,s=E.index;u=Yr.setCSSStyleProperty(u,s,v,c);break;case t.CSS_INSERT_RULE:var y=e,f=y.child,s=y.index;u=Yr.insertCSSRule(u,f,s);break;case t.CSS_DELETE_RULE:s=e.index;u=Yr.removeCSSRuleAt(u,s);break;case t.CSS_MOVE_RULE:var T=e,s=T.index,d=T.oldIndex;u=Yr.moveCSSRule(u,d,s);break;case t.CSS_AT_RULE_SET_PARAMS:c=e.newValue;u=Yr.setCSSAtRuleSetParams(u,c)}return u!==i&&(r=Yr.replaceNestedChild(r,e.target,u)),r}});r(zr);zr.SET_TEXT_NODE_VALUE,zr.INSERT_CHILD_NODE,zr.REMOVE_CHILD_NODE,zr.MOVE_CHILD_NODE,zr.SET_ATTRIBUTE_VALUE,zr.ATTACH_SHADOW,zr.REMOVE_SHADOW,zr.MOVE_ATTRIBUTE,zr.CSS_INSERT_RULE,zr.CSS_DELETE_RULE,zr.CSS_MOVE_RULE,zr.CSS_SET_STYLE_PROPERTY,zr.CSS_MOVE_STYLE_PROPERTY,zr.CSS_DELETE_STYLE_PROPERTY,zr.CSS_SET_SELECTOR_TEXT,zr.CSS_AT_RULE_SET_PARAMS,zr.diffNode,zr.prepDiff,zr.patchNode2;var Qr=i(function(e,t){var n=gr&&gr.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.renderDOM=function(e,t,n){void 0===n&&(n={});var i={};return t.appendChild(r(e,t.ownerDocument,i,n)),i};var r=function(e,t,n,u){switch(e.type){case Ir.SlimVMObjectType.TEXT:return n[e.id]=t.createTextNode(e.value);case Ir.SlimVMObjectType.ELEMENT:var o=e,a=o.tagName,c=o.id,s=o.shadow,l=o.childNodes,f=o.attributes,p=n[c]=t.createElement(a);s&&p.attachShadow({mode:"open"}).appendChild(r(s,t,n,u)),"style"===a&&i(e.sheet,p,u);for(var d=0,h=f.length;d<h;d++){var E=f[d];"style"===E.name?"object"==typeof E.value&&Object.assign(p[E.name],E.value):"object"!=typeof E.value&&p.setAttribute(E.name,E.value)}for(var d=0,v=l.length;d<v;d++)p.appendChild(r(l[d],t,n,u));return p;case Ir.SlimVMObjectType.DOCUMENT_FRAGMENT:for(var l=e.childNodes,y=t.createDocumentFragment(),d=0,T=l.length;d<T;d++)y.appendChild(r(l[d],t,n,u));return y;default:return console.warn("Unable to render node"),t.createTextNode("")}},i=function(e,t,n){t.textContent=u(e,n)},u=function(e,t){for(var n="",r=0,i=e.rules.length;r<i;r++){e.rules[r];var u=o(e.rules[r],t);u&&(n+=u+"\n")}return n},o=function(e,t){switch(e.type){case Ir.SlimVMObjectType.STYLE_RULE:var n=e,r=n.selectorText,i=n.style;return r+" { "+a(i)+" }";case Ir.SlimVMObjectType.FONT_FACE_RULE:i=e.style;return"@font-face { "+a(i)+" }";case Ir.SlimVMObjectType.AT_RULE:var u=e,c=u.name,s=u.params,l=u.rules;return/^(charset|import)$/.test(c)?"@"+c+' "'+s+'";':"@"+c+" "+s+" { "+l.map(function(e){return o(e,t)}).join(" ")+" }"}},a=function(e){var t="";for(var n in e)"id"!==n&&(t+=n+": "+e[n]+";");return t};t.computedDOMInfo=function(e){var t={};for(var n in e){var r=e[n];if(r&&"#"!==r.nodeName.charAt(0)){var i=r;if(!i.ownerDocument.defaultView)return console.warn("Element is not attached to the document body."),{};t[n]={bounds:i.getBoundingClientRect(),style:i.ownerDocument.defaultView.getComputedStyle(i)}}}return t};var c=function(e,t){for(var n=t,r=0,i=e.length;r<i;r++){var u=e[r];if(!(n="shadow"===u?n.shadowRoot:n.childNodes[u]))return null}return n},s=function(e,t){for(var n=[];e!==t;)e.host?n.unshift("shadow"):n.unshift(Array.prototype.indexOf.call(e.parentNode.childNodes,e)),e=e.host||e.parentNode;return n};t.patchDOM=function(e,t,i,u,a){void 0===a&&(a={});for(var l=[],f=0,p=e.length;f<p;f++){var d=e[f],h=c(d.target,u);switch(d.type){case zr.SET_TEXT_NODE_VALUE:h.nodeValue=d.newValue;break;case zr.SET_ATTRIBUTE_VALUE:var E=d,v=E.name,y=E.newValue;y?h.setAttribute(v,y):h.removeAttribute(v);break;case zr.REMOVE_CHILD_NODE:var T=d,_=T.child,g=T.index;i=n({},i,(U={},U[_]=void 0,U)),h.removeChild(h.childNodes[g]);break;case zr.INSERT_CHILD_NODE:var m=d,_=m.child,g=m.index,S={},N=r(_,u.ownerDocument,S,a);g>=h.childNodes.length?h.appendChild(N):h.insertBefore(N,h.childNodes[g]),i=n({},i,S);break;case zr.MOVE_CHILD_NODE:var R=d,g=R.index,O=R.oldIndex,_=h.childNodes[O];h.removeChild(_),g>=h.childNodes.length?h.appendChild(_):h.insertBefore(_,h.childNodes[g]);break;case zr.CSS_INSERT_RULE:case zr.CSS_DELETE_RULE:case zr.CSS_MOVE_RULE:case zr.CSS_SET_SELECTOR_TEXT:case zr.CSS_SET_STYLE_PROPERTY:var C=d.target.slice(0,d.target.indexOf("sheet")),A=c(C,u);-1===l.indexOf(A)&&l.push(A)}}for(var b=0,x=l;b<x.length;b++){for(var A=x[b],M=Yr.getVMObjectFromPath(s(A,u),t),L=A.sheet,I=M.sheet.rules;L.rules.length;)L.deleteRule(0);for(var f=0,w=I.length;f<w;f++){I[f];var P=o(M.sheet.rules[f],a);try{L.insertRule(P,f)}catch(e){}}}return i;var U}});r(Qr);Qr.renderDOM,Qr.computedDOMInfo,Qr.patchDOM;var Xr=i(function(e,t){var n=gr&&gr.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.renderDOM2=function(e,t){var n={},u={};return t.appendChild(r(e,t.ownerDocument,{map:n,root:e})),i(e,t,{map:{dom:n,cssom:u}}),{dom:n,cssom:u}};var r=function(e,t,i){switch(e.type){case Ir.SlimVMObjectType.ELEMENT:var u=e,o=u.tagName,a=(u.type,u.id,u.shadow),c=(u.childNodes,u.attributes);if("style"===o)return null;if("slot"===o){var s=t.createDocumentFragment();s.appendChild(i.map[e.id]=t.createTextNode(""));var l=i.host;if(l)for(var p=Yr.getAttributeValue("name",e),h=Yr.getSlotChildrenByName(p,l),E=0,v=h.length;E<v;E++){var T=h[E];s.appendChild(r(T,t,n({},i,{host:N(T,i.root)})))}return 1===s.childNodes.length&&d(e,s,t,i),s}for(var _=i.map[e.id]=t.createElement(o),E=0,g=c.length;E<g;E++){var m=c[E];y(_,m.name,m.value)}if(i.host&&_.classList.add(f(i.host)),a&&_.classList.add(f(e)+"_host"),a){i.map[a.id]=_;var S=r(a,t,n({},i,{host:e}));_.appendChild(S)}else d(e,_,t,i);return _;case Ir.SlimVMObjectType.TEXT:var R=e;return i.map[R.id]=t.createTextNode(R.value);case Ir.SlimVMObjectType.DOCUMENT:case Ir.SlimVMObjectType.DOCUMENT_FRAGMENT:var O=t.createDocumentFragment();return d(e,O,t,i),O}return null},i=function(e,t,r){if(e.type===Ir.SlimVMObjectType.ELEMENT){var o=e;"style"===o.tagName?u(o,t,r):o.shadow&&i(o.shadow,t,n({},r,{host:o}))}if(e.childNodes)for(var a=e,c=0,s=a.childNodes.length;c<s;c++)i(a.childNodes[c],t,r)},u=function(e,t,r,i){void 0===i&&(i=Number.MAX_SAFE_INTEGER);var u=t.ownerDocument.createElement("style");r.map.dom[e.id]=u,u.appendChild(t.ownerDocument.createTextNode("")),m(u,i,t);var a=u.sheet;r.map.cssom[e.sheet.id]=a;var c=Yr.getAttributeValue("scope",e);o(e.sheet,a,n({},r,{scope:c}))},o=function(e,t,n){for(var r=0,i=e.rules.length;r<i;r++)a(e.rules[r],t,n,r)},a=function(e,t,n,r){r=Math.min(r,t.cssRules.length);for(var i=c(e,n);;){try{t.insertRule?t.insertRule(i,r):t.appendRule(i,r)}catch(t){console.warn("Unable to insert "+i+" style. Inserting placeholder rule."),console.warn(t.stack),e.type===Ir.SlimVMObjectType.STYLE_RULE?i=".___placeholder {}":e.type===Ir.SlimVMObjectType.AT_RULE&&(i="@media screen and (min-width: 999999999px) { }");continue}break}n.map.cssom[e.id]=t.cssRules[r],e.rules&&o(e,n.map.cssom[e.id],n)},c=function(e,t){switch(e.type){case Ir.SlimVMObjectType.STYLE_RULE:var n=e,r=n.selectorText,i=n.style;return p(r,t.scope)+" { "+s(i)+" }";case Ir.SlimVMObjectType.FONT_FACE_RULE:i=e.style;return"@font-face { "+s(i)+" }";case Ir.SlimVMObjectType.AT_RULE:var u=e,o=u.name,a=u.params;u.rules;return/^(charset|import)$/.test(o)?"@"+o+' "'+a+'";':"@"+o+" "+a+" { }"}},s=function(e){for(var t="",n=0,r=e;n<r.length;n++){var i=r[n];t+=i.name+": "+i.value+";"}return t},l=function(e){return"__"+e+"_scope"},f=function(e){var t=e.tagName;return l(t)},p=function(e,t){return t?Yr.compileScopedCSS(e,l(t)):e},d=function(e,t,n,i){for(var u=e.childNodes,o=0,a=u.length;o<a;o++){var c=r(u[o],n,i);c&&t.appendChild(c)}},h=function(e,t){if(t=_(t,(r={},r[e.id]=void 0,r)),e.rules)for(var n=e.rules.length;n--;)t=h(e.rules[n],t);return t;var r},E=function(e,t){if(t=v(t,(i={},i[e.id]=void 0,i)),e.shadow&&(t=E(e.shadow,t)),e.childNodes)for(var n=e,r=n.childNodes.length;r--;)t=E(n.childNodes[r],t);return t;var i};t.patchDOM2=function(e,t,n,i){var c=Yr.getVMObjectFromPath(e.target,t),s=n.ownerDocument;switch(e.type){case zr.SET_TEXT_NODE_VALUE:(b=i.dom[c.id]).nodeValue=e.newValue;break;case zr.REMOVE_CHILD_NODE:var l=e.index,f=c.childNodes[l];i=g(f,i);break;case zr.SET_ATTRIBUTE_VALUE:var d=e,R=d.name,C=d.newValue,A=c,b=i.dom[c.id];if("slot"===A.tagName){if("name"===R){for(var x=S(e,t),M=Yr.getSlotChildren(A,x),L=M.length;L--;){f=M[L];i=g(f,i)}for(var I=Yr.getSlotChildrenByName(C,x),w=b.parentNode,P=Array.prototype.indexOf.call(w.childNodes,b),U={},L=0,D=I.length;L<D;L++){var f=I[L],V=N(f,t),B=r(I[L],b.ownerDocument,{root:t,map:U,host:V});m(B,P+L+1,w)}i=v(i,U)}}else C?y(b,R,C):(b.removeAttribute(R),delete b.dataset[R.toLowerCase()]);break;case zr.INSERT_CHILD_NODE:var j=e,f=j.child,k=l=j.index,w=void 0;if(c.shadow){var Y=Yr.getSlot(Yr.getNodeSlotName(f),c),F=i.dom[Y.id],K=F.parentNode;w=K,k=Array.prototype.indexOf.call(K.childNodes,F)+l+1}else w=i.dom[c.id];var G={},H={},$=S(e,t);if(f.type===Ir.SlimVMObjectType.ELEMENT&&"style"===f.tagName)u(f,n,{host:N(f,t),map:{cssom:H,dom:G}});else{var W=r(f,s,{map:G,root:t,host:$});m(W,k,w)}i=T(i,{cssom:H,dom:G});break;case zr.MOVE_CHILD_NODE:var z=e,l=z.index,Q=z.oldIndex,X=c.childNodes[Q];(w=(W=i.dom[X.id]).parentNode).removeChild(W),m(W,l,w);break;case zr.CSS_SET_SELECTOR_TEXT:var C=e.newValue,b=i.cssom[c.id],x=O(e.target,t);b.selectorText=p(C,Yr.getAttributeValue("scope",x));break;case zr.CSS_DELETE_RULE:var l=e.index,X=(i.cssom[c.id],c.rules[l]),q=(W=i.cssom[X.id]).parentRule||W.parentStyleSheet;q.deleteRule(Array.prototype.indexOf.call(q.cssRules,W)),i=T(i,h(X,i));break;case zr.CSS_DELETE_STYLE_PROPERTY:var l=e.index,J=c.style[l].name;(b=i.cssom[c.id]).style.removeProperty(J);break;case zr.CSS_SET_STYLE_PROPERTY:var Z=e,ee=Z.name,C=Z.newValue,b=i.cssom[c.id];null==C?b.style.removeProperty(ee):b.style.setProperty(ee,C);break;case zr.CSS_AT_RULE_SET_PARAMS:C=e.newValue;(b=i.cssom[c.id]).conditionText=C;break;case zr.REMOVE_SHADOW:case zr.ATTACH_SHADOW:var te=zr.patchNode2(e,t),ne=Yr.getVMObjectFromPath(e.target,te),w=(b=i.dom[c.id]).parentNode,l=Array.prototype.indexOf.call(w.childNodes,b);w.removeChild(b),i=E(c,i);var G={},re=r(ne,document,{root:te,host:N(ne,te),map:G});m(re,l,w),i=v(i,G);break;case zr.CSS_MOVE_RULE:var ie=e,l=ie.index,Q=ie.oldIndex,b=i.cssom[c.id],H={},ue=O(e.target,t),oe=Yr.getAttributeValue("scope",ue);if(b.appendRule){for(var te=zr.patchNode2(e,t),ae=Yr.getVMObjectFromPath(e.target,te);b.cssRules.length;)b.deleteRule(0);o(ae,b,{map:{cssom:H,dom:{}},scope:oe})}else b.deleteRule(Q),a(c.rules[Q],b,{map:{cssom:H,dom:{}},scope:oe},l);i=_(i,H);break;case zr.CSS_INSERT_RULE:var ce=e,l=ce.index,f=ce.child,H={},ue=O(e.target,t);a(f,i.cssom[c.id],{map:{cssom:H,dom:{}},scope:Yr.getAttributeValue("scope",ue)},l),i=_(i,H)}return i};var v=function(e,t){return n({},e,{dom:n({},e.dom,t)})},y=function(e,t,n){"style"===t&&"object"==typeof n?Object.assign(e[t],n):"object"!=typeof n&&e.setAttribute(t,n),e.dataset[t.toLowerCase()]="true"},T=function(e,t){return n({},e,{dom:n({},e.dom,t.dom),cssom:n({},e.cssom,t.cssom)})},_=function(e,t){return n({},e,{cssom:n({},e.cssom,t)})},g=function(e,t,n){void 0===n&&(n=!0);var r=t.dom[e.id];if(!r)throw new Error("VM node does not have an associative DOM element");if(r.parentNode.removeChild(r),"slot"===e.tagName)for(var i=e,u=i.childNodes.length;u--;)g(i.childNodes[u],t,!1);return n&&(t=E(e,t)),t},m=function(e,t,n){t>=n.childNodes.length?n.appendChild(e):n.insertBefore(e,n.childNodes[t])},S=function(e,t){return R(e.target,t)},N=function(e,t){return R(Yr.getVMObjectPath(e,t),t)},R=wr.weakMemo(function(e,t){var n=e.lastIndexOf("shadow");return-1===n?null:Yr.getVMObjectFromPath(e.slice(0,n),t)}),O=wr.weakMemo(function(e,t){var n=e.lastIndexOf("sheet");return-1===n?null:Yr.getVMObjectFromPath(e.slice(0,n),t)});t.computedDOMInfo2=function(e){var t={};for(var n in e.dom){var r=e.dom[n];if(r&&Yr.getVMObjectIdType(n)===Ir.SlimVMObjectType.ELEMENT&&"#"!==r.nodeName.charAt(0)){var i=r;if(!i.ownerDocument.defaultView)return console.warn("Element is not attached to the document body."),{};t[n]={bounds:i.getBoundingClientRect(),style:i.ownerDocument.defaultView.getComputedStyle(i)}}}return t}});r(Xr);Xr.renderDOM2,Xr.patchDOM2,Xr.computedDOMInfo2;var qr=i(function(e,t){function n(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(Ir),n(Yr),n(Fr),n(Qr),n(zr),n(Dr),n(Vr),n(Xr)});r(qr);var Jr=qr,Zr=(Jr.NodeType,Jr.pushChildNode),ei=(Jr.CSSRuleType,Jr.SlimVMObjectType),ti=function(t){var n=t.entry,r=n.filePath,i=n.componentId,u=n.previewName,o=t.graph,a=t.directoryAliases,c=void 0===a?{}:a,s="__memo$$"+r+i+u;if(o[s])return o[s];var l={refCount:0,currentProps:{},currentURI:He(o)[i],graph:o,directoryAliases:c,components:Ge(o),diagnostics:[]},f=l.components[i];if(!f)return{document:null,diagnostics:[{type:e.DiagnosticType.ERROR,message:'Component "'+i+'" does not exist',filePath:null,location:null}]};var p=u?ct(u,f):f.previews[0];return p?o[s]={document:ni(p.source,l),diagnostics:[]}:{document:null,diagnostics:[{type:e.DiagnosticType.ERROR,message:'Preview "'+u+'" does not exist for component "'+i+'"',filePath:null,location:null}]}},ni=function(e,t){var n={type:ei.DOCUMENT_FRAGMENT,childNodes:[],source:Ti(e,t)};t.currentURI;return n=ri(n,t,{}),n=fi(n,e.childNodes,t)},ri=function(t,n,r){var i=n.currentURI,u=n.graph[i],o=u.module,a=u.resolvedImportUris,c=ui(n);for(var s in c){var l=c[s];t=Zr(t,ii(l,n,s))}if(o.type===e.PCModuleType.COMPONENT)for(var f=o.globalStyles,p=0,d=f.length;p<d;p++){var h=f[p];t=Zr(t,ii(h.childNodes[0],n))}else if(o.type===e.PCModuleType.CSS){var E=o.source;t=Zr(t,ii(E,n))}for(var v in a){var y=a[v];r[y]||(r[y]=!0,n.currentURI=y,n.graph[n.currentURI]&&(t=ri(t,n,r)),n.currentURI=i)}return t},ii=function(e,t,n){var r=[];return n&&r.push({name:"scope",value:n}),{type:ei.ELEMENT,tagName:"style",attributes:r,childNodes:[],source:null,sheet:hi(e,t)}},ui=function(t){var n={},r=t.graph[t.currentURI].module;if(r.type===e.PCModuleType.COMPONENT)for(var i=r,u=0,o=i.components.length;u<o;u++){var a=i.components[u];a.style&&(n[a.id]=a.style.childNodes[0])}return n},oi=function(t,n,r){for(var i,o=n.type===e.PCExpressionType.SELF_CLOSING_ELEMENT?n:n.startTag,a=0,c=o.modifiers.length;a<c;a++){var s=o.modifiers[a].value;if(s.type===e.BKExpressionType.REPEAT){i=s;break}}return i?j(yi(i.each,r),function(e,o){var a=r.currentProps;r.currentProps=u({},r.currentProps,(c={},c[i.asValue.name]=e,c[i.asKey?i.asKey.name:"__i"]=o,c)),t=ai(t,n,r),r.currentProps=a;var c}):t=ai(t,n,r),t},ai=function(t,n,r){var i,u;if(n.type===e.PCExpressionType.SELF_CLOSING_ELEMENT)u=[],i=n;else{var o=n;u=o.childNodes,i=o.startTag}var a=i.name;if("link"===a||"style"===a)return t;for(var c=[],s={},l=0,f=i.attributes.length;l<f;l++){var p=i.attributes[l],d=ci(p.name,si(p.value,r));s[p.name]=d,c.push({name:p.name,value:d})}for(var l=0,f=i.modifiers.length;l<f;l++){var h=i.modifiers[l].value;if(h.type===e.BKExpressionType.BIND){var E=yi(h,r)||{};for(var v in E)!1!==(d=E[v])&&null!=d&&c.push({name:v,value:d});Object.assign(s,E)}}var y,T=r.components[a];if(T){y={type:ei.DOCUMENT_FRAGMENT,childNodes:[],source:Ti(T.source,r)};var _=r.currentURI,g=r.currentProps;r.currentURI=He(r.graph)[T.id],r.currentProps=s,T.style&&(y=li(y,T.style,r)),y=fi(y,T.template.childNodes,r),r.currentURI=_,r.currentProps=g}var m={type:ei.ELEMENT,tagName:a,attributes:c,childNodes:[],source:Ti(n,r),shadow:y};return m=fi(m,u,r),t=Zr(t,m)},ci=function(e,t){return t},si=function(t,n){return!t||(t.type===e.PCExpressionType.STRING_BLOCK?t.values.map(function(e){return si(e,n)}).join(""):t.type===e.PCExpressionType.STRING?t.value:yi(t.value,n))},li=function(t,n,r){switch(n.type){case e.PCExpressionType.TEXT_NODE:return pi(t,n,r);case e.PCExpressionType.BLOCK:return di(t,n,r);case e.PCExpressionType.ELEMENT:case e.PCExpressionType.SELF_CLOSING_ELEMENT:return oi(t,n,r);default:return t}},fi=function(t,n,r){for(var i,u=0,o=n.length;u<o;u++){var a=void 0,c=n[u];if(a=c.type===e.PCExpressionType.ELEMENT?c.startTag:c.type===e.PCExpressionType.SELF_CLOSING_ELEMENT?c:null){for(var s=void 0,l=void 0,f=0,p=a.modifiers.length;f<p;f++){var d=a.modifiers[f].value;d.type===e.BKExpressionType.IF||d.type===e.BKExpressionType.ELSEIF?(s=d,l=!0,i=d.type!==e.BKExpressionType.IF&&i):d.type===e.BKExpressionType.ELSE&&(l=!0)}if(l){if(i||s&&!yi(s.condition,r))continue;i=!0}}t=li(t,n[u],r)}return t},pi=function(e,t,n){return Zr(e,{type:ei.TEXT,value:String(t.value||"")||" ",source:Ti(t,n)})},di=function(e,t,n){return Zr(e,{type:ei.TEXT,value:yi(t.value,n),source:Ti(t,n)})},hi=function(e,t){for(var n=new Array(e.children.length),r=0,i=e.children.length;r<i;r++){var u=e.children[r];n[r]=Ei(u,t)}return{rules:n,type:ei.STYLE_SHEET,source:Ti(e,t)}},Ei=function(n,r){var i=Ti(n,r);if(n.type===e.CSSExpressionType.STYLE_RULE||n.type===e.CSSExpressionType.AT_RULE&&"font-face"===n.name){for(var u=n,o=u.selectorText,a=[],c=0,s=(E=u.children).length;c<s;c++)if((y=E[c]).type===e.CSSExpressionType.DECLARATION_PROPERTY){var l=y,f=l.value;/url\(/.test(f)&&(f=f.replace(/url\(["'](.*?)["']\)/g,function(e,n){return"."===n.charAt(0)||"/"===n.charAt(0)?'url("'+vi(t.resolve(t.dirname(r.currentURI),n),r)+'")':e})),a.push({name:l.name,value:f})}return n.type===e.CSSExpressionType.AT_RULE?{type:ei.FONT_FACE_RULE,style:a,source:i}:{type:ei.STYLE_RULE,selectorText:o,style:a,source:i}}if(n.type===e.CSSExpressionType.AT_RULE){for(var p=n,d=p.name,h=p.params,E=p.children,v=new Array(E.length),c=0,s=E.length;c<s;c++){var y=E[c];v[c]=Ei(y,r)}if("import"===d){var T=r.graph[r.currentURI].resolvedImportUris[h[0]];T?h=[vi(T,r)]:console.error("Unresolved CSS import: "+h[0])}return{name:d,type:ei.AT_RULE,params:h.join("").trim(),rules:v,source:i}}},vi=function(e,t){for(var n in t.directoryAliases)if(0===e.indexOf(n))return e.replace(n,t.directoryAliases[n]);return e},yi=function(t,n){switch(t.type){case e.BKExpressionType.OPERATION:var r=t,i=r.left,u=r.operator,o=r.right,a=yi(i,n),c=yi(o,n);switch(u){case"+":return a+c;case"-":return a-c;case"*":return a*c;case"/":return a/c;case"%":return a%c;case"&&":return a&&c;case"||":return a||c;case"==":return a==c;case"===":return a===c;case"!=":return a!=c;case"!==":return a!==c;case">":return a>c;case">=":return a>=c;case"<":return a<c;case"<=":return a<=c}case e.BKExpressionType.NUMBER:return Number(t.value);case e.BKExpressionType.STRING:return String(t.value);case e.BKExpressionType.OBJECT:for(var s={},l=0,f=t.properties;l<f.length;l++){var p=f[l],d=p.key,h=p.value;s[d]=yi(h,n)}return s;case e.BKExpressionType.ARRAY:for(var s=[],E=0,v=t.values;E<v.length;E++){h=v[E];s.push(yi(h,n))}return s;case e.BKExpressionType.NOT:return!yi(t.value,n);case e.BKExpressionType.GROUP:case e.BKExpressionType.BIND:return yi(t.value,n);case e.BKExpressionType.RESERVED_KEYWORD:if("null"===(h=t.value))return null;if("undefined"===h)return;if("false"===h||"true"===h)return"true"===h;return;case e.BKExpressionType.IF:case e.BKExpressionType.ELSEIF:return yi(t.condition,n);case e.BKExpressionType.PROP_REFERENCE:case e.BKExpressionType.VAR_REFERENCE:for(var y=gt(t),T=n.currentProps,_=0,g=y.length;_<g&&(T=T[y[_]]);_++);return T;default:return null}},Ti=function(e,t){return{type:e.type,uri:t.currentURI,range:{start:e.location.start,end:e.location.end}}};e.getElementChildNodes=o,e.getElementTagName=a,e.getAttributeStringValue=c,e.getElementAttributes=s,e.getElementModifiers=l,e.isTag=f,e.filterPCElementsByStartTag=p,e.getElementStartTag=d,e.getPCStartTagAttribute=h,e.hasPCStartTagAttribute=E,e.getPCStyleElements=v,e.getPCLinkStyleElements=y,e.getPCCSSElements=T,e.getPCMetaTags=_,e.getPCMetaName=g,e.traversePCAST=m,e.getStartTag=S,e.getPCElementModifier=N,e.getExpressionPath=R,e.filterPCASTTree=O,e.getPCASTElementsByTagName=C,e.getPCParent=A,e.getAllChildElementNames=b,e.parseModuleSource=z,e.parseStyleSource=Q,e.createString=oe,e.eatWhitespace=Ue,e.throwUnexpectedToken=Ve,e.addUnexpectedToken=Be,e.testCurrTokenExists=je,e.testCurrTokenType=ke,e.DEFAULT_PREVIEW_SIZE=Ye,e.bundleVanilla=En,e.transpileBlockExpression=vn,e.transpileStyleElement=Pn,e.addStyleElementSheet=Un,e.transpileCSSSheet=Jn,e.loadModuleAST=Ke,e.getAllComponents=Ge,e.getComponentSourceUris=He,e.defaultResolveModulePath=$e,e.getChildComponentInfo=We,e.getDependencyGraphComponentsExpressions=ze,e.getDependencyChildComponentInfo=Qe,e.getModuleComponent=Xe,e.getUsedDependencies=qe,e.getImportDependencies=Je,e.getComponentDependency=Ze,e.loadModuleDependencyGraph=et,e.parseMetaContent=it,e.getComponentMetadataItems=ut,e.getComponentMetadataItem=ot,e.getComponentPreview=ct,e.loadComponentTypes=cr,e.parseDeclaration=lr,e.stringifyDeclarationAST=_r,e.editPaperclipSource=Cr,e.PC_REMOVE_CHILD_NODE="PC_REMOVE_CHILD_NODE",e.PC_REMOVE_NODE="PC_REMOVE_NODE",e.INSERT_HTML_EDIT="INSERT_HTML_EDIT",e.createPCRemoveChildNodeMutation=xr,e.createPCRemoveNodeMutation=Mr,e.createInsertHTMLMutation=Lr,e.generatePrettyErrorMessage=M,e.diagnosticsContainsError=L,e.EACH_KEY="$$each",e.EAT_KEY="$$eat",e.ANY_REFERENCE=ft,e.inferNodeProps=pt,e.getReferenceKeyPath=gt,e.getNestedInference=At,e.getTypeLabels=Lt,e.getPrettyTypeLabelEnd=It,e.isValidReturnType=jt,e.lintDependencyGraph=Kt,e.runPCFile=ti,Object.defineProperty(e,"__esModule",{value:!0})});
